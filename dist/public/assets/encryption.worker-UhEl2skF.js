(function(){"use strict";var Dr={},re=function(r,e,n,a,f){var v=new Worker(Dr[e]||(Dr[e]=URL.createObjectURL(new Blob([r+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return v.onmessage=function(o){var l=o.data,c=l.$e$;if(c){var g=new Error(c[0]);g.code=c[1],g.stack=c[2],f(g,null)}else f(null,l)},v.postMessage(n,a),v},b=Uint8Array,O=Uint16Array,vr=Int32Array,j=new b([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_=new b([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tr=new b([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$r=function(r,e){for(var n=new O(31),a=0;a<31;++a)n[a]=e+=1<<r[a-1];for(var f=new vr(n[30]),a=1;a<30;++a)for(var v=n[a];v<n[a+1];++v)f[v]=v-n[a]<<5|a;return{b:n,r:f}},Br=$r(j,2),Ar=Br.b,sr=Br.r;Ar[28]=258,sr[258]=28;for(var Ir=$r(_,0),Rr=Ir.b,pr=Ir.r,ir=new O(32768),y=0;y<32768;++y){var Y=(y&43690)>>1|(y&21845)<<1;Y=(Y&52428)>>2|(Y&13107)<<2,Y=(Y&61680)>>4|(Y&3855)<<4,ir[y]=((Y&65280)>>8|(Y&255)<<8)>>1}for(var V=function(r,e,n){for(var a=r.length,f=0,v=new O(e);f<a;++f)r[f]&&++v[r[f]-1];var o=new O(e);for(f=1;f<e;++f)o[f]=o[f-1]+v[f-1]<<1;var l;if(n){l=new O(1<<e);var c=15-e;for(f=0;f<a;++f)if(r[f])for(var g=f<<4|r[f],t=e-r[f],i=o[r[f]-1]++<<t,s=i|(1<<t)-1;i<=s;++i)l[ir[i]>>c]=g}else for(l=new O(a),f=0;f<a;++f)r[f]&&(l[f]=ir[o[r[f]-1]++]>>15-r[f]);return l},Q=new b(288),y=0;y<144;++y)Q[y]=8;for(var y=144;y<256;++y)Q[y]=9;for(var y=256;y<280;++y)Q[y]=7;for(var y=280;y<288;++y)Q[y]=8;for(var d=new b(32),y=0;y<32;++y)d[y]=5;var Gr=V(Q,9,0),Lr=V(Q,9,1),Pr=V(d,5,0),qr=V(d,5,1),gr=function(r){for(var e=r[0],n=1;n<r.length;++n)r[n]>e&&(e=r[n]);return e},W=function(r,e,n){var a=e/8|0;return(r[a]|r[a+1]<<8)>>(e&7)&n},wr=function(r,e){var n=e/8|0;return(r[n]|r[n+1]<<8|r[n+2]<<16)>>(e&7)},or=function(r){return(r+7)/8|0},hr=function(r,e,n){return(e==null||e<0)&&(e=0),(n==null||n>r.length)&&(n=r.length),new b(r.subarray(e,n))},Vr=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$=function(r,e,n){var a=new Error(e||Vr[r]);if(a.code=r,Error.captureStackTrace&&Error.captureStackTrace(a,$),!n)throw a;return a},Fr=function(r,e,n,a){var f=r.length,v=a?a.length:0;if(!f||e.f&&!e.l)return n||new b(0);var o=!n,l=o||e.i!=2,c=e.i;o&&(n=new b(f*3));var g=function(cr){var ur=n.length;if(cr>ur){var fr=new b(Math.max(ur*2,cr));fr.set(n),n=fr}},t=e.f||0,i=e.p||0,s=e.b||0,h=e.l,x=e.d,M=e.m,B=e.n,J=f*8;do{if(!h){t=W(r,i,1);var G=W(r,i+1,3);if(i+=3,G)if(G==1)h=Lr,x=qr,M=9,B=5;else if(G==2){var D=W(r,i,31)+257,p=W(r,i+10,15)+4,w=D+W(r,i+5,31)+1;i+=14;for(var u=new b(w),F=new b(19),m=0;m<p;++m)F[tr[m]]=W(r,i+m*3,7);i+=p*3;for(var S=gr(F),Z=(1<<S)-1,L=V(F,S,1),m=0;m<w;){var I=L[W(r,i,Z)];i+=I&15;var A=I>>4;if(A<16)u[m++]=A;else{var U=0,k=0;for(A==16?(k=3+W(r,i,3),i+=2,U=u[m-1]):A==17?(k=3+W(r,i,7),i+=3):A==18&&(k=11+W(r,i,127),i+=7);k--;)u[m++]=U}}var R=u.subarray(0,D),C=u.subarray(D);M=gr(R),B=gr(C),h=V(R,M,1),x=V(C,B,1)}else $(1);else{var A=or(i)+4,T=r[A-4]|r[A-3]<<8,E=A+T;if(E>f){c&&$(0);break}l&&g(s+T),n.set(r.subarray(A,E),s),e.b=s+=T,e.p=i=E*8,e.f=t;continue}if(i>J){c&&$(0);break}}l&&g(s+131072);for(var lr=(1<<M)-1,H=(1<<B)-1,X=i;;X=i){var U=h[wr(r,i)&lr],P=U>>4;if(i+=U&15,i>J){c&&$(0);break}if(U||$(2),P<256)n[s++]=P;else if(P==256){X=i,h=null;break}else{var q=P-254;if(P>264){var m=P-257,z=j[m];q=W(r,i,(1<<z)-1)+Ar[m],i+=z}var N=x[wr(r,i)&H],nr=N>>4;N||$(3),i+=N&15;var C=Rr[nr];if(nr>3){var z=_[nr];C+=wr(r,i)&(1<<z)-1,i+=z}if(i>J){c&&$(0);break}l&&g(s+131072);var ar=s+q;if(s<C){var mr=v-C,xr=Math.min(C,ar);for(mr+s<0&&$(3);s<xr;++s)n[s]=a[mr+s]}for(;s<ar;++s)n[s]=n[s-C]}}e.l=h,e.p=X,e.b=s,e.f=t,h&&(t=1,e.m=M,e.d=x,e.n=B)}while(!t);return s!=n.length&&o?hr(n,0,s):n.subarray(0,s)},K=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8},rr=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8,r[a+2]|=n>>16},yr=function(r,e){for(var n=[],a=0;a<r.length;++a)r[a]&&n.push({s:a,f:r[a]});var f=n.length,v=n.slice();if(!f)return{t:Sr,l:0};if(f==1){var o=new b(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(E,D){return E.f-D.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],g=0,t=1,i=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};t!=f-1;)l=n[n[g].f<n[i].f?g++:i++],c=n[g!=t&&n[g].f<n[i].f?g++:i++],n[t++]={s:-1,f:l.f+c.f,l,r:c};for(var s=v[0].s,a=1;a<f;++a)v[a].s>s&&(s=v[a].s);var h=new O(s+1),x=Mr(n[t-1],h,0);if(x>e){var a=0,M=0,B=x-e,J=1<<B;for(v.sort(function(D,p){return h[p.s]-h[D.s]||D.f-p.f});a<f;++a){var G=v[a].s;if(h[G]>e)M+=J-(1<<x-h[G]),h[G]=e;else break}for(M>>=B;M>0;){var A=v[a].s;h[A]<e?M-=1<<e-h[A]++-1:++a}for(;a>=0&&M;--a){var T=v[a].s;h[T]==e&&(--h[T],++M)}x=e}return{t:new b(h),l:x}},Mr=function(r,e,n){return r.s==-1?Math.max(Mr(r.l,e,n+1),Mr(r.r,e,n+1)):e[r.s]=n},Ur=function(r){for(var e=r.length;e&&!r[--e];);for(var n=new O(++e),a=0,f=r[0],v=1,o=function(c){n[a++]=c},l=1;l<=e;++l)if(r[l]==f&&l!=e)++v;else{if(!f&&v>2){for(;v>138;v-=138)o(32754);v>2&&(o(v>10?v-11<<5|28690:v-3<<5|12305),v=0)}else if(v>3){for(o(f),--v;v>6;v-=6)o(8304);v>2&&(o(v-3<<5|8208),v=0)}for(;v--;)o(f);v=1,f=r[l]}return{c:n.subarray(0,a),n:e}},er=function(r,e){for(var n=0,a=0;a<e.length;++a)n+=r[a]*e[a];return n},Cr=function(r,e,n){var a=n.length,f=or(e+2);r[f]=a&255,r[f+1]=a>>8,r[f+2]=r[f]^255,r[f+3]=r[f+1]^255;for(var v=0;v<a;++v)r[f+v+4]=n[v];return(f+4+a)*8},Er=function(r,e,n,a,f,v,o,l,c,g,t){K(e,t++,n),++f[256];for(var i=yr(f,15),s=i.t,h=i.l,x=yr(v,15),M=x.t,B=x.l,J=Ur(s),G=J.c,A=J.n,T=Ur(M),E=T.c,D=T.n,p=new O(19),w=0;w<G.length;++w)++p[G[w]&31];for(var w=0;w<E.length;++w)++p[E[w]&31];for(var u=yr(p,7),F=u.t,m=u.l,S=19;S>4&&!F[tr[S-1]];--S);var Z=g+5<<3,L=er(f,Q)+er(v,d)+o,I=er(f,s)+er(v,M)+o+14+3*S+er(p,F)+2*p[16]+3*p[17]+7*p[18];if(c>=0&&Z<=L&&Z<=I)return Cr(e,t,r.subarray(c,c+g));var U,k,R,C;if(K(e,t,1+(I<L)),t+=2,I<L){U=V(s,h,0),k=s,R=V(M,B,0),C=M;var lr=V(F,m,0);K(e,t,A-257),K(e,t+5,D-1),K(e,t+10,S-4),t+=14;for(var w=0;w<S;++w)K(e,t+3*w,F[tr[w]]);t+=3*S;for(var H=[G,E],X=0;X<2;++X)for(var P=H[X],w=0;w<P.length;++w){var q=P[w]&31;K(e,t,lr[q]),t+=F[q],q>15&&(K(e,t,P[w]>>5&127),t+=P[w]>>12)}}else U=Gr,k=Q,R=Pr,C=d;for(var w=0;w<l;++w){var z=a[w];if(z>255){var q=z>>18&31;rr(e,t,U[q+257]),t+=k[q+257],q>7&&(K(e,t,z>>23&31),t+=j[q]);var N=z&31;rr(e,t,R[N]),t+=C[N],N>3&&(rr(e,t,z>>5&8191),t+=_[N])}else rr(e,t,U[z]),t+=k[z]}return rr(e,t,U[256]),t+k[256]},Wr=new vr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Sr=new b(0),Hr=function(r,e,n,a,f,v){var o=v.z||r.length,l=new b(a+o+5*(1+Math.ceil(o/7e3))+f),c=l.subarray(a,l.length-f),g=v.l,t=(v.r||0)&7;if(e){t&&(c[0]=v.r>>3);for(var i=Wr[e-1],s=i>>13,h=i&8191,x=(1<<n)-1,M=v.p||new O(32768),B=v.h||new O(x+1),J=Math.ceil(n/3),G=2*J,A=function(Tr){return(r[Tr]^r[Tr+1]<<J^r[Tr+2]<<G)&x},T=new vr(25e3),E=new O(288),D=new O(32),p=0,w=0,u=v.i||0,F=0,m=v.w||0,S=0;u+2<o;++u){var Z=A(u),L=u&32767,I=B[Z];if(M[L]=I,B[Z]=L,m<=u){var U=o-u;if((p>7e3||F>24576)&&(U>423||!g)){t=Er(r,c,0,T,E,D,w,F,S,u-S,t),F=p=w=0,S=u;for(var k=0;k<286;++k)E[k]=0;for(var k=0;k<30;++k)D[k]=0}var R=2,C=0,lr=h,H=L-I&32767;if(U>2&&Z==A(u-H))for(var X=Math.min(s,U)-1,P=Math.min(32767,u),q=Math.min(258,U);H<=P&&--lr&&L!=I;){if(r[u+R]==r[u+R-H]){for(var z=0;z<q&&r[u+z]==r[u+z-H];++z);if(z>R){if(R=z,C=H,z>X)break;for(var N=Math.min(H,z-2),nr=0,k=0;k<N;++k){var ar=u-H+k&32767,mr=M[ar],xr=ar-mr&32767;xr>nr&&(nr=xr,I=ar)}}}L=I,I=M[L],H+=L-I&32767}if(C){T[F++]=268435456|sr[R]<<18|pr[C];var cr=sr[R]&31,ur=pr[C]&31;w+=j[cr]+_[ur],++E[257+cr],++D[ur],m=u+R,++p}else T[F++]=r[u],++E[r[u]]}}for(u=Math.max(u,m);u<o;++u)T[F++]=r[u],++E[r[u]];t=Er(r,c,g,T,E,D,w,F,S,u-S,t),g||(v.r=t&7|c[t/8|0]<<3,t-=7,v.h=B,v.p=M,v.i=u,v.w=m)}else{for(var u=v.w||0;u<o+g;u+=65535){var fr=u+65535;fr>=o&&(c[t/8|0]=g,fr=o),t=Cr(c,t+1,r.subarray(u,fr))}v.i=o}return hr(l,0,a+or(t)+f)},Jr=function(){for(var r=new Int32Array(256),e=0;e<256;++e){for(var n=e,a=9;--a;)n=(n&1&&-306674912)^n>>>1;r[e]=n}return r}(),Kr=function(){var r=-1;return{p:function(e){for(var n=r,a=0;a<e.length;++a)n=Jr[n&255^e[a]]^n>>>8;r=n},d:function(){return~r}}},Or=function(r,e,n,a,f){if(!f&&(f={l:1},e.dictionary)){var v=e.dictionary.subarray(-32768),o=new b(v.length+r.length);o.set(v),o.set(r,v.length),r=o,f.w=v.length}return Hr(r,e.level==null?6:e.level,e.mem==null?f.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,n,a,f)},ee=function(r,e){var n={};for(var a in r)n[a]=r[a];for(var a in e)n[a]=e[a];return n},Nr=function(r,e,n){for(var a=r(),f=r.toString(),v=f.slice(f.indexOf("[")+1,f.lastIndexOf("]")).replace(/\s+/g,"").split(","),o=0;o<a.length;++o){var l=a[o],c=v[o];if(typeof l=="function"){e+=";"+c+"=";var g=l.toString();if(l.prototype)if(g.indexOf("[native code]")!=-1){var t=g.indexOf(" ",8)+1;e+=g.slice(t,g.indexOf("(",t))}else{e+=g;for(var i in l.prototype)e+=";"+c+".prototype."+i+"="+l.prototype[i].toString()}else e+=g}else n[c]=l}return e},kr=[],ne=function(r){var e=[];for(var n in r)r[n].buffer&&e.push((r[n]=new r[n].constructor(r[n])).buffer);return e},ae=function(r,e,n,a){if(!kr[n]){for(var f="",v={},o=r.length-1,l=0;l<o;++l)f=Nr(r[l],f,v);kr[n]={c:Nr(r[o],f,v),e:v}}var c=ee({},kr[n].e);return re(kr[n].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",n,c,ne(c),a)},fe=function(){return[b,O,vr,j,_,tr,Ar,Rr,Lr,qr,ir,Vr,V,gr,W,wr,or,hr,$,Fr,ce,zr,oe]},ve=function(){return[b,O,vr,j,_,tr,sr,pr,Gr,Q,Pr,d,ir,Wr,Sr,V,K,rr,yr,Mr,Ur,er,Cr,Er,or,hr,Hr,Or,le,zr]},te=function(){return[Xr,jr,br,Kr,Jr]},ie=function(){return[Yr,Zr]},zr=function(r){return postMessage(r,[r.buffer])},oe=function(r){return r&&{out:r.size&&new b(r.size),dictionary:r.dictionary}},Qr=function(r,e,n,a,f,v){var o=ae(n,a,f,function(l,c){o.terminate(),v(l,c)});return o.postMessage([r,e],e.consume?[r.buffer]:[]),function(){o.terminate()}},br=function(r,e,n){for(;n;++e)r[e]=n,n>>>=8},Xr=function(r,e){var n=e.filename;if(r[0]=31,r[1]=139,r[2]=8,r[8]=e.level<2?4:e.level==9?2:0,r[9]=3,e.mtime!=0&&br(r,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),n){r[3]=8;for(var a=0;a<=n.length;++a)r[a+10]=n.charCodeAt(a)}},Yr=function(r){(r[0]!=31||r[1]!=139||r[2]!=8)&&$(6,"invalid gzip data");var e=r[3],n=10;e&4&&(n+=(r[10]|r[11]<<8)+2);for(var a=(e>>3&1)+(e>>4&1);a>0;a-=!r[n++]);return n+(e&2)},Zr=function(r){var e=r.length;return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0},jr=function(r){return 10+(r.filename?r.filename.length+1:0)};function le(r,e){return Or(r,e||{},0,0)}function ce(r,e){return Fr(r,{i:2},e&&e.out,e&&e.dictionary)}function ue(r,e,n){return n||(n=e,e={}),typeof n!="function"&&$(7),Qr(r,e,[ve,te,function(){return[_r]}],function(a){return zr(_r(a.data[0],a.data[1]))},2,n)}function _r(r,e){e||(e={});var n=Kr(),a=r.length;n.p(r);var f=Or(r,e,jr(e),8),v=f.length;return Xr(f,e),br(f,v-8,n.d()),br(f,v-4,a),f}function se(r,e,n){return n||(n=e,e={}),typeof n!="function"&&$(7),Qr(r,e,[fe,ie,function(){return[dr]}],function(a){return zr(dr(a.data[0],a.data[1]))},3,n)}function dr(r,e){var n=Yr(r);return n+8>r.length&&$(6,"invalid gzip data"),Fr(r.subarray(n,-8),{i:2},e&&e.out||new b(Zr(r)),e&&e.dictionary)}var ge=typeof TextDecoder<"u"&&new TextDecoder,we=0;try{ge.decode(Sr,{stream:!0}),we=1}catch{}self.onmessage=async r=>{const{type:e,id:n}=r.data;try{if(e==="encrypt"||e==="compress_and_encrypt"){const{data:a,key:f}=r.data,v=a.byteLength;let o=new Uint8Array(a),l;e==="compress_and_encrypt"&&(o=await new Promise((i,s)=>{ue(new Uint8Array(a),{level:6},(h,x)=>{h?s(h):i(x)})}),l=o.byteLength);const c=crypto.getRandomValues(new Uint8Array(12)),g=await crypto.subtle.encrypt({name:"AES-GCM",iv:c},f,o),t={type:"encrypt_success",id:n,iv:c,encryptedData:g,compressedSize:l,originalSize:v};self.postMessage(t,[g,c.buffer])}else if(e==="decrypt"){const{data:a,iv:f,key:v}=r.data,o=r.data.isCompressed;let l=await crypto.subtle.decrypt({name:"AES-GCM",iv:f},v,a);o&&(l=await new Promise((g,t)=>{se(new Uint8Array(l),(i,s)=>{i?t(i):g(s.buffer)})}));const c={type:"decrypt_success",id:n,decryptedData:l};l instanceof ArrayBuffer?self.postMessage(c,[l]):self.postMessage(c,[l])}}catch(a){console.error(a),self.postMessage({type:"error",id:n,error:a.message||"Unknown crypto error"})}}})();
