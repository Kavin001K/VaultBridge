import{c as me,r as a,j as e,e as xe,P as Y,a as ue,u as Z,B as S,b as ee,l as pe}from"./index-Dr8jgfVR.js";import{f as he,d as fe,e as ge}from"./use-vaults-MLlSs9OK.js";import{i as ve,d as be}from"./crypto-DWfN9eO7.js";import{Q as je,C as B,a as q,E as we}from"./index-Cl3NUfcO.js";import{I as ye}from"./input-CEbwaS2S.js";import{m as V}from"./proxy-N6T_XOox.js";import{H as Ne,C as ke,D as se}from"./hard-drive-dKzcqw--.js";import{T as $}from"./triangle-alert-DCa5ILla.js";import{S as te}from"./shield-check-BEQB4Z3u.js";import{M as ze}from"./mail-DTVmsDvy.js";import{A as Ce}from"./index-CHBNmsLK.js";import{F as Se}from"./file-nX0MUDcX.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=me("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);var G="Progress",H=100,[Ie]=xe(G),[Ee,Pe]=Ie(G),re=a.forwardRef((s,r)=>{const{__scopeProgress:p,value:c=null,max:n,getValueLabel:y=Ae,...b}=s;(n||n===0)&&!Q(n)&&console.error(Te(`${n}`,"Progress"));const i=Q(n)?n:H;c!==null&&!X(c,i)&&console.error(Me(`${c}`,"Progress"));const m=X(c,i)?c:null,N=F(m)?y(m,i):void 0;return e.jsx(Ee,{scope:p,value:m,max:i,children:e.jsx(Y.div,{"aria-valuemax":i,"aria-valuemin":0,"aria-valuenow":F(m)?m:void 0,"aria-valuetext":N,role:"progressbar","data-state":ie(m,i),"data-value":m??void 0,"data-max":i,...b,ref:r})})});re.displayName=G;var ae="ProgressIndicator",ne=a.forwardRef((s,r)=>{const{__scopeProgress:p,...c}=s,n=Pe(ae,p);return e.jsx(Y.div,{"data-state":ie(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...c,ref:r})});ne.displayName=ae;function Ae(s,r){return`${Math.round(s/r*100)}%`}function ie(s,r){return s==null?"indeterminate":s===r?"complete":"loading"}function F(s){return typeof s=="number"}function Q(s){return F(s)&&!isNaN(s)&&s>0}function X(s,r){return F(s)&&!isNaN(s)&&s<=r&&s>=0}function Te(s,r){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${H}\`.`}function Me(s,r){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${H} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var le=re,Le=ne;const oe=a.forwardRef(({className:s,value:r,...p},c)=>e.jsx(le,{ref:c,className:ue("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...p,children:e.jsx(Le,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));oe.displayName=le.displayName;function O({value:s,label:r}){return e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-primary/20 rounded-lg blur opacity-50 group-hover:opacity-100 transition duration-500"}),e.jsxs("div",{className:"relative w-12 h-14 bg-zinc-900 border border-zinc-700 rounded-lg flex items-center justify-center overflow-hidden",children:[e.jsx(Ce,{mode:"popLayout",children:e.jsx(V.span,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"font-mono text-2xl font-bold text-primary",children:s.toString().padStart(2,"0")},s)}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-primary/5 to-transparent opacity-20 pointer-events-none"})]})]}),e.jsx("span",{className:"text-[10px] uppercase font-bold text-zinc-600 tracking-wider font-mono",children:r})]})}function J(){return e.jsx("div",{className:"flex flex-col justify-start pt-4 h-14",children:e.jsxs("div",{className:"space-y-2 animate-pulse",children:[e.jsx("div",{className:"w-1 h-1 bg-zinc-600 rounded-full"}),e.jsx("div",{className:"w-1 h-1 bg-zinc-600 rounded-full"})]})})}function Re({vaultId:s,shortCode:r,fullLink:p,filesCount:c,totalSize:n,expiresAt:y,downloads:b,maxDownloads:i,onSendEmail:m,className:N,minimal:U=!1}){const[D,I]=a.useState(!1),[E,T]=a.useState(!1),[d,M]=a.useState(null),[k,x]=a.useState(""),[L,w]=a.useState(!1),{toast:z}=Z();a.useEffect(()=>{const g=()=>{const o=new Date().getTime(),u=new Date(y).getTime()-o;if(u<=0){M(null);return}const j=Math.floor(u/(1e3*60*60)),h=Math.floor(u%(1e3*60*60)/(1e3*60)),f=Math.floor(u%(1e3*60)/1e3);M({hours:j,minutes:h,seconds:f})};g();const t=setInterval(g,1e3);return()=>clearInterval(t)},[y]);const R=async(g,t)=>{try{await navigator.clipboard.writeText(g),t==="link"?(I(!0),setTimeout(()=>I(!1),2e3)):(T(!0),setTimeout(()=>T(!1),2e3)),z({title:"Copied!",description:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4 text-primary"}),e.jsxs("span",{children:[t==="link"?"Secure link":"Access code"," copied to clipboard."]})]})})}catch{z({variant:"destructive",title:"Failed to copy"})}},P=async()=>{if(!(!k||!m)){w(!0);try{await m(k),x(""),z({title:"Email Sent!",description:"Vault link sent successfully."})}catch{z({variant:"destructive",title:"Failed to send email"})}finally{w(!1)}}},l=d===null,_=d?d.hours===0&&d.minutes<60:!1;return e.jsxs(V.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4,ease:"easeOut"},className:`glass-card overflow-hidden ring-1 ring-white/10 ${N}`,children:[e.jsx("div",{className:"relative h-1 w-full bg-zinc-900 pointer-events-none overflow-hidden",children:e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-transparent ${l?"via-rose-500":"via-primary"} to-transparent w-1/2 animate-shimmer opacity-70`})}),e.jsxs("div",{className:"p-5 md:p-8",children:[!U&&e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6 mb-8 md:mb-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 bg-gradient-to-br from-zinc-800 to-zinc-900 rounded-2xl flex items-center justify-center border border-zinc-700 shadow-inner",children:e.jsx(Ne,{className:`w-7 h-7 md:w-8 md:h-8 ${l?"text-rose-500":"text-primary"}`})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-zinc-900 rounded-full p-1 border border-zinc-800",children:l?e.jsx($,{className:"w-3 h-3 md:w-4 md:h-4 text-rose-500"}):e.jsx(te,{className:"w-3 h-3 md:w-4 md:h-4 text-primary"})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold font-mono tracking-tight text-foreground",children:"SECURE VAULT"}),e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] uppercase font-bold tracking-wider border ${l?"bg-rose-500/10 border-rose-500/20 text-rose-500":"bg-primary/10 border-primary/20 text-primary"}`,children:l?"Archived":"Active"})]}),e.jsxs("p",{className:"text-xs md:text-sm text-muted-foreground flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-foreground",children:c})," ",c===1?"file":"files",e.jsx("span",{className:"w-1 h-1 rounded-full bg-zinc-700"}),e.jsx("span",{className:"font-medium text-foreground",children:(n/(1024*1024)).toFixed(2)})," MB"]})]})]}),e.jsxs("div",{className:"flex flex-col items-end w-full md:w-auto mt-2 md:mt-0",children:[e.jsxs("div",{className:`flex items-center gap-2 mb-2 text-xs uppercase font-bold tracking-widest ${_||l?"text-rose-500":"text-primary"}`,children:[e.jsx(ke,{className:"w-3.5 h-3.5"}),l?"Vault Expired":"Auto-Purge In"]}),l?e.jsx("div",{className:"h-12 md:h-14 flex items-center px-4 bg-rose-500/10 border border-rose-500/20 rounded-lg w-full md:w-auto justify-center",children:e.jsx("span",{className:"font-mono text-lg md:text-xl font-bold text-rose-500 tracking-widest",children:"DELETED"})}):e.jsxs("div",{className:"flex items-center justify-center gap-1.5 md:gap-2 bg-zinc-900/50 p-2 rounded-xl border border-zinc-800/50 backdrop-blur-sm w-full md:w-auto",children:[e.jsx(O,{value:(d==null?void 0:d.hours)||0,label:"HRS"}),e.jsx(J,{}),e.jsx(O,{value:(d==null?void 0:d.minutes)||0,label:"MIN"}),e.jsx(J,{}),e.jsx(O,{value:(d==null?void 0:d.seconds)||0,label:"SEC"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[e.jsxs("div",{className:"flex flex-col items-center order-1 lg:order-none",children:[e.jsxs("div",{className:"relative group w-full max-w-[240px] lg:max-w-none",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-tr from-primary/50 to-emerald-600/50 rounded-2xl blur opacity-75 group-hover:opacity-100 transition duration-500"}),e.jsxs("div",{className:"relative bg-zinc-950 p-4 md:p-6 rounded-xl border border-primary/20 shadow-2xl overflow-hidden aspect-square flex items-center justify-center",children:[e.jsx(V.div,{className:"absolute inset-0 bg-gradient-to-b from-transparent via-primary/10 to-transparent z-10",animate:{top:["-100%","100%"]},transition:{duration:3,repeat:1/0,ease:"linear"}}),e.jsx("div",{className:"bg-white p-2 rounded-lg relative z-0 w-full h-full flex items-center justify-center",children:e.jsx(je,{value:p,size:200,className:"w-full h-full",level:"H",includeMargin:!0,bgColor:"#FFFFFF",fgColor:"#16a34a",imageSettings:{src:"/vault-qr-icon.png",height:48,width:48,excavate:!0}})})]})]}),e.jsxs("p",{className:"mt-4 text-[10px] md:text-xs font-mono text-zinc-500 uppercase tracking-[0.2em] flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),"Scan to Access"]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-4 md:space-y-5 order-2 lg:order-none",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-zinc-900 border border-zinc-800 rounded-xl relative group overflow-hidden flex flex-col justify-between min-h-[110px]",children:[e.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-50 group-hover:opacity-100 transition-opacity z-10",children:e.jsx(S,{variant:"ghost",size:"icon",onClick:()=>R(r,"code"),className:"h-8 w-8 hover:bg-zinc-800 text-zinc-400 hover:text-white",children:E?e.jsx(B,{className:"w-4 h-4 text-primary"}):e.jsx(q,{className:"w-4 h-4"})})}),e.jsx("div",{className:"text-[10px] uppercase font-bold text-zinc-500 tracking-wider mb-1",children:"Access PIN"}),e.jsx("div",{className:"flex-1 flex items-center justify-center w-full",children:e.jsx("div",{className:"font-mono text-xl sm:text-2xl md:text-3xl font-bold text-primary tracking-widest drop-shadow-lg whitespace-nowrap",children:r})})]}),e.jsxs("div",{className:"p-4 bg-zinc-900 border border-zinc-800 rounded-xl relative flex flex-col justify-between min-h-[110px]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"text-[10px] uppercase font-bold text-zinc-500 tracking-wider flex items-center gap-1.5",children:[e.jsx(se,{className:"w-3 h-3"}),"Downloads"]}),e.jsxs("span",{className:`font-mono text-[10px] font-bold px-1.5 py-0.5 rounded border ${b>=i?"bg-rose-500/10 border-rose-500/20 text-rose-500":"bg-zinc-800 border-zinc-700 text-zinc-300"}`,children:[i-b," LEFT"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex gap-1 h-3 w-full",children:Array.from({length:Math.min(i,20)}).map((g,t)=>{const o=t<b;return e.jsx("div",{className:`flex-1 rounded-sm transition-all duration-300 ${o?"bg-zinc-800":"bg-primary shadow-[0_0_10px_rgba(16,185,129,0.3)]"}`},t)})}),e.jsxs("div",{className:"flex justify-between items-center text-[10px] font-mono text-zinc-500",children:[e.jsx("span",{children:"0"}),e.jsxs("span",{children:[b," / ",i," used"]}),e.jsx("span",{children:i})]})]})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-transparent rounded-xl blur opacity-0 group-hover:opacity-100 transition duration-500"}),e.jsxs("div",{className:"relative flex items-center bg-zinc-900/80 border border-zinc-700 hover:border-primary/50 rounded-xl p-1 pr-2 transition-colors",children:[e.jsx("div",{className:"h-10 w-10 flex items-center justify-center text-zinc-500 shrink-0",children:e.jsx(we,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0 px-2 overflow-hidden",children:[e.jsx("div",{className:"text-[10px] text-zinc-500 font-semibold uppercase tracking-wider mb-0.5",children:"Secure Link"}),e.jsx("div",{className:"text-sm font-mono text-zinc-300 truncate selection:bg-primary/30",children:p})]}),e.jsxs(S,{variant:"secondary",size:"sm",onClick:()=>R(p,"link"),className:"h-9 gap-2 shadow-sm font-medium shrink-0",children:[D?e.jsx(B,{className:"w-3.5 h-3.5"}):e.jsx(q,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"hidden md:inline",children:D?"Copied":"Copy"})]})]})]})}),m&&!l&&e.jsxs("div",{className:"pt-4 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-1.5 bg-zinc-800 rounded-md",children:e.jsx(ze,{className:"w-4 h-4 text-zinc-400"})}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:"Secure Send"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[e.jsx(ye,{type:"email",placeholder:"Enter recipient email...",value:k,onChange:g=>x(g.target.value),className:"bg-zinc-900/50 border-zinc-800 hover:border-zinc-700 focus:border-primary/50 transition-colors"}),e.jsx(S,{onClick:P,disabled:!k||L,className:"w-full md:w-auto min-w-[100px] cyber-btn",children:L?e.jsx(ee,{className:"w-4 h-4 animate-spin"}):"Send"})]}),e.jsx("p",{className:"text-[11px] text-zinc-500 mt-2 pl-1",children:"* Encrypted link sent only. No files attached."})]})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-white/5 flex flex-col md:flex-row items-start gap-4",children:[e.jsx("div",{className:"hidden md:block p-2 bg-rose-500/10 rounded-lg shrink-0",children:e.jsx($,{className:"w-5 h-5 text-rose-500"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 md:hidden mb-2 text-rose-500 font-bold text-sm",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:"Self-Destruction Protocol"})]}),e.jsx("h4",{className:"hidden md:block text-sm font-bold text-rose-500 mb-1",children:"Self-Destruction Protocol Active"}),e.jsxs("p",{className:"text-xs text-zinc-400 leading-relaxed max-w-2xl",children:["This vault is encrypted with a unique key. Once the limit is reached or timer expires, data is permanently purged.",e.jsx("span",{className:"text-zinc-300 font-medium",children:" No recovery option."})]})]})]})]})]})}function Qe(){const[,s]=pe("/v/:id"),r=s==null?void 0:s.id,[p,c]=a.useState(null),[n,y]=a.useState([]),[b,i]=a.useState(!0),[m,N]=a.useState(null),[U,D]=a.useState(null),[I,E]=a.useState(0),[T,d]=a.useState(!1),[M,k]=a.useState(!1),{data:x,isLoading:L,error:w}=he(r||""),z=fe(),R=ge(),{toast:P}=Z(),l=a.useRef(null);a.useEffect(()=>(l.current=new Worker(new URL("/assets/encryption.worker-CKNeU3-a.js",import.meta.url),{type:"module"}),()=>{var t;return(t=l.current)==null?void 0:t.terminate()}),[]);const _=(t,o,C)=>new Promise((u,j)=>{if(!l.current)return j("Worker not ready");const h=Math.random(),f=v=>{var A;v.data.id===h&&((A=l.current)==null||A.removeEventListener("message",f),v.data.type==="error"?j(v.data.error):u(v.data.decryptedData))};l.current.addEventListener("message",f),l.current.postMessage({type:"decrypt",data:t,iv:o,key:C,id:h},[t])});a.useEffect(()=>{const o=window.location.hash.replace("#key=","");if(!o){N("Missing decryption key. Invalid link."),i(!1);return}x&&(async()=>{if(x)try{const u=await ve(o);c(u);const h=(await be(x.encryptedMetadata,u)).map(f=>{const v=x.files.find(A=>A.fileId===f.fileId);return{...f,chunks:(v==null?void 0:v.chunkCount)||0}});y(h),i(!1)}catch(u){console.error(u),N("Failed to decrypt vault. Key may be invalid."),i(!1)}})()},[x]);const g=async t=>{if(!(!p||!r)){D(t.fileId),E(0);try{const o=[];let C=0;for(let f=0;f<t.chunks;f++){const{downloadUrl:v}=await z.mutateAsync({vaultId:r,fileId:t.fileId,chunkIndex:f}),K=await(await fetch(v)).arrayBuffer(),de=new Uint8Array(K.slice(0,12)),ce=K.slice(12),W=await _(ce,de,p);o.push(new Uint8Array(W)),C+=W.byteLength,E(C/t.size*100)}const u=new Blob(o,{type:t.type}),j=window.URL.createObjectURL(u),h=document.createElement("a");h.href=j,h.download=t.name,document.body.appendChild(h),h.click(),window.URL.revokeObjectURL(j),document.body.removeChild(h),R.mutate(r),P({title:"Download Complete",description:`Saved ${t.name}`}),setTimeout(()=>{P({title:"Self-Destruct Initiated",description:"This link is burning...",variant:"destructive"}),d(!0)},2e3),setTimeout(()=>{k(!0)},4500)}catch(o){console.error(o),P({variant:"destructive",title:"Download Failed",description:"Could not decrypt file."})}finally{D(null),E(0)}}};return M?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4 animate-in fade-in duration-1000",children:e.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[e.jsxs("div",{className:"w-20 h-20 bg-zinc-900 border-2 border-zinc-800 rounded-full flex items-center justify-center mx-auto relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-destructive/20 to-transparent"}),e.jsx(te,{className:"w-10 h-10 text-muted-foreground/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold font-mono text-muted-foreground uppercase tracking-widest",children:"Link Terminated"}),e.jsx("p",{className:"text-zinc-500",children:"This vault has self-destructed. No data remains."})]}),e.jsx(S,{onClick:()=>window.location.href="/",variant:"outline",className:"border-zinc-800 hover:bg-zinc-900 hover:text-white",children:"Return to Safety"})]})}):L?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsx(ee,{className:"w-10 h-10 text-primary animate-spin"})}):w||m?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-card border border-destructive/30 rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-4 text-destructive",children:e.jsx($,{className:"w-8 h-8"})}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:m||(w==null?void 0:w.message)||"Vault not found"}),e.jsx(S,{onClick:()=>window.location.href="/",variant:"outline",children:"Go Home"})]})}):e.jsx("div",{className:`min-h-screen bg-background p-4 md:p-8 flex flex-col ${T?"burn-container":""}`,children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 md:space-y-8 w-full flex-1",children:[e.jsx("header",{className:"flex items-center justify-between mb-6 md:mb-8",children:e.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>window.location.href="/",children:[e.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-primary/20 rounded-lg flex items-center justify-center border border-primary/50 overflow-hidden",children:e.jsx("img",{src:"/vault-logo.jpg",alt:"VaultBridge",className:"w-full h-full object-cover p-1"})}),e.jsx("div",{children:e.jsxs("h1",{className:"text-lg md:text-xl font-bold font-mono tracking-tighter",children:["VAULT",e.jsx("span",{className:"text-primary",children:"BRIDGE"})]})})]})}),x&&e.jsx(Re,{vaultId:x.id,shortCode:x.shortCode,fullLink:window.location.href.split("#")[0],filesCount:n.length,totalSize:n.reduce((t,o)=>t+o.size,0),expiresAt:x.expiresAt,downloads:x.downloadCount,maxDownloads:x.maxDownloads}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-base md:text-lg font-bold font-mono uppercase tracking-wider text-muted-foreground mb-2 md:mb-4",children:"Encrypted Contents"}),b?e.jsxs("div",{className:"p-6 md:p-8 text-center text-muted-foreground animate-pulse",children:[e.jsx(De,{className:"w-6 h-6 md:w-8 md:h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm md:text-base",children:"Decrypting metadata..."})]}):n.map(t=>e.jsxs(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-card border border-border rounded-xl p-4 flex flex-col md:flex-row md:items-center justify-between gap-4 group hover:border-primary/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 md:gap-4 overflow-hidden",children:[e.jsx("div",{className:"p-2 md:p-3 bg-secondary rounded-lg flex-shrink-0",children:e.jsx(Se,{className:"w-5 h-5 md:w-6 md:h-6 text-primary"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium truncate text-sm md:text-base",children:t.name}),e.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[(t.size/(1024*1024)).toFixed(2)," MB â€¢ ",t.type||"Unknown"]})]})]}),e.jsx("div",{className:"flex items-center gap-4 w-full md:w-auto mt-2 md:mt-0",children:U===t.fileId?e.jsxs("div",{className:"w-full md:w-48 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Decrypting..."}),e.jsxs("span",{children:[Math.round(I),"%"]})]}),e.jsx(oe,{value:I,className:"h-1.5 md:h-2"})]}):e.jsxs(S,{onClick:()=>g(t),className:"w-full md:w-auto bg-primary text-primary-foreground hover:bg-primary/90 font-mono text-sm md:text-base h-10 md:h-11",children:[e.jsx(se,{className:"w-4 h-4 mr-2"})," Download"]})})]},t.fileId))]})]})})}export{Qe as default};
