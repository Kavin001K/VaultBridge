import { c as X, r as o, f as ke, u as Se, j as e, L as D, m as r, B as p, k as te, S as Ce, E as Ae, l as O, n as $e, A as y, au as De, X as se, ae as Ee, d as Ie, q as Fe, D as ae, s as ie, t as re, v as le, w as ne, C as Me, o as _e } from "./index-CzGRSC1U.js";
import { I as oe } from "./input-CCHcSEEc.js";
import { M as ce } from "./mail-TSFqBQbb.js";
import { P as b, I as Re, F as Te, a as Be, b as Pe } from "./paperclip-Bqfp_pJJ.js";
import { U as w, S as W } from "./users-DTgY0q5J.js";
import { T as Le } from "./triangle-alert-dxTRqPRK.js";
import { F as Oe } from "./file-text-lDF1z0Na.js";
import { F as We } from "./file-CDA89nAy.js";
/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/
const Ue = X("ArrowUpRight", [["path", { d: "M7 7h10v10", key: "1tivn9" }], ["path", { d: "M7 17 17 7", key: "1vkiza" }]]);
/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/
const Ke = X("Inbox", [["polyline", { points: "22 12 16 12 14 15 10 15 8 12 2 12", key: "o97t9d" }], ["path", { d: "M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z", key: "oot6mr" }]]);
/**
* @license lucide-react v0.453.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/
const Ve = X("Plus", [["path", { d: "M5 12h14", key: "1ays0h" }], ["path", { d: "M12 5v14", key: "s699le" }]]), E = 50 * 1024 * 1024, Xe = 25 * 1024 * 1024, I = 5, U = 10, de = [{ id: 1, label: "Attach", icon: b }, { id: 2, label: "Recipients", icon: w }, { id: 3, label: "Review", icon: Ae }], xe = (a) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.trim()), m = (a) => a === 0 ? "0 B" : a < 1024 ? `${a} B` : a < 1024 * 1024 ? `${(a / 1024).toFixed(1)} KB` : `${(a / (1024 * 1024)).toFixed(1)} MB`, K = (a) => a.startsWith("image/") ? Re : a.startsWith("video/") ? Te : a.startsWith("audio/") ? Be : a.includes("zip") || a.includes("rar") || a.includes("tar") || a.includes("7z") || a.includes("gz") ? Pe : a.includes("pdf") || a.includes("doc") || a.includes("text") || a.includes("sheet") ? Oe : We, V = (a) => a.startsWith("image/") ? "text-sky-400 bg-sky-500/10 border-sky-500/20" : a.startsWith("video/") ? "text-rose-400 bg-rose-500/10 border-rose-500/20" : a.startsWith("audio/") ? "text-amber-400 bg-amber-500/10 border-amber-500/20" : a.includes("zip") || a.includes("rar") || a.includes("tar") ? "text-orange-400 bg-orange-500/10 border-orange-500/20" : a.includes("pdf") ? "text-red-400 bg-red-500/10 border-red-500/20" : "text-violet-400 bg-violet-500/10 border-violet-500/20";
function tt() {
  const [a, j] = o.useState(1), [l, z] = o.useState([]), [G, H] = o.useState(false), [Z, F] = o.useState(false), { toast: g } = ke(), { play: u } = Se(), h = o.useRef(null), [me, k] = o.useState(false), [he, S] = o.useState(false), [f, Y] = o.useState(null), [d, M] = o.useState([]), [v, _] = o.useState(""), [R, q] = o.useState(""), [C, J] = o.useState(""), [A, T] = o.useState(""), x = o.useMemo(() => l.reduce((t, s) => t + s.size, 0), [l]), Q = Math.min(x / E * 100, 100), B = x > E, P = o.useCallback((t) => {
    const s = t.filter((c) => c.size > Xe);
    if (s.length > 0) {
      g({ variant: "destructive", title: "File too large", description: `${s[0].name} exceeds the 25 MB per-file limit.` });
      return;
    }
    const n = l.length;
    if (n + t.length > U) {
      g({ variant: "destructive", title: "Too many files", description: `Max ${U} files allowed. You have ${n}.` });
      return;
    }
    if (t.reduce((c, N) => c + N.size, x) > E) {
      g({ variant: "destructive", title: "Total size exceeded", description: "Adding these files would exceed the 50 MB limit." });
      return;
    }
    z((c) => [...c, ...t]), u?.("click");
  }, [l, x, g, u]), pe = (t) => {
    t.target.files && t.target.files.length > 0 && (P(Array.from(t.target.files)), h.current && (h.current.value = ""));
  }, ue = (t) => {
    z((s) => s.filter((n, i) => i !== t)), u?.("click");
  }, ge = () => {
    z([]), h.current && (h.current.value = "");
  }, fe = o.useCallback((t) => {
    t.preventDefault(), t.stopPropagation(), F(true);
  }, []), ve = o.useCallback((t) => {
    t.preventDefault(), t.stopPropagation(), F(false);
  }, []), be = o.useCallback((t) => {
    t.preventDefault(), t.stopPropagation(), F(false), t.dataTransfer.files && t.dataTransfer.files.length > 0 && P(Array.from(t.dataTransfer.files));
  }, [P]), $ = () => {
    if (!v.trim()) return;
    const t = v.split(",").map((i) => i.trim().toLowerCase()).filter((i) => i), s = [];
    let n = "";
    t.forEach((i) => {
      xe(i) ? d.includes(i) ? n = `"${i}" is already added` : d.length + s.length >= I ? n = `Maximum ${I} recipients` : s.push(i) : n = `"${i}" is not a valid email`;
    }), s.length > 0 ? (M((i) => [...i, ...s]), _(""), T(""), u?.("click")) : n && T(n);
  }, ee = (t) => {
    M((s) => s.filter((n, i) => i !== t)), u?.("click");
  }, je = (t) => {
    (t.key === "Enter" || t.key === "Tab" || t.key === ",") && (t.preventDefault(), $()), t.key === "Backspace" && !v && d.length > 0 && ee(d.length - 1);
  }, Ne = (t) => {
    if (_(t), T(""), t.endsWith(",") || t.endsWith(" ")) {
      const s = t.replace(/[, ]+$/, "").trim();
      s && xe(s) && (_(s), setTimeout(() => $(), 0));
    }
  }, L = (t) => t === 1 ? l.length > 0 && !B : t === 2 ? d.length > 0 : true, ye = () => {
    L(a) && a < 3 && (j(a + 1), u?.("click"));
  }, we = () => {
    a > 1 && (j(a - 1), u?.("click"));
  }, ze = async () => {
    S(false), H(true);
    const t = { fileCount: l.length, fileNames: l.map((s) => s.name), totalSize: x, recipients: [...d], subject: R.trim() || `Files shared via VaultBridge: ${l.map((s) => s.name).join(", ").substring(0, 50)}` };
    try {
      const s = new FormData();
      s.append("to", d.join(",")), s.append("subject", t.subject);
      const n = C.trim() || `You have received ${l.length} file(s) (${m(x)}) via VaultBridge secure transfer.

Files: ${l.map((N) => N.name).join(", ")}`;
      s.append("body", n), l.forEach((N) => s.append("files", N));
      const i = await fetch("/api/email/direct-multi", { method: "POST", body: s }), c = await i.json();
      if (!i.ok) throw new Error(c.message || "Failed to send email");
      c.failed && c.failed > 0 && g({ title: "\u26A0\uFE0F Partial Success", description: c.message || `Sent to ${c.delivered}/${d.length} recipients`, className: "bg-amber-900/90 border-amber-500" }), Y(t), k(true), z([]), M([]), q(""), J(""), j(1), h.current && (h.current.value = "");
    } catch (s) {
      g({ variant: "destructive", title: "Failed to send", description: s.message || "Something went wrong. Please try again." });
    } finally {
      H(false);
    }
  };
  return e.jsxs("div", { className: "min-h-screen relative overflow-hidden flex flex-col font-sans text-zinc-100 bg-zinc-950", children: [e.jsx("div", { className: "fixed inset-0 bg-[radial-gradient(ellipse_at_top,rgba(124,58,237,0.08),transparent_50%)]" }), e.jsx("div", { className: "fixed inset-0 bg-[radial-gradient(ellipse_at_bottom_right,rgba(168,85,247,0.05),transparent_50%)]" }), e.jsx("header", { className: "relative z-10 px-6 py-5 border-b border-white/5 backdrop-blur-sm", children: e.jsxs("div", { className: "max-w-3xl mx-auto flex items-center justify-between", children: [e.jsx(D, { href: "/", children: e.jsxs(r.div, { initial: { opacity: 0, x: -20 }, animate: { opacity: 1, x: 0 }, className: "flex items-center gap-3 cursor-pointer group", children: [e.jsx("div", { className: "w-9 h-9 bg-violet-500/10 rounded-xl flex items-center justify-center border border-violet-500/20 group-hover:border-violet-400/50 transition-colors", children: e.jsx(ce, { className: "w-4 h-4 text-violet-400" }) }), e.jsxs("h1", { className: "text-lg font-bold font-mono tracking-tight group-hover:text-violet-300 transition-colors", children: ["VAULT", e.jsx("span", { className: "text-violet-400", children: "BRIDGE" })] })] }) }), e.jsx(D, { href: "/", children: e.jsxs(p, { variant: "ghost", size: "sm", className: "gap-2 text-zinc-500 hover:text-white hover:bg-white/5 text-xs", children: [e.jsx(te, { className: "w-3.5 h-3.5" }), " Back"] }) })] }) }), e.jsxs("main", { className: "relative z-10 flex-1 w-full max-w-3xl mx-auto px-6 py-10", children: [e.jsxs(r.div, { initial: { opacity: 0, y: 20 }, animate: { opacity: 1, y: 0 }, className: "text-center mb-8", children: [e.jsxs("div", { className: "inline-flex items-center gap-2 px-3 py-1.5 bg-violet-500/10 border border-violet-500/15 rounded-full text-xs text-violet-300 font-medium mb-4", children: [e.jsx(Ce, { className: "w-3 h-3" }), " Zero-Knowledge Email Relay"] }), e.jsx("h2", { className: "text-3xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-violet-300 via-fuchsia-300 to-violet-300 bg-clip-text text-transparent", children: "Get it Mailed" }), e.jsx("p", { className: "text-zinc-500 text-sm max-w-md mx-auto", children: "Attach files, add recipients, review and send \u2014 all ephemeral, never stored." })] }), e.jsx(r.div, { initial: { opacity: 0, y: 15 }, animate: { opacity: 1, y: 0 }, transition: { delay: 0.05 }, className: "mb-8", children: e.jsx("div", { className: "flex items-center justify-center gap-0", children: de.map((t, s) => {
    const n = t.icon, i = a === t.id, c = a > t.id;
    return e.jsxs("div", { className: "flex items-center", children: [e.jsxs("button", { onClick: () => {
      (c || i) && j(t.id);
    }, className: `
                                            flex items-center gap-2 px-4 py-2.5 rounded-xl text-xs font-semibold uppercase tracking-wider transition-all
                                            ${i ? "bg-violet-500/15 text-violet-300 border border-violet-500/30 shadow-lg shadow-violet-500/10" : c ? "bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 cursor-pointer hover:bg-emerald-500/15" : "bg-zinc-900/50 text-zinc-600 border border-zinc-800/50"}
                                        `, children: [c ? e.jsx(O, { className: "w-3.5 h-3.5" }) : e.jsx(n, { className: "w-3.5 h-3.5" }), t.label] }), s < de.length - 1 && e.jsx($e, { className: `w-4 h-4 mx-1 ${a > t.id ? "text-emerald-500/50" : "text-zinc-800"}` })] }, t.id);
  }) }) }), e.jsxs(y, { mode: "wait", children: [a === 1 && e.jsxs(r.div, { initial: { opacity: 0, x: 30 }, animate: { opacity: 1, x: 0 }, exit: { opacity: 0, x: -30 }, transition: { duration: 0.25 }, className: "space-y-5", children: [e.jsxs("div", { className: `
                                    relative border-2 border-dashed rounded-2xl p-10 text-center transition-all cursor-pointer group
                                    ${Z ? "border-violet-400 bg-violet-500/10 scale-[1.02]" : l.length > 0 ? "border-violet-500/30 bg-violet-500/5" : "border-zinc-700/50 hover:border-violet-500/40 hover:bg-violet-500/5"}
                                `, onClick: () => h.current?.click(), onDragOver: fe, onDragLeave: ve, onDrop: be, children: [e.jsx("input", { type: "file", ref: h, className: "hidden", multiple: true, onChange: pe }), e.jsx(y, { mode: "wait", children: Z ? e.jsxs(r.div, { initial: { scale: 0.9, opacity: 0 }, animate: { scale: 1, opacity: 1 }, exit: { scale: 0.9, opacity: 0 }, children: [e.jsx("div", { className: "w-16 h-16 bg-violet-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-violet-400/30 animate-pulse", children: e.jsx(b, { className: "w-7 h-7 text-violet-300" }) }), e.jsx("p", { className: "text-lg font-semibold text-violet-300", children: "Release to attach" })] }, "dragging") : e.jsxs(r.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 }, children: [e.jsx("div", { className: "w-16 h-16 bg-gradient-to-br from-violet-500/15 to-fuchsia-500/15 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-violet-500/15 group-hover:scale-105 transition-transform", children: e.jsx(b, { className: "w-7 h-7 text-violet-400" }) }), e.jsx("p", { className: "text-base font-semibold text-zinc-200", children: "Drop files here or click to browse" }), e.jsxs("p", { className: "text-xs text-zinc-500 mt-2", children: ["Up to ", U, " files \u2022 25 MB per file \u2022 50 MB total"] })] }, "idle") })] }), l.length > 0 && e.jsxs(r.div, { initial: { opacity: 0, y: 10 }, animate: { opacity: 1, y: 0 }, className: "flex items-center gap-3", children: [e.jsx("div", { className: "flex-1 h-2 bg-zinc-800/80 rounded-full overflow-hidden", children: e.jsx(r.div, { className: `h-full rounded-full ${B ? "bg-gradient-to-r from-red-500 to-rose-500" : Q > 80 ? "bg-gradient-to-r from-amber-500 to-orange-500" : "bg-gradient-to-r from-violet-500 to-fuchsia-500"}`, initial: { width: 0 }, animate: { width: `${Q}%` }, transition: { duration: 0.4 } }) }), e.jsxs("span", { className: `text-xs font-mono whitespace-nowrap ${B ? "text-red-400" : "text-zinc-500"}`, children: [m(x), " / ", m(E)] })] }), e.jsx(y, { children: l.length > 0 && e.jsxs(r.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 }, children: [e.jsxs("div", { className: "flex items-center justify-between mb-3", children: [e.jsxs("p", { className: "text-xs font-mono text-zinc-500 uppercase tracking-wider", children: [l.length, " file", l.length !== 1 ? "s" : "", " attached"] }), e.jsxs("button", { onClick: ge, className: "text-xs text-zinc-600 hover:text-rose-400 transition-colors flex items-center gap-1", children: [e.jsx(De, { className: "w-3 h-3" }), " Clear all"] })] }), e.jsx("div", { className: "space-y-2 max-h-[280px] overflow-y-auto pr-1 custom-scrollbar", children: l.map((t, s) => {
    const n = K(t.type), i = V(t.type);
    return e.jsxs(r.div, { initial: { opacity: 0, y: 10 }, animate: { opacity: 1, y: 0 }, exit: { opacity: 0, x: -20 }, transition: { delay: s * 0.03 }, className: "flex items-center gap-3 p-3 bg-zinc-900/60 rounded-xl border border-zinc-800/60 hover:border-zinc-700/60 group transition-colors", children: [e.jsx("div", { className: `p-2 rounded-lg border ${i} flex-shrink-0`, children: e.jsx(n, { className: "w-4 h-4" }) }), e.jsxs("div", { className: "flex-1 min-w-0", children: [e.jsx("p", { className: "text-sm font-medium truncate", children: t.name }), e.jsx("p", { className: "text-[11px] text-zinc-500", children: m(t.size) })] }), e.jsx("button", { onClick: (c) => {
      c.stopPropagation(), ue(s);
    }, className: "p-1.5 rounded-lg text-zinc-600 hover:text-rose-400 hover:bg-rose-500/10 transition-colors opacity-0 group-hover:opacity-100", children: e.jsx(se, { className: "w-4 h-4" }) })] }, `${t.name}-${s}-${t.size}`);
  }) })] }) })] }, "step1"), a === 2 && e.jsxs(r.div, { initial: { opacity: 0, x: 30 }, animate: { opacity: 1, x: 0 }, exit: { opacity: 0, x: -30 }, transition: { duration: 0.25 }, className: "space-y-6", children: [e.jsxs("div", { className: "space-y-3", children: [e.jsxs("label", { className: "text-xs font-mono uppercase tracking-wider text-zinc-400 flex items-center gap-2", children: [e.jsx(w, { className: "w-3.5 h-3.5 text-violet-400" }), "Recipients (", d.length, "/", I, ")"] }), e.jsxs("div", { className: `
                                    bg-zinc-900/50 border rounded-xl min-h-[56px] p-2.5 flex flex-wrap gap-2 transition-all
                                    ${A ? "border-rose-500/50 ring-1 ring-rose-500/20" : "border-zinc-800 focus-within:border-violet-500/50 focus-within:ring-1 focus-within:ring-violet-500/20"}
                                `, children: [e.jsx(y, { mode: "popLayout", children: d.map((t, s) => e.jsxs(r.div, { initial: { opacity: 0, scale: 0.8 }, animate: { opacity: 1, scale: 1 }, exit: { opacity: 0, scale: 0.8 }, className: "flex items-center gap-1.5 pl-3 pr-1.5 py-1.5 bg-violet-500/10 border border-violet-500/20 rounded-lg", children: [e.jsx("span", { className: "text-sm font-medium text-violet-100", children: t }), e.jsx("button", { onClick: () => ee(s), className: "p-1 hover:bg-rose-500/20 rounded-md text-violet-400 hover:text-rose-400 transition-colors", children: e.jsx(se, { className: "w-3 h-3" }) })] }, t)) }), d.length < I && e.jsxs("div", { className: "flex-1 min-w-[200px] flex items-center relative", children: [e.jsx(oe, { placeholder: d.length === 0 ? "name@example.com" : "Add another...", value: v, onChange: (t) => Ne(t.target.value), onKeyDown: je, onBlur: () => {
    v.trim() && $();
  }, className: "bg-transparent border-none h-9 p-0 focus-visible:ring-0 placeholder:text-zinc-600 text-base w-full" }), v && e.jsx("button", { onClick: $, className: "absolute right-0 p-1.5 bg-violet-500/20 hover:bg-violet-500 text-violet-300 hover:text-white rounded-lg transition-all", children: e.jsx(Ve, { className: "w-4 h-4" }) })] })] }), e.jsx(y, { children: A && e.jsxs(r.p, { initial: { opacity: 0, y: -5 }, animate: { opacity: 1, y: 0 }, exit: { opacity: 0, y: -5 }, className: "text-xs text-rose-400 flex items-center gap-1 pl-1", children: [e.jsx(Le, { className: "w-3 h-3" }), " ", A] }) }), !A && e.jsxs("p", { className: "text-[11px] text-zinc-600 pl-1", children: ["Press ", e.jsx("kbd", { className: "font-mono bg-zinc-800 px-1.5 py-0.5 rounded text-zinc-400 text-[10px]", children: "Enter" }), ",", " ", e.jsx("kbd", { className: "font-mono bg-zinc-800 px-1.5 py-0.5 rounded text-zinc-400 text-[10px]", children: "Tab" }), ", or", " ", e.jsx("kbd", { className: "font-mono bg-zinc-800 px-1.5 py-0.5 rounded text-zinc-400 text-[10px]", children: "," }), " to add"] })] }), e.jsxs("div", { className: "space-y-2", children: [e.jsxs("div", { className: "flex items-center justify-between", children: [e.jsx("label", { className: "text-xs font-mono uppercase tracking-wider text-zinc-400", children: "Subject" }), e.jsx("span", { className: "text-[10px] text-zinc-600", children: "Optional \u2014 auto-generated if empty" })] }), e.jsx(oe, { placeholder: "Secure files for you...", value: R, onChange: (t) => q(t.target.value), className: "h-11 bg-zinc-900/50 border-zinc-800 focus:border-violet-500/50 text-base rounded-xl" })] }), e.jsxs("div", { className: "space-y-2", children: [e.jsxs("div", { className: "flex items-center justify-between", children: [e.jsx("label", { className: "text-xs font-mono uppercase tracking-wider text-zinc-400", children: "Message" }), e.jsx("span", { className: "text-[10px] text-zinc-600", children: "Optional" })] }), e.jsx(Ee, { placeholder: "Hey! Here are those files you requested...", value: C, onChange: (t) => J(t.target.value), className: "min-h-[100px] bg-zinc-900/50 border-zinc-800 focus:border-violet-500/50 resize-none text-base rounded-xl" })] })] }, "step2"), a === 3 && e.jsxs(r.div, { initial: { opacity: 0, x: 30 }, animate: { opacity: 1, x: 0 }, exit: { opacity: 0, x: -30 }, transition: { duration: 0.25 }, className: "space-y-5", children: [e.jsxs("div", { className: "rounded-2xl border border-violet-500/15 bg-gradient-to-br from-zinc-900/80 to-violet-950/20 overflow-hidden", children: [e.jsxs("div", { className: "p-5 border-b border-white/5", children: [e.jsxs("div", { className: "flex items-center gap-2 mb-3", children: [e.jsx(b, { className: "w-4 h-4 text-violet-400" }), e.jsx("h3", { className: "text-sm font-semibold text-zinc-200", children: "Attachments" }), e.jsx("span", { className: "text-xs text-zinc-500 ml-auto", children: m(x) })] }), e.jsx("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-2", children: l.map((t, s) => {
    const n = K(t.type), i = V(t.type);
    return e.jsxs("div", { className: "flex items-center gap-2 p-2 bg-zinc-800/30 rounded-lg", children: [e.jsx("div", { className: `p-1.5 rounded-md border ${i}`, children: e.jsx(n, { className: "w-3 h-3" }) }), e.jsx("span", { className: "text-xs truncate flex-1", children: t.name }), e.jsx("span", { className: "text-[10px] text-zinc-500 flex-shrink-0", children: m(t.size) })] }, s);
  }) })] }), e.jsxs("div", { className: "p-5 border-b border-white/5", children: [e.jsxs("div", { className: "flex items-center gap-2 mb-3", children: [e.jsx(w, { className: "w-4 h-4 text-violet-400" }), e.jsx("h3", { className: "text-sm font-semibold text-zinc-200", children: "Sending to" })] }), e.jsx("div", { className: "flex flex-wrap gap-2", children: d.map((t) => e.jsx("span", { className: "px-3 py-1.5 bg-violet-500/10 border border-violet-500/20 rounded-lg text-sm text-violet-200", children: t }, t)) })] }), e.jsx("div", { className: "p-5", children: e.jsxs("div", { className: "space-y-3", children: [e.jsxs("div", { children: [e.jsx("p", { className: "text-[10px] text-zinc-500 uppercase tracking-wider mb-1", children: "Subject" }), e.jsx("p", { className: "text-sm text-zinc-200", children: R || e.jsx("span", { className: "text-zinc-600 italic", children: "Auto-generated from file names" }) })] }), C && e.jsxs("div", { children: [e.jsx("p", { className: "text-[10px] text-zinc-500 uppercase tracking-wider mb-1", children: "Message" }), e.jsx("p", { className: "text-sm text-zinc-300 whitespace-pre-wrap bg-zinc-800/30 p-3 rounded-lg", children: C })] })] }) })] }), e.jsxs("div", { className: "flex items-center gap-3 p-4 rounded-xl bg-gradient-to-r from-emerald-500/5 to-teal-500/5 border border-emerald-500/10", children: [e.jsx("div", { className: "p-2 bg-emerald-500/10 rounded-lg flex-shrink-0", children: e.jsx(Ie, { className: "w-5 h-5 text-emerald-400" }) }), e.jsxs("div", { className: "text-xs text-zinc-400 leading-relaxed", children: [e.jsx("p", { className: "font-semibold text-emerald-300 mb-0.5", children: "Zero-Knowledge Relay" }), "Files pass through server memory only \u2014 never stored, logged, or inspected."] })] })] }, "step3")] }), e.jsxs(r.div, { initial: { opacity: 0, y: 20 }, animate: { opacity: 1, y: 0 }, transition: { delay: 0.15 }, className: "mt-8 space-y-3", children: [e.jsxs("div", { className: "flex gap-3", children: [a > 1 && e.jsxs(p, { variant: "outline", className: "flex-1 h-13 text-sm font-semibold border-zinc-800 text-zinc-300 hover:bg-zinc-800/50 hover:text-white rounded-xl", onClick: we, children: [e.jsx(te, { className: "w-4 h-4 mr-2" }), " Back"] }), a < 3 ? e.jsxs(p, { className: `flex-1 h-13 text-sm font-bold uppercase tracking-wide rounded-xl shadow-lg transition-all
                                    ${L(a) ? "bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-500 hover:to-fuchsia-500 text-white shadow-violet-500/20 hover:shadow-violet-500/30" : "bg-zinc-800 text-zinc-500 cursor-not-allowed shadow-none"}`, onClick: ye, disabled: !L(a), children: ["Continue ", e.jsx(Fe, { className: "w-4 h-4 ml-2" })] }) : e.jsx(p, { className: "flex-1 h-13 text-sm font-bold uppercase tracking-wide bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-500 hover:to-fuchsia-500 text-white shadow-lg shadow-violet-500/20 rounded-xl transition-all hover:shadow-xl hover:shadow-violet-500/30", onClick: () => S(true), disabled: G, children: G ? e.jsxs(e.Fragment, { children: [e.jsx("div", { className: "w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2" }), " Sending..."] }) : e.jsxs(e.Fragment, { children: [e.jsx(W, { className: "w-4 h-4 mr-2" }), " Send to ", d.length, " Recipient", d.length !== 1 ? "s" : ""] }) })] }), e.jsxs("p", { className: "text-[10px] text-center text-zinc-600", children: ["By sending, you agree to our", " ", e.jsx(D, { href: "/terms", className: "underline hover:text-violet-400 transition-colors", children: "Terms" }), " &", " ", e.jsx(D, { href: "/privacy", className: "underline hover:text-violet-400 transition-colors", children: "Privacy Policy" }), "."] })] })] }), e.jsx(ae, { open: he, onOpenChange: S, children: e.jsxs(ie, { className: "sm:max-w-md bg-zinc-950 border border-zinc-800/80 text-zinc-100 shadow-2xl p-0 overflow-hidden rounded-2xl", children: [e.jsxs("div", { className: "relative h-20 bg-gradient-to-r from-violet-950/60 via-fuchsia-950/40 to-violet-950/60 flex items-center justify-center overflow-hidden", children: [e.jsx("div", { className: "absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(139,92,246,0.12),transparent)]" }), e.jsx(r.div, { initial: { scale: 0, rotate: -20 }, animate: { scale: 1, rotate: 0 }, transition: { type: "spring", stiffness: 400, damping: 25 }, className: "w-12 h-12 bg-violet-500/15 rounded-xl border border-violet-500/25 flex items-center justify-center relative z-10", children: e.jsx(W, { className: "w-6 h-6 text-violet-400" }) })] }), e.jsxs("div", { className: "px-6 pb-6 pt-3", children: [e.jsxs(re, { className: "mb-4", children: [e.jsx(le, { className: "text-lg font-bold text-center", children: "Confirm & Send" }), e.jsx(ne, { className: "text-center text-zinc-500 text-sm", children: "Review your delivery before sending" })] }), e.jsxs("div", { className: "space-y-3 mb-5", children: [e.jsxs("div", { className: "bg-zinc-900/60 border border-zinc-800/50 rounded-xl p-3", children: [e.jsxs("div", { className: "flex items-center gap-2 mb-2", children: [e.jsx(b, { className: "w-3.5 h-3.5 text-violet-400" }), e.jsxs("span", { className: "text-xs font-semibold text-zinc-300", children: [l.length, " file", l.length !== 1 ? "s" : ""] }), e.jsx("span", { className: "text-[10px] text-zinc-600 ml-auto", children: m(x) })] }), e.jsxs("div", { className: "space-y-1", children: [l.slice(0, 3).map((t, s) => {
    const n = K(t.type), i = V(t.type);
    return e.jsxs("div", { className: "flex items-center gap-2", children: [e.jsx("div", { className: `p-1 rounded border ${i}`, children: e.jsx(n, { className: "w-2.5 h-2.5" }) }), e.jsx("span", { className: "text-xs text-zinc-400 truncate", children: t.name }), e.jsx("span", { className: "text-[10px] text-zinc-600 ml-auto flex-shrink-0", children: m(t.size) })] }, s);
  }), l.length > 3 && e.jsxs("p", { className: "text-[10px] text-zinc-600 pl-7", children: ["+", l.length - 3, " more"] })] })] }), e.jsxs("div", { className: "bg-zinc-900/60 border border-zinc-800/50 rounded-xl p-3", children: [e.jsxs("div", { className: "flex items-center gap-2 mb-2", children: [e.jsx(w, { className: "w-3.5 h-3.5 text-violet-400" }), e.jsx("span", { className: "text-xs font-semibold text-zinc-300", children: "Sending to" })] }), e.jsx("div", { className: "flex flex-wrap gap-1.5", children: d.map((t) => e.jsx("span", { className: "px-2 py-1 bg-violet-500/10 border border-violet-500/15 rounded-md text-[11px] text-violet-200", children: t }, t)) })] })] }), e.jsxs("div", { className: "grid grid-cols-2 gap-3", children: [e.jsx(p, { variant: "outline", className: "h-11 border-zinc-800 text-zinc-400 hover:bg-zinc-800/50 hover:text-white rounded-xl", onClick: () => S(false), children: "Go Back" }), e.jsxs(p, { className: "h-11 bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-500 hover:to-fuchsia-500 text-white font-bold rounded-xl shadow-lg shadow-violet-500/15", onClick: ze, children: [e.jsx(W, { className: "w-4 h-4 mr-1.5" }), " Send Now"] })] })] })] }) }), e.jsx(ae, { open: me, onOpenChange: (t) => {
    k(t), t || Y(null);
  }, children: e.jsxs(ie, { className: "sm:max-w-md bg-zinc-950 border border-zinc-800/80 text-zinc-100 shadow-2xl p-0 overflow-hidden rounded-2xl", children: [e.jsxs("div", { className: "relative h-36 bg-gradient-to-br from-emerald-950/50 via-zinc-900/60 to-violet-950/30 flex items-center justify-center overflow-hidden", children: [e.jsx(r.div, { initial: { scale: 0, opacity: 0 }, animate: { scale: 3, opacity: 0 }, transition: { duration: 1.5, delay: 0.3, ease: "easeOut" }, className: "absolute w-16 h-16 rounded-full border border-emerald-400/30" }), e.jsx(r.div, { initial: { scale: 0, opacity: 0 }, animate: { scale: 2.5, opacity: 0 }, transition: { duration: 1.5, delay: 0.5, ease: "easeOut" }, className: "absolute w-16 h-16 rounded-full border border-emerald-400/20" }), e.jsx("div", { className: "absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(16,185,129,0.12),transparent_70%)]" }), [...Array(6)].map((t, s) => e.jsx(r.div, { initial: { opacity: 0, y: 20, x: (s % 2 === 0 ? -1 : 1) * (10 + s * 8) }, animate: { opacity: [0, 0.6, 0], y: [20, -30 - s * 10], x: (s % 2 === 0 ? -1 : 1) * (15 + s * 12) }, transition: { duration: 1.5 + s * 0.2, delay: 0.2 + s * 0.1, ease: "easeOut" }, className: "absolute w-1.5 h-1.5 rounded-full", style: { background: s % 3 === 0 ? "#34d399" : s % 3 === 1 ? "#a78bfa" : "#f0abfc" } }, s)), e.jsxs(r.div, { initial: { scale: 0, rotate: -30 }, animate: { scale: 1, rotate: 0 }, transition: { type: "spring", stiffness: 300, damping: 20 }, className: "w-18 h-18 relative z-10", children: [e.jsx("div", { className: "w-[72px] h-[72px] bg-gradient-to-br from-emerald-500/20 to-emerald-500/5 rounded-2xl border border-emerald-500/25 flex items-center justify-center shadow-[0_0_40px_rgba(16,185,129,0.15)]", children: e.jsx(ce, { className: "w-9 h-9 text-emerald-400" }) }), e.jsx(r.div, { initial: { scale: 0 }, animate: { scale: 1 }, transition: { delay: 0.3, type: "spring", stiffness: 500 }, className: "absolute -bottom-2 -right-2 bg-emerald-500 rounded-full p-1.5 shadow-lg shadow-emerald-500/30", children: e.jsx(O, { className: "w-3.5 h-3.5 text-white" }) })] })] }), e.jsxs("div", { className: "px-6 pb-6 pt-3", children: [e.jsxs(re, { className: "mb-5", children: [e.jsx(r.div, { initial: { opacity: 0, y: 10 }, animate: { opacity: 1, y: 0 }, transition: { delay: 0.15 }, children: e.jsx(le, { className: "text-xl font-bold text-center bg-gradient-to-r from-emerald-300 to-teal-300 bg-clip-text text-transparent", children: "Successfully Delivered!" }) }), e.jsx(r.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, transition: { delay: 0.25 }, children: e.jsx(ne, { className: "text-center text-zinc-500 text-sm", children: "Your files have been securely relayed via zero-knowledge transfer." }) })] }), f && e.jsxs(r.div, { initial: { opacity: 0, y: 10 }, animate: { opacity: 1, y: 0 }, transition: { delay: 0.3 }, className: "bg-zinc-900/50 border border-zinc-800/50 rounded-xl p-4 mb-4 space-y-3", children: [e.jsxs("div", { className: "flex items-center gap-2", children: [e.jsx(Me, { className: "w-3.5 h-3.5 text-emerald-400" }), e.jsx("p", { className: "text-[11px] font-mono uppercase tracking-wider text-zinc-500", children: "Delivery Receipt" })] }), e.jsxs("div", { className: "flex items-start gap-3", children: [e.jsx("div", { className: "p-1.5 bg-violet-500/10 rounded-lg mt-0.5", children: e.jsx(b, { className: "w-3.5 h-3.5 text-violet-400" }) }), e.jsxs("div", { className: "flex-1 min-w-0", children: [e.jsxs("p", { className: "text-xs text-zinc-400 mb-0.5", children: [f.fileCount, " file", f.fileCount !== 1 ? "s" : "", " \u2022 ", m(f.totalSize)] }), e.jsx("p", { className: "text-[11px] text-zinc-600 truncate", children: f.fileNames.join(", ") })] })] }), e.jsxs("div", { className: "flex items-start gap-3", children: [e.jsx("div", { className: "p-1.5 bg-emerald-500/10 rounded-lg mt-0.5", children: e.jsx(w, { className: "w-3.5 h-3.5 text-emerald-400" }) }), e.jsx("div", { className: "flex-1 min-w-0", children: e.jsx("div", { className: "flex flex-wrap gap-1", children: f.recipients.map((t) => e.jsx("span", { className: "px-2 py-0.5 bg-emerald-500/8 border border-emerald-500/15 rounded text-[11px] text-emerald-300/80", children: t }, t)) }) })] }), e.jsxs("div", { className: "flex items-center gap-2 pt-1 border-t border-zinc-800/50", children: [e.jsx(_e, { className: "w-3 h-3 text-zinc-600" }), e.jsx("p", { className: "text-[10px] text-zinc-600", children: (/* @__PURE__ */ new Date()).toLocaleString("en-US", { hour: "numeric", minute: "2-digit", hour12: true, month: "short", day: "numeric" }) })] })] }), e.jsx(r.div, { initial: { opacity: 0, y: 5 }, animate: { opacity: 1, y: 0 }, transition: { delay: 0.4 }, className: "bg-amber-500/5 border border-amber-500/12 rounded-xl p-3.5 mb-5 text-left", children: e.jsxs("div", { className: "flex items-start gap-2.5", children: [e.jsx("div", { className: "p-1.5 bg-amber-500/10 rounded-lg shrink-0", children: e.jsx(Ke, { className: "w-3.5 h-3.5 text-amber-500" }) }), e.jsxs("div", { children: [e.jsx("p", { className: "text-xs font-semibold text-amber-400 mb-0.5", children: "Check spam folder" }), e.jsxs("p", { className: "text-[11px] text-amber-200/50 leading-relaxed", children: ["If the email doesn't appear within 2 minutes, look in ", e.jsx("strong", { className: "text-amber-200/70", children: "Spam" }), " or ", e.jsx("strong", { className: "text-amber-200/70", children: "Junk" }), "."] })] })] }) }), e.jsxs(r.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, transition: { delay: 0.5 }, className: "space-y-2.5", children: [e.jsxs(p, { className: "w-full h-12 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white font-bold tracking-wide rounded-xl shadow-lg shadow-emerald-900/20 transition-all", onClick: () => k(false), children: [e.jsx(O, { className: "w-4 h-4 mr-2" }), " Done"] }), e.jsxs(p, { variant: "ghost", className: "w-full h-10 text-zinc-500 hover:text-violet-300 text-xs gap-1.5", onClick: () => {
    k(false), j(1);
  }, children: [e.jsx(Ue, { className: "w-3.5 h-3.5" }), " Send Another"] })] })] })] }) })] });
}
export {
  tt as default
};
