var Iu=Object.defineProperty;var vs=s=>{throw TypeError(s)};var ku=(s,e,t)=>e in s?Iu(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var u=(s,e,t)=>ku(s,typeof e!="symbol"?e+"":e,t),Lt=(s,e,t)=>e.has(s)||vs("Cannot "+t);var f=(s,e,t)=>(Lt(s,e,"read from private field"),t?t.call(s):e.get(s)),j=(s,e,t)=>e.has(s)?vs("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),E=(s,e,t,r)=>(Lt(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t),O=(s,e,t)=>(Lt(s,e,"access private method"),t);import{S as xa,p as _s,m as se,s as bt,n as vt,o as Pu,q as $t,t as bs,v as Eu,w as Au,x as Ou,y as xs,z as Rt,A as ws,D as Du,r as X,E as us,u as Ru}from"./index-Dr8jgfVR.js";var q,I,ft,B,Se,Le,fe,te,pt,Fe,ze,Ne,Ce,pe,Ue,A,Ke,Qt,qt,Gt,Xt,Wt,Kt,Jt,wa,Ms,ju=(Ms=class extends xa{constructor(e,t){super();j(this,A);j(this,q);j(this,I);j(this,ft);j(this,B);j(this,Se);j(this,Le);j(this,fe);j(this,te);j(this,pt);j(this,Fe);j(this,ze);j(this,Ne);j(this,Ce);j(this,pe);j(this,Ue,new Set);this.options=t,E(this,q,e),E(this,te,null),E(this,fe,_s()),this.options.experimental_prefetchInRender||f(this,fe).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(f(this,I).addObserver(this),Ts(f(this,I),this.options)?O(this,A,Ke).call(this):this.updateResult(),O(this,A,Xt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ht(f(this,I),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ht(f(this,I),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,O(this,A,Wt).call(this),O(this,A,Kt).call(this),f(this,I).removeObserver(this)}setOptions(e,t){const r=this.options,n=f(this,I);if(this.options=f(this,q).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof se(this.options.enabled,f(this,I))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");O(this,A,Jt).call(this),f(this,I).setOptions(this.options),r._defaulted&&!bt(this.options,r)&&f(this,q).getQueryCache().notify({type:"observerOptionsUpdated",query:f(this,I),observer:this});const i=this.hasListeners();i&&Ss(f(this,I),n,this.options,r)&&O(this,A,Ke).call(this),this.updateResult(t),i&&(f(this,I)!==n||se(this.options.enabled,f(this,I))!==se(r.enabled,f(this,I))||vt(this.options.staleTime,f(this,I))!==vt(r.staleTime,f(this,I)))&&O(this,A,Qt).call(this);const a=O(this,A,qt).call(this);i&&(f(this,I)!==n||se(this.options.enabled,f(this,I))!==se(r.enabled,f(this,I))||a!==f(this,pe))&&O(this,A,Gt).call(this,a)}getOptimisticResult(e){const t=f(this,q).getQueryCache().build(f(this,q),e),r=this.createResult(t,e);return Vu(this,r)&&(E(this,B,r),E(this,Le,this.options),E(this,Se,f(this,I).state)),r}getCurrentResult(){return f(this,B)}trackResult(e,t){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),t==null||t(n),e[n])})}),r}trackProp(e){f(this,Ue).add(e)}getCurrentQuery(){return f(this,I)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=f(this,q).defaultQueryOptions(e),r=f(this,q).getQueryCache().build(f(this,q),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return O(this,A,Ke).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),f(this,B)))}createResult(e,t){var ys;const r=f(this,I),n=this.options,i=f(this,B),a=f(this,Se),o=f(this,Le),d=e!==r?e.state:f(this,ft),{state:c}=e;let _={...c},w=!1,C;if(t._optimisticResults){const U=this.hasListeners(),Oe=!U&&Ts(e,t),De=U&&Ss(e,r,t,n);(Oe||De)&&(_={..._,...Ou(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:xe,errorUpdatedAt:he,status:ae}=_;if(t.select&&_.data!==void 0)if(i&&_.data===(a==null?void 0:a.data)&&t.select===f(this,pt))C=f(this,Fe);else try{E(this,pt,t.select),C=t.select(_.data),C=xs(i==null?void 0:i.data,C,t),E(this,Fe,C),E(this,te,null)}catch(U){E(this,te,U)}else C=_.data;if(t.placeholderData!==void 0&&C===void 0&&ae==="pending"){let U;if(i!=null&&i.isPlaceholderData&&t.placeholderData===(o==null?void 0:o.placeholderData))U=i.data;else if(U=typeof t.placeholderData=="function"?t.placeholderData((ys=f(this,ze))==null?void 0:ys.state.data,f(this,ze)):t.placeholderData,t.select&&U!==void 0)try{U=t.select(U),E(this,te,null)}catch(Oe){E(this,te,Oe)}U!==void 0&&(ae="success",C=xs(i==null?void 0:i.data,U,t),w=!0)}f(this,te)&&(xe=f(this,te),C=f(this,Fe),he=Date.now(),ae="error");const Mt=_.fetchStatus==="fetching",Vt=ae==="pending",Zt=ae==="error",ms=Vt&&Mt,gs=C!==void 0,ee={status:ae,fetchStatus:_.fetchStatus,isPending:Vt,isSuccess:ae==="success",isError:Zt,isInitialLoading:ms,isLoading:ms,data:C,dataUpdatedAt:_.dataUpdatedAt,error:xe,errorUpdatedAt:he,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>d.dataUpdateCount||_.errorUpdateCount>d.errorUpdateCount,isFetching:Mt,isRefetching:Mt&&!Vt,isLoadingError:Zt&&!gs,isPaused:_.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:Zt&&gs,isStale:cs(e,t),refetch:this.refetch,promise:f(this,fe)};if(this.options.experimental_prefetchInRender){const U=yt=>{ee.status==="error"?yt.reject(ee.error):ee.data!==void 0&&yt.resolve(ee.data)},Oe=()=>{const yt=E(this,fe,ee.promise=_s());U(yt)},De=f(this,fe);switch(De.status){case"pending":e.queryHash===r.queryHash&&U(De);break;case"fulfilled":(ee.status==="error"||ee.data!==De.value)&&Oe();break;case"rejected":(ee.status!=="error"||ee.error!==De.reason)&&Oe();break}}return ee}updateResult(e){const t=f(this,B),r=this.createResult(f(this,I),this.options);if(E(this,Se,f(this,I).state),E(this,Le,this.options),f(this,Se).data!==void 0&&E(this,ze,f(this,I)),bt(r,t))return;E(this,B,r);const n={},i=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!f(this,Ue).size)return!0;const l=new Set(o??f(this,Ue));return this.options.throwOnError&&l.add("error"),Object.keys(f(this,B)).some(d=>{const c=d;return f(this,B)[c]!==t[c]&&l.has(c)})};(e==null?void 0:e.listeners)!==!1&&i()&&(n.listeners=!0),O(this,A,wa).call(this,{...n,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&O(this,A,Xt).call(this)}},q=new WeakMap,I=new WeakMap,ft=new WeakMap,B=new WeakMap,Se=new WeakMap,Le=new WeakMap,fe=new WeakMap,te=new WeakMap,pt=new WeakMap,Fe=new WeakMap,ze=new WeakMap,Ne=new WeakMap,Ce=new WeakMap,pe=new WeakMap,Ue=new WeakMap,A=new WeakSet,Ke=function(e){O(this,A,Jt).call(this);let t=f(this,I).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Pu)),t},Qt=function(){O(this,A,Wt).call(this);const e=vt(this.options.staleTime,f(this,I));if($t||f(this,B).isStale||!bs(e))return;const r=Eu(f(this,B).dataUpdatedAt,e)+1;E(this,Ne,setTimeout(()=>{f(this,B).isStale||this.updateResult()},r))},qt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(f(this,I)):this.options.refetchInterval)??!1},Gt=function(e){O(this,A,Kt).call(this),E(this,pe,e),!($t||se(this.options.enabled,f(this,I))===!1||!bs(f(this,pe))||f(this,pe)===0)&&E(this,Ce,setInterval(()=>{(this.options.refetchIntervalInBackground||Au.isFocused())&&O(this,A,Ke).call(this)},f(this,pe)))},Xt=function(){O(this,A,Qt).call(this),O(this,A,Gt).call(this,O(this,A,qt).call(this))},Wt=function(){f(this,Ne)&&(clearTimeout(f(this,Ne)),E(this,Ne,void 0))},Kt=function(){f(this,Ce)&&(clearInterval(f(this,Ce)),E(this,Ce,void 0))},Jt=function(){const e=f(this,q).getQueryCache().build(f(this,q),this.options);if(e===f(this,I))return;const t=f(this,I);E(this,I,e),E(this,ft,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},wa=function(e){Rt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(f(this,B))}),f(this,q).getQueryCache().notify({query:f(this,I),type:"observerResultsUpdated"})})},Ms);function Mu(s,e){return se(e.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&e.retryOnMount===!1)}function Ts(s,e){return Mu(s,e)||s.state.data!==void 0&&Ht(s,e,e.refetchOnMount)}function Ht(s,e,t){if(se(e.enabled,s)!==!1){const r=typeof t=="function"?t(s):t;return r==="always"||r!==!1&&cs(s,e)}return!1}function Ss(s,e,t,r){return(s!==e||se(r.enabled,s)===!1)&&(!t.suspense||s.state.status!=="error")&&cs(s,t)}function cs(s,e){return se(e.enabled,s)!==!1&&s.isStaleByTime(vt(e.staleTime,s))}function Vu(s,e){return!bt(s.getCurrentResult(),e)}var me,ge,G,ce,le,_t,Yt,Vs,Zu=(Vs=class extends xa{constructor(e,t){super();j(this,le);j(this,me);j(this,ge);j(this,G);j(this,ce);E(this,me,e),this.setOptions(t),this.bindMethods(),O(this,le,_t).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const t=this.options;this.options=f(this,me).defaultMutationOptions(e),bt(this.options,t)||f(this,me).getMutationCache().notify({type:"observerOptionsUpdated",mutation:f(this,G),observer:this}),t!=null&&t.mutationKey&&this.options.mutationKey&&ws(t.mutationKey)!==ws(this.options.mutationKey)?this.reset():((r=f(this,G))==null?void 0:r.state.status)==="pending"&&f(this,G).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=f(this,G))==null||e.removeObserver(this)}onMutationUpdate(e){O(this,le,_t).call(this),O(this,le,Yt).call(this,e)}getCurrentResult(){return f(this,ge)}reset(){var e;(e=f(this,G))==null||e.removeObserver(this),E(this,G,void 0),O(this,le,_t).call(this),O(this,le,Yt).call(this)}mutate(e,t){var r;return E(this,ce,t),(r=f(this,G))==null||r.removeObserver(this),E(this,G,f(this,me).getMutationCache().build(f(this,me),this.options)),f(this,G).addObserver(this),f(this,G).execute(e)}},me=new WeakMap,ge=new WeakMap,G=new WeakMap,ce=new WeakMap,le=new WeakSet,_t=function(){var t;const e=((t=f(this,G))==null?void 0:t.state)??Du();E(this,ge,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Yt=function(e){Rt.batch(()=>{var t,r,n,i,a,o,l,d;if(f(this,ce)&&this.hasListeners()){const c=f(this,ge).variables,_=f(this,ge).context;(e==null?void 0:e.type)==="success"?((r=(t=f(this,ce)).onSuccess)==null||r.call(t,e.data,c,_),(i=(n=f(this,ce)).onSettled)==null||i.call(n,e.data,null,c,_)):(e==null?void 0:e.type)==="error"&&((o=(a=f(this,ce)).onError)==null||o.call(a,e.error,c,_),(d=(l=f(this,ce)).onSettled)==null||d.call(l,void 0,e.error,c,_))}this.listeners.forEach(c=>{c(f(this,ge))})})},Vs),Ta=X.createContext(!1),Lu=()=>X.useContext(Ta);Ta.Provider;function Fu(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var zu=X.createContext(Fu()),Uu=()=>X.useContext(zu);function Sa(s,e){return typeof s=="function"?s(...e):!!s}function es(){}var Bu=(s,e)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(e.isReset()||(s.retryOnMount=!1))},$u=s=>{X.useEffect(()=>{s.clearReset()},[s])},Qu=({result:s,errorResetBoundary:e,throwOnError:t,query:r})=>s.isError&&!e.isReset()&&!s.isFetching&&r&&Sa(t,[s.error,r]),qu=s=>{s.suspense&&(s.staleTime===void 0&&(s.staleTime=1e3),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3)))},Gu=(s,e)=>s.isLoading&&s.isFetching&&!e,Xu=(s,e)=>(s==null?void 0:s.suspense)&&e.isPending,Ns=(s,e,t)=>e.fetchOptimistic(s).catch(()=>{t.clearReset()});function Wu(s,e,t){var c,_,w,C,xe;const r=us(),n=Lu(),i=Uu(),a=r.defaultQueryOptions(s);(_=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||_.call(c,a),a._optimisticResults=n?"isRestoring":"optimistic",qu(a),Bu(a,i),$u(i);const o=!r.getQueryCache().get(a.queryHash),[l]=X.useState(()=>new e(r,a)),d=l.getOptimisticResult(a);if(X.useSyncExternalStore(X.useCallback(he=>{const ae=n?es:l.subscribe(Rt.batchCalls(he));return l.updateResult(),ae},[l,n]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),X.useEffect(()=>{l.setOptions(a,{listeners:!1})},[a,l]),Xu(a,d))throw Ns(a,l,i);if(Qu({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw d.error;if((C=(w=r.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||C.call(w,a,d),a.experimental_prefetchInRender&&!$t&&Gu(d,n)){const he=o?Ns(a,l,i):(xe=r.getQueryCache().get(a.queryHash))==null?void 0:xe.promise;he==null||he.catch(es).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?d:l.trackResult(d)}function Ku(s,e){return Wu(s,ju)}function Ge(s,e){const t=us(),[r]=X.useState(()=>new Zu(t,s));X.useEffect(()=>{r.setOptions(s)},[r,s]);const n=X.useSyncExternalStore(X.useCallback(a=>r.subscribe(Rt.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=X.useCallback((a,o)=>{r.mutate(a,o).catch(es)},[r]);if(n.error&&Sa(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}var k;(function(s){s.assertEqual=n=>n;function e(n){}s.assertIs=e;function t(n){throw new Error}s.assertNever=t,s.arrayToEnum=n=>{const i={};for(const a of n)i[a]=a;return i},s.getValidEnumValues=n=>{const i=s.objectKeys(n).filter(o=>typeof n[n[o]]!="number"),a={};for(const o of i)a[o]=n[o];return s.objectValues(a)},s.objectValues=n=>s.objectKeys(n).map(function(i){return n[i]}),s.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const i=[];for(const a in n)Object.prototype.hasOwnProperty.call(n,a)&&i.push(a);return i},s.find=(n,i)=>{for(const a of n)if(i(a))return a},s.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function r(n,i=" | "){return n.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}s.joinValues=r,s.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(k||(k={}));var ts;(function(s){s.mergeShapes=(e,t)=>({...e,...t})})(ts||(ts={}));const y=k.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ue=s=>{switch(typeof s){case"undefined":return y.undefined;case"string":return y.string;case"number":return isNaN(s)?y.nan:y.number;case"boolean":return y.boolean;case"function":return y.function;case"bigint":return y.bigint;case"symbol":return y.symbol;case"object":return Array.isArray(s)?y.array:s===null?y.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?y.promise:typeof Map<"u"&&s instanceof Map?y.map:typeof Set<"u"&&s instanceof Set?y.set:typeof Date<"u"&&s instanceof Date?y.date:y.object;default:return y.unknown}},p=k.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ju=s=>JSON.stringify(s,null,2).replace(/"([^"]+)":/g,"$1:");class W extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(i){return i.message},r={_errors:[]},n=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(n);else if(a.code==="invalid_return_type")n(a.returnTypeError);else if(a.code==="invalid_arguments")n(a.argumentsError);else if(a.path.length===0)r._errors.push(t(a));else{let o=r,l=0;for(;l<a.path.length;){const d=a.path[l];l===a.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(t(a))):o[d]=o[d]||{_errors:[]},o=o[d],l++}}};return n(this),r}static assert(e){if(!(e instanceof W))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,k.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}W.create=s=>new W(s);const Be=(s,e)=>{let t;switch(s.code){case p.invalid_type:s.received===y.undefined?t="Required":t=`Expected ${s.expected}, received ${s.received}`;break;case p.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(s.expected,k.jsonStringifyReplacer)}`;break;case p.unrecognized_keys:t=`Unrecognized key(s) in object: ${k.joinValues(s.keys,", ")}`;break;case p.invalid_union:t="Invalid input";break;case p.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${k.joinValues(s.options)}`;break;case p.invalid_enum_value:t=`Invalid enum value. Expected ${k.joinValues(s.options)}, received '${s.received}'`;break;case p.invalid_arguments:t="Invalid function arguments";break;case p.invalid_return_type:t="Invalid function return type";break;case p.invalid_date:t="Invalid date";break;case p.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(t=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?t=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?t=`Invalid input: must end with "${s.validation.endsWith}"`:k.assertNever(s.validation):s.validation!=="regex"?t=`Invalid ${s.validation}`:t="Invalid";break;case p.too_small:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:t="Invalid input";break;case p.too_big:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?t=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:t="Invalid input";break;case p.custom:t="Invalid input";break;case p.invalid_intersection_types:t="Intersection results could not be merged";break;case p.not_multiple_of:t=`Number must be a multiple of ${s.multipleOf}`;break;case p.not_finite:t="Number must be finite";break;default:t=e.defaultError,k.assertNever(s)}return{message:t}};let Na=Be;function Hu(s){Na=s}function xt(){return Na}const wt=s=>{const{data:e,path:t,errorMaps:r,issueData:n}=s,i=[...t,...n.path||[]],a={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let o="";const l=r.filter(d=>!!d).slice().reverse();for(const d of l)o=d(a,{data:e,defaultError:o}).message;return{...n,path:i,message:o}},Yu=[];function g(s,e){const t=xt(),r=wt({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,t,t===Be?void 0:Be].filter(n=>!!n)});s.common.issues.push(r)}class z{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const n of t){if(n.status==="aborted")return x;n.status==="dirty"&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const n of t){const i=await n.key,a=await n.value;r.push({key:i,value:a})}return z.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const n of t){const{key:i,value:a}=n;if(i.status==="aborted"||a.status==="aborted")return x;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||n.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const x=Object.freeze({status:"aborted"}),je=s=>({status:"dirty",value:s}),Q=s=>({status:"valid",value:s}),ss=s=>s.status==="aborted",rs=s=>s.status==="dirty",ke=s=>s.status==="valid",Ye=s=>typeof Promise<"u"&&s instanceof Promise;function Tt(s,e,t,r){if(typeof e=="function"?s!==e||!0:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(s)}function Ca(s,e,t,r,n){if(typeof e=="function"?s!==e||!0:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(s,t),t}var v;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(v||(v={}));var Je,He;class ne{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Cs=(s,e)=>{if(ke(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new W(s.common.issues);return this._error=t,this._error}}};function T(s){if(!s)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:n}=s;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(a,o)=>{var l,d;const{message:c}=s;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:(l=c??r)!==null&&l!==void 0?l:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(d=c??t)!==null&&d!==void 0?d:o.defaultError}},description:n}}class N{get description(){return this._def.description}_getType(e){return ue(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ue(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new z,ctx:{common:e.parent.common,data:e.data,parsedType:ue(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Ye(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const n={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ue(e)},i=this._parseSync({data:e,path:n.path,parent:n});return Cs(n,i)}"~validate"(e){var t,r;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ue(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return ke(i)?{value:i.value}:{issues:n.common.issues}}catch(i){!((r=(t=i==null?void 0:i.message)===null||t===void 0?void 0:t.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>ke(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ue(e)},n=this._parse({data:e,path:r.path,parent:r}),i=await(Ye(n)?n:Promise.resolve(n));return Cs(r,i)}refine(e,t){const r=n=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,i)=>{const a=e(n),o=()=>i.addIssue({code:p.custom,...r(n)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,t){return this._refinement((r,n)=>e(r)?!0:(n.addIssue(typeof t=="function"?t(r,n):t),!1))}_refinement(e){return new Y({schema:this,typeName:b.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return re.create(this,this._def)}nullable(){return be.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return H.create(this)}promise(){return Qe.create(this,this._def)}or(e){return rt.create([this,e],this._def)}and(e){return nt.create(this,e,this._def)}transform(e){return new Y({...T(this._def),schema:this,typeName:b.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new ct({...T(this._def),innerType:this,defaultValue:t,typeName:b.ZodDefault})}brand(){return new ls({typeName:b.ZodBranded,type:this,...T(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new lt({...T(this._def),innerType:this,catchValue:t,typeName:b.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return mt.create(this,e)}readonly(){return dt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ec=/^c[^\s-]{8,}$/i,tc=/^[0-9a-z]+$/,sc=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rc=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nc=/^[a-z0-9_-]{21}$/i,ic=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ac=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,oc=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,uc="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ft;const cc=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lc=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,dc=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,hc=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fc=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,pc=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ia="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",mc=new RegExp(`^${Ia}$`);function ka(s){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`),e}function gc(s){return new RegExp(`^${ka(s)}$`)}function Pa(s){let e=`${Ia}T${ka(s)}`;const t=[];return t.push(s.local?"Z?":"Z"),s.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function yc(s,e){return!!((e==="v4"||!e)&&cc.test(s)||(e==="v6"||!e)&&dc.test(s))}function vc(s,e){if(!ic.test(s))return!1;try{const[t]=s.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),n=JSON.parse(atob(r));return!(typeof n!="object"||n===null||!n.typ||!n.alg||e&&n.alg!==e)}catch{return!1}}function _c(s,e){return!!((e==="v4"||!e)&&lc.test(s)||(e==="v6"||!e)&&hc.test(s))}class J extends N{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==y.string){const i=this._getOrReturnCtx(e);return g(i,{code:p.invalid_type,expected:y.string,received:i.parsedType}),x}const r=new z;let n;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),g(n,{code:p.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),g(n,{code:p.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(n=this._getOrReturnCtx(e,n),a?g(n,{code:p.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&g(n,{code:p.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")oc.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"email",code:p.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Ft||(Ft=new RegExp(uc,"u")),Ft.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"emoji",code:p.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")rc.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"uuid",code:p.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")nc.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"nanoid",code:p.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")ec.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"cuid",code:p.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")tc.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"cuid2",code:p.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")sc.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"ulid",code:p.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),g(n,{validation:"url",code:p.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"regex",code:p.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),g(n,{code:p.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),g(n,{code:p.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),g(n,{code:p.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Pa(i).test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{code:p.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?mc.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{code:p.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?gc(i).test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{code:p.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?ac.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"duration",code:p.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?yc(e.data,i.version)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"ip",code:p.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?vc(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"jwt",code:p.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?_c(e.data,i.version)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"cidr",code:p.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?fc.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"base64",code:p.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?pc.test(e.data)||(n=this._getOrReturnCtx(e,n),g(n,{validation:"base64url",code:p.invalid_string,message:i.message}),r.dirty()):k.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(n=>e.test(n),{validation:t,code:p.invalid_string,...v.errToObj(r)})}_addCheck(e){return new J({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...v.errToObj(e)})}url(e){return this._addCheck({kind:"url",...v.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...v.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...v.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...v.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...v.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...v.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...v.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...v.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...v.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...v.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...v.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...v.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...v.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...v.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...v.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...v.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...v.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...v.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...v.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...v.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...v.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...v.errToObj(t)})}nonempty(e){return this.min(1,v.errToObj(e))}trim(){return new J({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new J({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new J({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}J.create=s=>{var e;return new J({checks:[],typeName:b.ZodString,coerce:(e=s==null?void 0:s.coerce)!==null&&e!==void 0?e:!1,...T(s)})};function bc(s,e){const t=(s.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,n=t>r?t:r,i=parseInt(s.toFixed(n).replace(".","")),a=parseInt(e.toFixed(n).replace(".",""));return i%a/Math.pow(10,n)}class ye extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==y.number){const i=this._getOrReturnCtx(e);return g(i,{code:p.invalid_type,expected:y.number,received:i.parsedType}),x}let r;const n=new z;for(const i of this._def.checks)i.kind==="int"?k.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),g(r,{code:p.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:p.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:p.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?bc(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),g(r,{code:p.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),g(r,{code:p.not_finite,message:i.message}),n.dirty()):k.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,v.toString(t))}gt(e,t){return this.setLimit("min",e,!1,v.toString(t))}lte(e,t){return this.setLimit("max",e,!0,v.toString(t))}lt(e,t){return this.setLimit("max",e,!1,v.toString(t))}setLimit(e,t,r,n){return new ye({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:v.toString(n)}]})}_addCheck(e){return new ye({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:v.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:v.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:v.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:v.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:v.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:v.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:v.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:v.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:v.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&k.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ye.create=s=>new ye({checks:[],typeName:b.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...T(s)});class ve extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==y.bigint)return this._getInvalidInput(e);let r;const n=new z;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:p.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:p.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),g(r,{code:p.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):k.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return g(t,{code:p.invalid_type,expected:y.bigint,received:t.parsedType}),x}gte(e,t){return this.setLimit("min",e,!0,v.toString(t))}gt(e,t){return this.setLimit("min",e,!1,v.toString(t))}lte(e,t){return this.setLimit("max",e,!0,v.toString(t))}lt(e,t){return this.setLimit("max",e,!1,v.toString(t))}setLimit(e,t,r,n){return new ve({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:v.toString(n)}]})}_addCheck(e){return new ve({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:v.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:v.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:v.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:v.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:v.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ve.create=s=>{var e;return new ve({checks:[],typeName:b.ZodBigInt,coerce:(e=s==null?void 0:s.coerce)!==null&&e!==void 0?e:!1,...T(s)})};class et extends N{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==y.boolean){const r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:y.boolean,received:r.parsedType}),x}return Q(e.data)}}et.create=s=>new et({typeName:b.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...T(s)});class Pe extends N{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==y.date){const i=this._getOrReturnCtx(e);return g(i,{code:p.invalid_type,expected:y.date,received:i.parsedType}),x}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return g(i,{code:p.invalid_date}),x}const r=new z;let n;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),g(n,{code:p.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),g(n,{code:p.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):k.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Pe({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:v.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:v.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Pe.create=s=>new Pe({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:b.ZodDate,...T(s)});class St extends N{_parse(e){if(this._getType(e)!==y.symbol){const r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:y.symbol,received:r.parsedType}),x}return Q(e.data)}}St.create=s=>new St({typeName:b.ZodSymbol,...T(s)});class tt extends N{_parse(e){if(this._getType(e)!==y.undefined){const r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:y.undefined,received:r.parsedType}),x}return Q(e.data)}}tt.create=s=>new tt({typeName:b.ZodUndefined,...T(s)});class st extends N{_parse(e){if(this._getType(e)!==y.null){const r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:y.null,received:r.parsedType}),x}return Q(e.data)}}st.create=s=>new st({typeName:b.ZodNull,...T(s)});class $e extends N{constructor(){super(...arguments),this._any=!0}_parse(e){return Q(e.data)}}$e.create=s=>new $e({typeName:b.ZodAny,...T(s)});class Ie extends N{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Q(e.data)}}Ie.create=s=>new Ie({typeName:b.ZodUnknown,...T(s)});class de extends N{_parse(e){const t=this._getOrReturnCtx(e);return g(t,{code:p.invalid_type,expected:y.never,received:t.parsedType}),x}}de.create=s=>new de({typeName:b.ZodNever,...T(s)});class Nt extends N{_parse(e){if(this._getType(e)!==y.undefined){const r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:y.void,received:r.parsedType}),x}return Q(e.data)}}Nt.create=s=>new Nt({typeName:b.ZodVoid,...T(s)});class H extends N{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==y.array)return g(t,{code:p.invalid_type,expected:y.array,received:t.parsedType}),x;if(n.exactLength!==null){const a=t.data.length>n.exactLength.value,o=t.data.length<n.exactLength.value;(a||o)&&(g(t,{code:a?p.too_big:p.too_small,minimum:o?n.exactLength.value:void 0,maximum:a?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&(g(t,{code:p.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&(g(t,{code:p.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((a,o)=>n.type._parseAsync(new ne(t,a,t.path,o)))).then(a=>z.mergeArray(r,a));const i=[...t.data].map((a,o)=>n.type._parseSync(new ne(t,a,t.path,o)));return z.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new H({...this._def,minLength:{value:e,message:v.toString(t)}})}max(e,t){return new H({...this._def,maxLength:{value:e,message:v.toString(t)}})}length(e,t){return new H({...this._def,exactLength:{value:e,message:v.toString(t)}})}nonempty(e){return this.min(1,e)}}H.create=(s,e)=>new H({type:s,minLength:null,maxLength:null,exactLength:null,typeName:b.ZodArray,...T(e)});function Re(s){if(s instanceof R){const e={};for(const t in s.shape){const r=s.shape[t];e[t]=re.create(Re(r))}return new R({...s._def,shape:()=>e})}else return s instanceof H?new H({...s._def,type:Re(s.element)}):s instanceof re?re.create(Re(s.unwrap())):s instanceof be?be.create(Re(s.unwrap())):s instanceof ie?ie.create(s.items.map(e=>Re(e))):s}class R extends N{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=k.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==y.object){const d=this._getOrReturnCtx(e);return g(d,{code:p.invalid_type,expected:y.object,received:d.parsedType}),x}const{status:r,ctx:n}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof de&&this._def.unknownKeys==="strip"))for(const d in n.data)a.includes(d)||o.push(d);const l=[];for(const d of a){const c=i[d],_=n.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new ne(n,_,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof de){const d=this._def.unknownKeys;if(d==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:n.data[c]}});else if(d==="strict")o.length>0&&(g(n,{code:p.unrecognized_keys,keys:o}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const c of o){const _=n.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new ne(n,_,n.path,c)),alwaysSet:c in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const c of l){const _=await c.key,w=await c.value;d.push({key:_,value:w,alwaysSet:c.alwaysSet})}return d}).then(d=>z.mergeObjectSync(r,d)):z.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return v.errToObj,new R({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var n,i,a,o;const l=(a=(i=(n=this._def).errorMap)===null||i===void 0?void 0:i.call(n,t,r).message)!==null&&a!==void 0?a:r.defaultError;return t.code==="unrecognized_keys"?{message:(o=v.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new R({...this._def,unknownKeys:"strip"})}passthrough(){return new R({...this._def,unknownKeys:"passthrough"})}extend(e){return new R({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new R({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:b.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new R({...this._def,catchall:e})}pick(e){const t={};return k.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new R({...this._def,shape:()=>t})}omit(e){const t={};return k.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new R({...this._def,shape:()=>t})}deepPartial(){return Re(this)}partial(e){const t={};return k.objectKeys(this.shape).forEach(r=>{const n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new R({...this._def,shape:()=>t})}required(e){const t={};return k.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof re;)i=i._def.innerType;t[r]=i}}),new R({...this._def,shape:()=>t})}keyof(){return Ea(k.objectKeys(this.shape))}}R.create=(s,e)=>new R({shape:()=>s,unknownKeys:"strip",catchall:de.create(),typeName:b.ZodObject,...T(e)});R.strictCreate=(s,e)=>new R({shape:()=>s,unknownKeys:"strict",catchall:de.create(),typeName:b.ZodObject,...T(e)});R.lazycreate=(s,e)=>new R({shape:s,unknownKeys:"strip",catchall:de.create(),typeName:b.ZodObject,...T(e)});class rt extends N{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function n(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new W(o.ctx.common.issues));return g(t,{code:p.invalid_union,unionErrors:a}),x}if(t.common.async)return Promise.all(r.map(async i=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(n);{let i;const a=[];for(const l of r){const d={...t,common:{...t.common,issues:[]},parent:null},c=l._parseSync({data:t.data,path:t.path,parent:d});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(l=>new W(l));return g(t,{code:p.invalid_union,unionErrors:o}),x}}get options(){return this._def.options}}rt.create=(s,e)=>new rt({options:s,typeName:b.ZodUnion,...T(e)});const oe=s=>s instanceof at?oe(s.schema):s instanceof Y?oe(s.innerType()):s instanceof ot?[s.value]:s instanceof _e?s.options:s instanceof ut?k.objectValues(s.enum):s instanceof ct?oe(s._def.innerType):s instanceof tt?[void 0]:s instanceof st?[null]:s instanceof re?[void 0,...oe(s.unwrap())]:s instanceof be?[null,...oe(s.unwrap())]:s instanceof ls||s instanceof dt?oe(s.unwrap()):s instanceof lt?oe(s._def.innerType):[];class jt extends N{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==y.object)return g(t,{code:p.invalid_type,expected:y.object,received:t.parsedType}),x;const r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(g(t,{code:p.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),x)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const n=new Map;for(const i of t){const a=oe(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(n.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);n.set(o,i)}}return new jt({typeName:b.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...T(r)})}}function ns(s,e){const t=ue(s),r=ue(e);if(s===e)return{valid:!0,data:s};if(t===y.object&&r===y.object){const n=k.objectKeys(e),i=k.objectKeys(s).filter(o=>n.indexOf(o)!==-1),a={...s,...e};for(const o of i){const l=ns(s[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(t===y.array&&r===y.array){if(s.length!==e.length)return{valid:!1};const n=[];for(let i=0;i<s.length;i++){const a=s[i],o=e[i],l=ns(a,o);if(!l.valid)return{valid:!1};n.push(l.data)}return{valid:!0,data:n}}else return t===y.date&&r===y.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class nt extends N{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=(i,a)=>{if(ss(i)||ss(a))return x;const o=ns(i.value,a.value);return o.valid?((rs(i)||rs(a))&&t.dirty(),{status:t.value,value:o.data}):(g(r,{code:p.invalid_intersection_types}),x)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>n(i,a)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}nt.create=(s,e,t)=>new nt({left:s,right:e,typeName:b.ZodIntersection,...T(t)});class ie extends N{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==y.array)return g(r,{code:p.invalid_type,expected:y.array,received:r.parsedType}),x;if(r.data.length<this._def.items.length)return g(r,{code:p.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),x;!this._def.rest&&r.data.length>this._def.items.length&&(g(r,{code:p.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new ne(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>z.mergeArray(t,a)):z.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new ie({...this._def,rest:e})}}ie.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ie({items:s,typeName:b.ZodTuple,rest:null,...T(e)})};class it extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==y.object)return g(r,{code:p.invalid_type,expected:y.object,received:r.parsedType}),x;const n=[],i=this._def.keyType,a=this._def.valueType;for(const o in r.data)n.push({key:i._parse(new ne(r,o,r.path,o)),value:a._parse(new ne(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?z.mergeObjectAsync(t,n):z.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof N?new it({keyType:e,valueType:t,typeName:b.ZodRecord,...T(r)}):new it({keyType:J.create(),valueType:e,typeName:b.ZodRecord,...T(t)})}}class Ct extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==y.map)return g(r,{code:p.invalid_type,expected:y.map,received:r.parsedType}),x;const n=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([o,l],d)=>({key:n._parse(new ne(r,o,r.path,[d,"key"])),value:i._parse(new ne(r,l,r.path,[d,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const d=await l.key,c=await l.value;if(d.status==="aborted"||c.status==="aborted")return x;(d.status==="dirty"||c.status==="dirty")&&t.dirty(),o.set(d.value,c.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const l of a){const d=l.key,c=l.value;if(d.status==="aborted"||c.status==="aborted")return x;(d.status==="dirty"||c.status==="dirty")&&t.dirty(),o.set(d.value,c.value)}return{status:t.value,value:o}}}}Ct.create=(s,e,t)=>new Ct({valueType:e,keyType:s,typeName:b.ZodMap,...T(t)});class Ee extends N{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==y.set)return g(r,{code:p.invalid_type,expected:y.set,received:r.parsedType}),x;const n=this._def;n.minSize!==null&&r.data.size<n.minSize.value&&(g(r,{code:p.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&r.data.size>n.maxSize.value&&(g(r,{code:p.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const i=this._def.valueType;function a(l){const d=new Set;for(const c of l){if(c.status==="aborted")return x;c.status==="dirty"&&t.dirty(),d.add(c.value)}return{status:t.value,value:d}}const o=[...r.data.values()].map((l,d)=>i._parse(new ne(r,l,r.path,d)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,t){return new Ee({...this._def,minSize:{value:e,message:v.toString(t)}})}max(e,t){return new Ee({...this._def,maxSize:{value:e,message:v.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ee.create=(s,e)=>new Ee({valueType:s,minSize:null,maxSize:null,typeName:b.ZodSet,...T(e)});class Me extends N{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==y.function)return g(t,{code:p.invalid_type,expected:y.function,received:t.parsedType}),x;function r(o,l){return wt({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,xt(),Be].filter(d=>!!d),issueData:{code:p.invalid_arguments,argumentsError:l}})}function n(o,l){return wt({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,xt(),Be].filter(d=>!!d),issueData:{code:p.invalid_return_type,returnTypeError:l}})}const i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof Qe){const o=this;return Q(async function(...l){const d=new W([]),c=await o._def.args.parseAsync(l,i).catch(C=>{throw d.addIssue(r(l,C)),d}),_=await Reflect.apply(a,this,c);return await o._def.returns._def.type.parseAsync(_,i).catch(C=>{throw d.addIssue(n(_,C)),d})})}else{const o=this;return Q(function(...l){const d=o._def.args.safeParse(l,i);if(!d.success)throw new W([r(l,d.error)]);const c=Reflect.apply(a,this,d.data),_=o._def.returns.safeParse(c,i);if(!_.success)throw new W([n(c,_.error)]);return _.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Me({...this._def,args:ie.create(e).rest(Ie.create())})}returns(e){return new Me({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Me({args:e||ie.create([]).rest(Ie.create()),returns:t||Ie.create(),typeName:b.ZodFunction,...T(r)})}}class at extends N{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}at.create=(s,e)=>new at({getter:s,typeName:b.ZodLazy,...T(e)});class ot extends N{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return g(t,{received:t.data,code:p.invalid_literal,expected:this._def.value}),x}return{status:"valid",value:e.data}}get value(){return this._def.value}}ot.create=(s,e)=>new ot({value:s,typeName:b.ZodLiteral,...T(e)});function Ea(s,e){return new _e({values:s,typeName:b.ZodEnum,...T(e)})}class _e extends N{constructor(){super(...arguments),Je.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return g(t,{expected:k.joinValues(r),received:t.parsedType,code:p.invalid_type}),x}if(Tt(this,Je)||Ca(this,Je,new Set(this._def.values)),!Tt(this,Je).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return g(t,{received:t.data,code:p.invalid_enum_value,options:r}),x}return Q(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return _e.create(e,{...this._def,...t})}exclude(e,t=this._def){return _e.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Je=new WeakMap;_e.create=Ea;class ut extends N{constructor(){super(...arguments),He.set(this,void 0)}_parse(e){const t=k.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==y.string&&r.parsedType!==y.number){const n=k.objectValues(t);return g(r,{expected:k.joinValues(n),received:r.parsedType,code:p.invalid_type}),x}if(Tt(this,He)||Ca(this,He,new Set(k.getValidEnumValues(this._def.values))),!Tt(this,He).has(e.data)){const n=k.objectValues(t);return g(r,{received:r.data,code:p.invalid_enum_value,options:n}),x}return Q(e.data)}get enum(){return this._def.values}}He=new WeakMap;ut.create=(s,e)=>new ut({values:s,typeName:b.ZodNativeEnum,...T(e)});class Qe extends N{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==y.promise&&t.common.async===!1)return g(t,{code:p.invalid_type,expected:y.promise,received:t.parsedType}),x;const r=t.parsedType===y.promise?t.data:Promise.resolve(t.data);return Q(r.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Qe.create=(s,e)=>new Qe({type:s,typeName:b.ZodPromise,...T(e)});class Y extends N{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===b.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:a=>{g(r,a),a.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){const a=n.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async o=>{if(t.value==="aborted")return x;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?x:l.status==="dirty"||t.value==="dirty"?je(l.value):l});{if(t.value==="aborted")return x;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?x:o.status==="dirty"||t.value==="dirty"?je(o.value):o}}if(n.type==="refinement"){const a=o=>{const l=n.refinement(o,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?x:(o.status==="dirty"&&t.dirty(),a(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?x:(o.status==="dirty"&&t.dirty(),a(o.value).then(()=>({status:t.value,value:o.value}))))}if(n.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ke(a))return a;const o=n.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>ke(a)?Promise.resolve(n.transform(a.value,i)).then(o=>({status:t.value,value:o})):a);k.assertNever(n)}}Y.create=(s,e,t)=>new Y({schema:s,typeName:b.ZodEffects,effect:e,...T(t)});Y.createWithPreprocess=(s,e,t)=>new Y({schema:e,effect:{type:"preprocess",transform:s},typeName:b.ZodEffects,...T(t)});class re extends N{_parse(e){return this._getType(e)===y.undefined?Q(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}re.create=(s,e)=>new re({innerType:s,typeName:b.ZodOptional,...T(e)});class be extends N{_parse(e){return this._getType(e)===y.null?Q(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}be.create=(s,e)=>new be({innerType:s,typeName:b.ZodNullable,...T(e)});class ct extends N{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===y.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ct.create=(s,e)=>new ct({innerType:s,typeName:b.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...T(e)});class lt extends N{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ye(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new W(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new W(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}lt.create=(s,e)=>new lt({innerType:s,typeName:b.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...T(e)});class It extends N{_parse(e){if(this._getType(e)!==y.nan){const r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:y.nan,received:r.parsedType}),x}return{status:"valid",value:e.data}}}It.create=s=>new It({typeName:b.ZodNaN,...T(s)});const xc=Symbol("zod_brand");class ls extends N{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class mt extends N{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?x:i.status==="dirty"?(t.dirty(),je(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const n=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?x:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:r.path,parent:r})}}static create(e,t){return new mt({in:e,out:t,typeName:b.ZodPipeline})}}class dt extends N{_parse(e){const t=this._def.innerType._parse(e),r=n=>(ke(n)&&(n.value=Object.freeze(n.value)),n);return Ye(t)?t.then(n=>r(n)):r(t)}unwrap(){return this._def.innerType}}dt.create=(s,e)=>new dt({innerType:s,typeName:b.ZodReadonly,...T(e)});function Is(s,e){const t=typeof s=="function"?s(e):typeof s=="string"?{message:s}:s;return typeof t=="string"?{message:t}:t}function Aa(s,e={},t){return s?$e.create().superRefine((r,n)=>{var i,a;const o=s(r);if(o instanceof Promise)return o.then(l=>{var d,c;if(!l){const _=Is(e,r),w=(c=(d=_.fatal)!==null&&d!==void 0?d:t)!==null&&c!==void 0?c:!0;n.addIssue({code:"custom",..._,fatal:w})}});if(!o){const l=Is(e,r),d=(a=(i=l.fatal)!==null&&i!==void 0?i:t)!==null&&a!==void 0?a:!0;n.addIssue({code:"custom",...l,fatal:d})}}):$e.create()}const wc={object:R.lazycreate};var b;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(b||(b={}));const Tc=(s,e={message:`Input not instance of ${s.name}`})=>Aa(t=>t instanceof s,e),Oa=J.create,Da=ye.create,Sc=It.create,Nc=ve.create,Ra=et.create,Cc=Pe.create,Ic=St.create,kc=tt.create,Pc=st.create,Ec=$e.create,Ac=Ie.create,Oc=de.create,Dc=Nt.create,Rc=H.create,jc=R.create,Mc=R.strictCreate,Vc=rt.create,Zc=jt.create,Lc=nt.create,Fc=ie.create,zc=it.create,Uc=Ct.create,Bc=Ee.create,$c=Me.create,Qc=at.create,qc=ot.create,Gc=_e.create,Xc=ut.create,Wc=Qe.create,ks=Y.create,Kc=re.create,Jc=be.create,Hc=Y.createWithPreprocess,Yc=mt.create,el=()=>Oa().optional(),tl=()=>Da().optional(),sl=()=>Ra().optional(),rl={string:s=>J.create({...s,coerce:!0}),number:s=>ye.create({...s,coerce:!0}),boolean:s=>et.create({...s,coerce:!0}),bigint:s=>ve.create({...s,coerce:!0}),date:s=>Pe.create({...s,coerce:!0})},nl=x;var m=Object.freeze({__proto__:null,defaultErrorMap:Be,setErrorMap:Hu,getErrorMap:xt,makeIssue:wt,EMPTY_PATH:Yu,addIssueToContext:g,ParseStatus:z,INVALID:x,DIRTY:je,OK:Q,isAborted:ss,isDirty:rs,isValid:ke,isAsync:Ye,get util(){return k},get objectUtil(){return ts},ZodParsedType:y,getParsedType:ue,ZodType:N,datetimeRegex:Pa,ZodString:J,ZodNumber:ye,ZodBigInt:ve,ZodBoolean:et,ZodDate:Pe,ZodSymbol:St,ZodUndefined:tt,ZodNull:st,ZodAny:$e,ZodUnknown:Ie,ZodNever:de,ZodVoid:Nt,ZodArray:H,ZodObject:R,ZodUnion:rt,ZodDiscriminatedUnion:jt,ZodIntersection:nt,ZodTuple:ie,ZodRecord:it,ZodMap:Ct,ZodSet:Ee,ZodFunction:Me,ZodLazy:at,ZodLiteral:ot,ZodEnum:_e,ZodNativeEnum:ut,ZodPromise:Qe,ZodEffects:Y,ZodTransformer:Y,ZodOptional:re,ZodNullable:be,ZodDefault:ct,ZodCatch:lt,ZodNaN:It,BRAND:xc,ZodBranded:ls,ZodPipeline:mt,ZodReadonly:dt,custom:Aa,Schema:N,ZodSchema:N,late:wc,get ZodFirstPartyTypeKind(){return b},coerce:rl,any:Ec,array:Rc,bigint:Nc,boolean:Ra,date:Cc,discriminatedUnion:Zc,effect:ks,enum:Gc,function:$c,instanceof:Tc,intersection:Lc,lazy:Qc,literal:qc,map:Uc,nan:Sc,nativeEnum:Xc,never:Oc,null:Pc,nullable:Jc,number:Da,object:jc,oboolean:sl,onumber:tl,optional:Kc,ostring:el,pipeline:Yc,preprocess:Hc,promise:Wc,record:zc,set:Bc,strictObject:Mc,string:Oa,symbol:Ic,transformer:ks,tuple:Fc,undefined:kc,union:Vc,unknown:Ac,void:Dc,NEVER:nl,ZodIssueCode:p,quotelessJson:Ju,ZodError:W});const h=Symbol.for("drizzle:entityKind");function F(s,e){if(!s||typeof s!="object")return!1;if(s instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,h))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let t=Object.getPrototypeOf(s).constructor;if(t)for(;t;){if(h in t&&t[h]===e[h])return!0;t=Object.getPrototypeOf(t)}return!1}var Zs;Zs=h;class qe{constructor(e,t){u(this,"name");u(this,"keyAsName");u(this,"primary");u(this,"notNull");u(this,"default");u(this,"defaultFn");u(this,"onUpdateFn");u(this,"hasDefault");u(this,"isUnique");u(this,"uniqueName");u(this,"uniqueType");u(this,"dataType");u(this,"columnType");u(this,"enumValues");u(this,"generated");u(this,"generatedIdentity");u(this,"config");this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}u(qe,Zs,"Column");var Ls;Ls=h;class ja{constructor(e,t,r){u(this,"config");u(this,"$default",this.$defaultFn);u(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}u(ja,Ls,"ColumnBuilder");const Ve=Symbol.for("drizzle:Name");var Fs;Fs=h;class Ma{constructor(e,t){u(this,"reference");u(this,"_onUpdate","no action");u(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:n,foreignColumns:i}=e();return{name:r,columns:n,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new Va(e,this)}}u(Ma,Fs,"PgForeignKeyBuilder");var zs;zs=h;class Va{constructor(e,t){u(this,"reference");u(this,"onUpdate");u(this,"onDelete");this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}getName(){const{name:e,columns:t,foreignColumns:r}=this.reference(),n=t.map(o=>o.name),i=r.map(o=>o.name),a=[this.table[Ve],...n,r[0].table[Ve],...i];return e??`${a.join("_")}_fk`}}u(Va,zs,"PgForeignKey");function il(s,...e){return s(...e)}function al(s,e){return`${s[Ve]}_${e.join("_")}_unique`}function Ps(s,e,t){for(let r=e;r<s.length;r++){const n=s[r];if(n==="\\"){r++;continue}if(n==='"')return[s.slice(e,r).replace(/\\/g,""),r+1];if(!t&&(n===","||n==="}"))return[s.slice(e,r).replace(/\\/g,""),r]}return[s.slice(e).replace(/\\/g,""),s.length]}function Za(s,e=0){const t=[];let r=e,n=!1;for(;r<s.length;){const i=s[r];if(i===","){(n||r===e)&&t.push(""),n=!0,r++;continue}if(n=!1,i==="\\"){r+=2;continue}if(i==='"'){const[l,d]=Ps(s,r+1,!0);t.push(l),r=d;continue}if(i==="}")return[t,r+1];if(i==="{"){const[l,d]=Za(s,r+1);t.push(l),r=d;continue}const[a,o]=Ps(s,r,!1);t.push(a),r=o}return[t,r]}function ol(s){const[e]=Za(s,1);return e}function La(s){return`{${s.map(e=>Array.isArray(e)?La(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var Us,Bs;class P extends(Bs=ja,Us=h,Bs){constructor(){super(...arguments);u(this,"foreignKeyConfigs",[])}array(t){return new za(this.config.name,this,t)}references(t,r={}){return this.foreignKeyConfigs.push({ref:t,actions:r}),this}unique(t,r){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,r){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>il((a,o)=>{const l=new Ma(()=>{const d=a();return{columns:[t],foreignColumns:[d]}});return o.onUpdate&&l.onUpdate(o.onUpdate),o.onDelete&&l.onDelete(o.onDelete),l.build(r)},n,i))}buildExtraConfigColumn(t){return new Fa(t,this.config)}}u(P,Us,"PgColumnBuilder");var $s,Qs;class S extends(Qs=qe,$s=h,Qs){constructor(e,t){t.uniqueName||(t.uniqueName=al(e,[t.name])),super(e,t),this.table=e}}u(S,$s,"PgColumn");var qs,Gs;class Fa extends(Gs=S,qs=h,Gs){constructor(){super(...arguments);u(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});u(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}}u(Fa,qs,"ExtraConfigColumn");var Xs,Ws;class za extends(Ws=P,Xs=h,Ws){constructor(e,t,r){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=r}build(e){const t=this.config.baseBuilder.build(e);return new is(e,this.config,t)}}u(za,Xs,"PgArrayBuilder");var Ks,Js;const Dt=class Dt extends(Js=S,Ks=h,Js){constructor(t,r,n,i){super(t,r);u(this,"size");this.baseColumn=n,this.range=i,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=ol(t)),t.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(t,r=!1){const n=t.map(i=>i===null?null:F(this.baseColumn,Dt)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?n:La(n)}};u(Dt,Ks,"PgArray");let is=Dt;const Es=Symbol.for("drizzle:isPgEnum");function ul(s){return!!s&&typeof s=="function"&&Es in s&&s[Es]===!0}var Hs;Hs=h;class ds{constructor(e,t,r,n=!1){this._={brand:"Subquery",sql:e,selectedFields:t,alias:r,isWith:n}}}u(ds,Hs,"Subquery");const cl={startActiveSpan(s,e){return e()}},Ze=Symbol.for("drizzle:ViewBaseConfig"),zt=Symbol.for("drizzle:Schema"),As=Symbol.for("drizzle:Columns"),Os=Symbol.for("drizzle:ExtraConfigColumns"),Ut=Symbol.for("drizzle:OriginalName"),Bt=Symbol.for("drizzle:BaseName"),kt=Symbol.for("drizzle:IsAlias"),Ds=Symbol.for("drizzle:ExtraConfigBuilder"),Ua=Symbol.for("drizzle:IsDrizzleTable");var Ys,er,tr,sr,rr,nr,ir,ar,or,ur;ur=h,or=Ve,ar=Ut,ir=zt,nr=As,rr=Os,sr=Bt,tr=kt,er=Ua,Ys=Ds;class ${constructor(e,t,r){u(this,or);u(this,ar);u(this,ir);u(this,nr);u(this,rr);u(this,sr);u(this,tr,!1);u(this,er,!0);u(this,Ys);this[Ve]=this[Ut]=e,this[zt]=t,this[Bt]=r}}u($,ur,"Table"),u($,"Symbol",{Name:Ve,Schema:zt,OriginalName:Ut,Columns:As,ExtraConfigColumns:Os,BaseName:Bt,IsAlias:kt,ExtraConfigBuilder:Ds});function Ba(s){return typeof s=="object"&&s!==null&&Ua in s}function ll(s){return s!=null&&typeof s.getSQL=="function"}function dl(s){var t;const e={sql:"",params:[]};for(const r of s)e.sql+=r.sql,e.params.push(...r.params),(t=r.typings)!=null&&t.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var cr;cr=h;class K{constructor(e){u(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new V([this])}}u(K,cr,"StringChunk");var lr;lr=h;const we=class we{constructor(e){u(this,"decoder",$a);u(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return cl.startActiveSpan("drizzle.buildSQL",t=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return t==null||t.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,t){const r=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{casing:n,escapeName:i,escapeParam:a,prepareTyping:o,inlineParams:l,paramStartIndex:d}=r;return dl(e.map(c=>{var _;if(F(c,K))return{sql:c.value.join(""),params:[]};if(F(c,Pt))return{sql:i(c.value),params:[]};if(c===void 0)return{sql:"",params:[]};if(Array.isArray(c)){const w=[new K("(")];for(const[C,xe]of c.entries())w.push(xe),C<c.length-1&&w.push(new K(", "));return w.push(new K(")")),this.buildQueryFromSourceParams(w,r)}if(F(c,we))return this.buildQueryFromSourceParams(c.queryChunks,{...r,inlineParams:l||c.shouldInlineParams});if(F(c,$)){const w=c[$.Symbol.Schema],C=c[$.Symbol.Name];return{sql:w===void 0||c[kt]?i(C):i(w)+"."+i(C),params:[]}}if(F(c,qe)){const w=n.getColumnCasing(c);if(t.invokeSource==="indexes")return{sql:i(w),params:[]};const C=c.table[$.Symbol.Schema];return{sql:c.table[kt]||C===void 0?i(c.table[$.Symbol.Name])+"."+i(w):i(C)+"."+i(c.table[$.Symbol.Name])+"."+i(w),params:[]}}if(F(c,Ga)){const w=c[Ze].schema,C=c[Ze].name;return{sql:w===void 0||c[Ze].isAlias?i(C):i(w)+"."+i(C),params:[]}}if(F(c,hs)){if(F(c.value,At))return{sql:a(d.value++,c),params:[c],typings:["none"]};const w=c.value===null?null:c.encoder.mapToDriverValue(c.value);if(F(w,we))return this.buildQueryFromSourceParams([w],r);if(l)return{sql:this.mapInlineParam(w,r),params:[]};let C=["none"];return o&&(C=[o(c.encoder)]),{sql:a(d.value++,w),params:[w],typings:C}}return F(c,At)?{sql:a(d.value++,c),params:[c],typings:["none"]}:F(c,we.Aliased)&&c.fieldAlias!==void 0?{sql:i(c.fieldAlias),params:[]}:F(c,ds)?c._.isWith?{sql:i(c._.alias),params:[]}:this.buildQueryFromSourceParams([new K("("),c._.sql,new K(") "),new Pt(c._.alias)],r):ul(c)?c.schema?{sql:i(c.schema)+"."+i(c.enumName),params:[]}:{sql:i(c.enumName),params:[]}:ll(c)?(_=c.shouldOmitSQLParens)!=null&&_.call(c)?this.buildQueryFromSourceParams([c.getSQL()],r):this.buildQueryFromSourceParams([new K("("),c.getSQL(),new K(")")],r):l?{sql:this.mapInlineParam(c,r),params:[]}:{sql:a(d.value++,c),params:[c],typings:["none"]}}))}mapInlineParam(e,{escapeString:t}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return t(e);if(typeof e=="object"){const r=e.toString();return t(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new we.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};u(we,lr,"SQL");let V=we;var dr;dr=h;class Pt{constructor(e){u(this,"brand");this.value=e}getSQL(){return new V([this])}}u(Pt,dr,"Name");const $a={mapFromDriverValue:s=>s},Qa={mapToDriverValue:s=>s};({...$a,...Qa});var hr;hr=h;class hs{constructor(e,t=Qa){u(this,"brand");this.value=e,this.encoder=t}getSQL(){return new V([this])}}u(hs,hr,"Param");function Et(s,...e){const t=[];(e.length>0||s.length>0&&s[0]!=="")&&t.push(new K(s[0]));for(const[r,n]of e.entries())t.push(n,new K(s[r+1]));return new V(t)}(s=>{function e(){return new V([])}s.empty=e;function t(l){return new V(l)}s.fromList=t;function r(l){return new V([new K(l)])}s.raw=r;function n(l,d){const c=[];for(const[_,w]of l.entries())_>0&&d!==void 0&&c.push(d),c.push(w);return new V(c)}s.join=n;function i(l){return new Pt(l)}s.identifier=i;function a(l){return new At(l)}s.placeholder=a;function o(l,d){return new hs(l,d)}s.param=o})(Et||(Et={}));(s=>{var t;t=h;const r=class r{constructor(i,a){u(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=a}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};u(r,t,"SQL.Aliased");let e=r;s.Aliased=e})(V||(V={}));var fr;fr=h;class At{constructor(e){this.name=e}getSQL(){return new V([this])}}u(At,fr,"Placeholder");const qa=Symbol.for("drizzle:IsDrizzleView");var pr,mr,gr;gr=h,mr=Ze,pr=qa;class Ga{constructor({name:e,schema:t,selectedFields:r,query:n}){u(this,mr);u(this,pr,!0);this[Ze]={name:e,originalName:e,schema:t,selectedFields:r,query:n,isExisting:!n,isAlias:!1}}getSQL(){return new V([this])}}u(Ga,gr,"View");function hl(s){return typeof s=="object"&&s!==null&&qa in s}qe.prototype.getSQL=function(){return new V([this])};$.prototype.getSQL=function(){return new V([this])};ds.prototype.getSQL=function(){return new V([this])};function fl(s){return s[$.Symbol.Columns]}function pl(s){return s[Ze].selectedFields}function L(s,e){return{name:typeof s=="string"&&s.length>0?s:"",config:typeof s=="object"?s:e}}var yr,vr;class gt extends(vr=P,yr=h,vr){generatedAlwaysAsIdentity(e){if(e){const{name:t,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:t,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}u(gt,yr,"PgIntColumnBaseBuilder");var _r,br;class Xa extends(br=gt,_r=h,br){constructor(e){super(e,"number","PgBigInt53")}build(e){return new Wa(e,this.config)}}u(Xa,_r,"PgBigInt53Builder");var xr,wr;class Wa extends(wr=S,xr=h,wr){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}u(Wa,xr,"PgBigInt53");var Tr,Sr;class Ka extends(Sr=gt,Tr=h,Sr){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new Ja(e,this.config)}}u(Ka,Tr,"PgBigInt64Builder");var Nr,Cr;class Ja extends(Cr=S,Nr=h,Cr){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}u(Ja,Nr,"PgBigInt64");function ml(s,e){const{name:t,config:r}=L(s,e);return r.mode==="number"?new Xa(t):new Ka(t)}var Ir,kr;class Ha extends(kr=P,Ir=h,kr){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Ya(e,this.config)}}u(Ha,Ir,"PgBigSerial53Builder");var Pr,Er;class Ya extends(Er=S,Pr=h,Er){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}u(Ya,Pr,"PgBigSerial53");var Ar,Or;class eo extends(Or=P,Ar=h,Or){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new to(e,this.config)}}u(eo,Ar,"PgBigSerial64Builder");var Dr,Rr;class to extends(Rr=S,Dr=h,Rr){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}u(to,Dr,"PgBigSerial64");function gl(s,e){const{name:t,config:r}=L(s,e);return r.mode==="number"?new Ha(t):new eo(t)}var jr,Mr;class so extends(Mr=P,jr=h,Mr){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new ro(e,this.config)}}u(so,jr,"PgBooleanBuilder");var Vr,Zr;class ro extends(Zr=S,Vr=h,Zr){getSQLType(){return"boolean"}}u(ro,Vr,"PgBoolean");function fs(s){return new so(s??"")}var Lr,Fr;class no extends(Fr=P,Lr=h,Fr){constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new io(e,this.config)}}u(no,Lr,"PgCharBuilder");var zr,Ur;class io extends(Ur=S,zr=h,Ur){constructor(){super(...arguments);u(this,"length",this.config.length);u(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}u(io,zr,"PgChar");function yl(s,e={}){const{name:t,config:r}=L(s,e);return new no(t,r)}var Br,$r;class ao extends($r=P,Br=h,$r){constructor(e){super(e,"string","PgCidr")}build(e){return new oo(e,this.config)}}u(ao,Br,"PgCidrBuilder");var Qr,qr;class oo extends(qr=S,Qr=h,qr){getSQLType(){return"cidr"}}u(oo,Qr,"PgCidr");function vl(s){return new ao(s??"")}var Gr,Xr;class uo extends(Xr=P,Gr=h,Xr){constructor(e,t,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=r}build(e){return new co(e,this.config)}}u(uo,Gr,"PgCustomColumnBuilder");var Wr,Kr;class co extends(Kr=S,Wr=h,Kr){constructor(t,r){super(t,r);u(this,"sqlName");u(this,"mapTo");u(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}}u(co,Wr,"PgCustomColumn");function _l(s){return(e,t)=>{const{name:r,config:n}=L(e,t);return new uo(r,n,s)}}var Jr,Hr;class Xe extends(Hr=P,Jr=h,Hr){defaultNow(){return this.default(Et`now()`)}}u(Xe,Jr,"PgDateColumnBaseBuilder");var Yr,en;class lo extends(en=Xe,Yr=h,en){constructor(e){super(e,"date","PgDate")}build(e){return new ho(e,this.config)}}u(lo,Yr,"PgDateBuilder");var tn,sn;class ho extends(sn=S,tn=h,sn){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}u(ho,tn,"PgDate");var rn,nn;class fo extends(nn=Xe,rn=h,nn){constructor(e){super(e,"string","PgDateString")}build(e){return new po(e,this.config)}}u(fo,rn,"PgDateStringBuilder");var an,on;class po extends(on=S,an=h,on){getSQLType(){return"date"}}u(po,an,"PgDateString");function bl(s,e){const{name:t,config:r}=L(s,e);return(r==null?void 0:r.mode)==="date"?new lo(t):new fo(t)}var un,cn;class mo extends(cn=P,un=h,cn){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new go(e,this.config)}}u(mo,un,"PgDoublePrecisionBuilder");var ln,dn;class go extends(dn=S,ln=h,dn){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}u(go,ln,"PgDoublePrecision");function xl(s){return new mo(s??"")}var hn,fn;class yo extends(fn=P,hn=h,fn){constructor(e){super(e,"string","PgInet")}build(e){return new vo(e,this.config)}}u(yo,hn,"PgInetBuilder");var pn,mn;class vo extends(mn=S,pn=h,mn){getSQLType(){return"inet"}}u(vo,pn,"PgInet");function wl(s){return new yo(s??"")}var gn,yn;class _o extends(yn=gt,gn=h,yn){constructor(e){super(e,"number","PgInteger")}build(e){return new bo(e,this.config)}}u(_o,gn,"PgIntegerBuilder");var vn,_n;class bo extends(_n=S,vn=h,_n){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}u(bo,vn,"PgInteger");function Ae(s){return new _o(s??"")}var bn,xn;class xo extends(xn=P,bn=h,xn){constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new wo(e,this.config)}}u(xo,bn,"PgIntervalBuilder");var wn,Tn;class wo extends(Tn=S,wn=h,Tn){constructor(){super(...arguments);u(this,"fields",this.config.intervalConfig.fields);u(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const t=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${t}${r}`}}u(wo,wn,"PgInterval");function Tl(s,e={}){const{name:t,config:r}=L(s,e);return new xo(t,r)}var Sn,Nn;class To extends(Nn=P,Sn=h,Nn){constructor(e){super(e,"json","PgJson")}build(e){return new So(e,this.config)}}u(To,Sn,"PgJsonBuilder");var Cn,In;class So extends(In=S,Cn=h,In){constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}u(So,Cn,"PgJson");function Sl(s){return new To(s??"")}var kn,Pn;class No extends(Pn=P,kn=h,Pn){constructor(e){super(e,"json","PgJsonb")}build(e){return new Co(e,this.config)}}u(No,kn,"PgJsonbBuilder");var En,An;class Co extends(An=S,En=h,An){constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}u(Co,En,"PgJsonb");function Nl(s){return new No(s??"")}var On,Dn;class Io extends(Dn=P,On=h,Dn){constructor(e){super(e,"array","PgLine")}build(e){return new ko(e,this.config)}}u(Io,On,"PgLineBuilder");var Rn,jn;class ko extends(jn=S,Rn=h,jn){getSQLType(){return"line"}mapFromDriverValue(e){const[t,r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r),Number.parseFloat(n)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}u(ko,Rn,"PgLine");var Mn,Vn;class Po extends(Vn=P,Mn=h,Vn){constructor(e){super(e,"json","PgLineABC")}build(e){return new Eo(e,this.config)}}u(Po,Mn,"PgLineABCBuilder");var Zn,Ln;class Eo extends(Ln=S,Zn=h,Ln){getSQLType(){return"line"}mapFromDriverValue(e){const[t,r,n]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(r),c:Number.parseFloat(n)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}u(Eo,Zn,"PgLineABC");function Cl(s,e){const{name:t,config:r}=L(s,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new Io(t):new Po(t)}var Fn,zn;class Ao extends(zn=P,Fn=h,zn){constructor(e){super(e,"string","PgMacaddr")}build(e){return new Oo(e,this.config)}}u(Ao,Fn,"PgMacaddrBuilder");var Un,Bn;class Oo extends(Bn=S,Un=h,Bn){getSQLType(){return"macaddr"}}u(Oo,Un,"PgMacaddr");function Il(s){return new Ao(s??"")}var $n,Qn;class Do extends(Qn=P,$n=h,Qn){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new Ro(e,this.config)}}u(Do,$n,"PgMacaddr8Builder");var qn,Gn;class Ro extends(Gn=S,qn=h,Gn){getSQLType(){return"macaddr8"}}u(Ro,qn,"PgMacaddr8");function kl(s){return new Do(s??"")}var Xn,Wn;class jo extends(Wn=P,Xn=h,Wn){constructor(e,t,r){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=r}build(e){return new Mo(e,this.config)}}u(jo,Xn,"PgNumericBuilder");var Kn,Jn;class Mo extends(Jn=S,Kn=h,Jn){constructor(t,r){super(t,r);u(this,"precision");u(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}u(Mo,Kn,"PgNumeric");function Pl(s,e){const{name:t,config:r}=L(s,e);return new jo(t,r==null?void 0:r.precision,r==null?void 0:r.scale)}var Hn,Yn;class Vo extends(Yn=P,Hn=h,Yn){constructor(e){super(e,"array","PgPointTuple")}build(e){return new Zo(e,this.config)}}u(Vo,Hn,"PgPointTupleBuilder");var ei,ti;class Zo extends(ti=S,ei=h,ti){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[t,r]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}u(Zo,ei,"PgPointTuple");var si,ri;class Lo extends(ri=P,si=h,ri){constructor(e){super(e,"json","PgPointObject")}build(e){return new Fo(e,this.config)}}u(Lo,si,"PgPointObjectBuilder");var ni,ii;class Fo extends(ii=S,ni=h,ii){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[t,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}u(Fo,ni,"PgPointObject");function El(s,e){const{name:t,config:r}=L(s,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new Vo(t):new Lo(t)}function Al(s){const e=[];for(let t=0;t<s.length;t+=2)e.push(Number.parseInt(s.slice(t,t+2),16));return new Uint8Array(e)}function Rs(s,e){const t=new ArrayBuffer(8),r=new DataView(t);for(let n=0;n<8;n++)r.setUint8(n,s[e+n]);return r.getFloat64(0,!0)}function zo(s){const e=Al(s);let t=0;const r=e[t];t+=1;const n=new DataView(e.buffer),i=n.getUint32(t,r===1);if(t+=4,i&536870912&&(n.getUint32(t,r===1),t+=4),(i&65535)===1){const a=Rs(e,t);t+=8;const o=Rs(e,t);return t+=8,[a,o]}throw new Error("Unsupported geometry type")}var ai,oi;class Uo extends(oi=P,ai=h,oi){constructor(e){super(e,"array","PgGeometry")}build(e){return new Bo(e,this.config)}}u(Uo,ai,"PgGeometryBuilder");var ui,ci;class Bo extends(ci=S,ui=h,ci){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return zo(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}u(Bo,ui,"PgGeometry");var li,di;class $o extends(di=P,li=h,di){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new Qo(e,this.config)}}u($o,li,"PgGeometryObjectBuilder");var hi,fi;class Qo extends(fi=S,hi=h,fi){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const t=zo(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}u(Qo,hi,"PgGeometryObject");function Ol(s,e){const{name:t,config:r}=L(s,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new Uo(t):new $o(t)}var pi,mi;class qo extends(mi=P,pi=h,mi){constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new Go(e,this.config)}}u(qo,pi,"PgRealBuilder");var gi,yi;class Go extends(yi=S,gi=h,yi){constructor(t,r){super(t,r);u(this,"mapFromDriverValue",t=>typeof t=="string"?Number.parseFloat(t):t)}getSQLType(){return"real"}}u(Go,gi,"PgReal");function Dl(s){return new qo(s??"")}var vi,_i;class Xo extends(_i=P,vi=h,_i){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Wo(e,this.config)}}u(Xo,vi,"PgSerialBuilder");var bi,xi;class Wo extends(xi=S,bi=h,xi){getSQLType(){return"serial"}}u(Wo,bi,"PgSerial");function Ko(s){return new Xo(s??"")}var wi,Ti;class Jo extends(Ti=gt,wi=h,Ti){constructor(e){super(e,"number","PgSmallInt")}build(e){return new Ho(e,this.config)}}u(Jo,wi,"PgSmallIntBuilder");var Si,Ni;class Ho extends(Ni=S,Si=h,Ni){constructor(){super(...arguments);u(this,"mapFromDriverValue",t=>typeof t=="string"?Number(t):t)}getSQLType(){return"smallint"}}u(Ho,Si,"PgSmallInt");function Rl(s){return new Jo(s??"")}var Ci,Ii;class Yo extends(Ii=P,Ci=h,Ii){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new eu(e,this.config)}}u(Yo,Ci,"PgSmallSerialBuilder");var ki,Pi;class eu extends(Pi=S,ki=h,Pi){getSQLType(){return"smallserial"}}u(eu,ki,"PgSmallSerial");function jl(s){return new Yo(s??"")}var Ei,Ai;class tu extends(Ai=P,Ei=h,Ai){constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new su(e,this.config)}}u(tu,Ei,"PgTextBuilder");var Oi,Di;class su extends(Di=S,Oi=h,Di){constructor(){super(...arguments);u(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}u(su,Oi,"PgText");function Te(s,e={}){const{name:t,config:r}=L(s,e);return new tu(t,r)}var Ri,ji;class ru extends(ji=Xe,Ri=h,ji){constructor(e,t,r){super(e,"string","PgTime"),this.withTimezone=t,this.precision=r,this.config.withTimezone=t,this.config.precision=r}build(e){return new nu(e,this.config)}}u(ru,Ri,"PgTimeBuilder");var Mi,Vi;class nu extends(Vi=S,Mi=h,Vi){constructor(t,r){super(t,r);u(this,"withTimezone");u(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}u(nu,Mi,"PgTime");function Ml(s,e={}){const{name:t,config:r}=L(s,e);return new ru(t,r.withTimezone??!1,r.precision)}var Zi,Li;class iu extends(Li=Xe,Zi=h,Li){constructor(e,t,r){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=r}build(e){return new au(e,this.config)}}u(iu,Zi,"PgTimestampBuilder");var Fi,zi;class au extends(zi=S,Fi=h,zi){constructor(t,r){super(t,r);u(this,"withTimezone");u(this,"precision");u(this,"mapFromDriverValue",t=>new Date(this.withTimezone?t:t+"+0000"));u(this,"mapToDriverValue",t=>t.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}u(au,Fi,"PgTimestamp");var Ui,Bi;class ou extends(Bi=Xe,Ui=h,Bi){constructor(e,t,r){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=r}build(e){return new uu(e,this.config)}}u(ou,Ui,"PgTimestampStringBuilder");var $i,Qi;class uu extends(Qi=S,$i=h,Qi){constructor(t,r){super(t,r);u(this,"withTimezone");u(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}u(uu,$i,"PgTimestampString");function as(s,e={}){const{name:t,config:r}=L(s,e);return(r==null?void 0:r.mode)==="string"?new ou(t,r.withTimezone??!1,r.precision):new iu(t,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var qi,Gi;class cu extends(Gi=P,qi=h,Gi){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Et`gen_random_uuid()`)}build(e){return new lu(e,this.config)}}u(cu,qi,"PgUUIDBuilder");var Xi,Wi;class lu extends(Wi=S,Xi=h,Wi){getSQLType(){return"uuid"}}u(lu,Xi,"PgUUID");function ht(s){return new cu(s??"")}var Ki,Ji;class du extends(Ji=P,Ki=h,Ji){constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new hu(e,this.config)}}u(du,Ki,"PgVarcharBuilder");var Hi,Yi;class hu extends(Yi=S,Hi=h,Yi){constructor(){super(...arguments);u(this,"length",this.config.length);u(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}u(hu,Hi,"PgVarchar");function Vl(s,e={}){const{name:t,config:r}=L(s,e);return new du(t,r)}var ea,ta;class fu extends(ta=P,ea=h,ta){constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new pu(e,this.config)}}u(fu,ea,"PgBinaryVectorBuilder");var sa,ra;class pu extends(ra=S,sa=h,ra){constructor(){super(...arguments);u(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}u(pu,sa,"PgBinaryVector");function Zl(s,e){const{name:t,config:r}=L(s,e);return new fu(t,r)}var na,ia;class mu extends(ia=P,na=h,ia){constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new gu(e,this.config)}}u(mu,na,"PgHalfVectorBuilder");var aa,oa;class gu extends(oa=S,aa=h,oa){constructor(){super(...arguments);u(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}u(gu,aa,"PgHalfVector");function Ll(s,e){const{name:t,config:r}=L(s,e);return new mu(t,r)}var ua,ca;class yu extends(ca=P,ua=h,ca){constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new vu(e,this.config)}}u(yu,ua,"PgSparseVectorBuilder");var la,da;class vu extends(da=S,la=h,da){constructor(){super(...arguments);u(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}u(vu,la,"PgSparseVector");function Fl(s,e){const{name:t,config:r}=L(s,e);return new yu(t,r)}var ha,fa;class _u extends(fa=P,ha=h,fa){constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new bu(e,this.config)}}u(_u,ha,"PgVectorBuilder");var pa,ma;class bu extends(ma=S,pa=h,ma){constructor(){super(...arguments);u(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}u(bu,pa,"PgVector");function zl(s,e){const{name:t,config:r}=L(s,e);return new _u(t,r)}function Ul(){return{bigint:ml,bigserial:gl,boolean:fs,char:yl,cidr:vl,customType:_l,date:bl,doublePrecision:xl,inet:wl,integer:Ae,interval:Tl,json:Sl,jsonb:Nl,line:Cl,macaddr:Il,macaddr8:kl,numeric:Pl,point:El,geometry:Ol,real:Dl,serial:Ko,smallint:Rl,smallserial:jl,text:Te,time:Ml,timestamp:as,uuid:ht,varchar:Vl,bit:Zl,halfvec:Ll,sparsevec:Fl,vector:zl}}const os=Symbol.for("drizzle:PgInlineForeignKeys"),js=Symbol.for("drizzle:EnableRLS");var ga,ya,va,_a,ba;class Ot extends(ba=$,_a=h,va=os,ya=js,ga=$.Symbol.ExtraConfigBuilder,ba){constructor(){super(...arguments);u(this,va,[]);u(this,ya,!1);u(this,ga)}}u(Ot,_a,"PgTable"),u(Ot,"Symbol",Object.assign({},$.Symbol,{InlineForeignKeys:os,EnableRLS:js}));function Bl(s,e,t,r,n=s){const i=new Ot(s,r,n),a=typeof e=="function"?e(Ul()):e,o=Object.fromEntries(Object.entries(a).map(([c,_])=>{const w=_;w.setName(c);const C=w.build(i);return i[os].push(...w.buildForeignKeys(C,i)),[c,C]})),l=Object.fromEntries(Object.entries(a).map(([c,_])=>{const w=_;w.setName(c);const C=w.buildExtraConfigColumn(i);return[c,C]})),d=Object.assign(i,o);return d[$.Symbol.Columns]=o,d[$.Symbol.ExtraConfigColumns]=l,Object.assign(d,{enableRLS:()=>(d[Ot.Symbol.EnableRLS]=!0,d)})}const ps=(s,e,t)=>Bl(s,e,t,void 0),D={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function M(s,e){return e.includes(s.columnType)}function $l(s){return"enumValues"in s&&Array.isArray(s.enumValues)&&s.enumValues.length>0}const Ql=m.union([m.string(),m.number(),m.boolean(),m.null()]),ql=m.union([Ql,m.record(m.any()),m.array(m.any())]),Gl=m.custom(s=>s instanceof Buffer);function xu(s,e){const t=(e==null?void 0:e.zodInstance)??m,r=(e==null?void 0:e.coerce)??{};let n;return $l(s)&&(n=s.enumValues.length?t.enum(s.enumValues):t.string()),n||(M(s,["PgGeometry","PgPointTuple"])?n=t.tuple([t.number(),t.number()]):M(s,["PgGeometryObject","PgPointObject"])?n=t.object({x:t.number(),y:t.number()}):M(s,["PgHalfVector","PgVector"])?(n=t.array(t.number()),n=s.dimensions?n.length(s.dimensions):n):M(s,["PgLine"])?n=t.tuple([t.number(),t.number(),t.number()]):M(s,["PgLineABC"])?n=t.object({a:t.number(),b:t.number(),c:t.number()}):M(s,["PgArray"])?(n=t.array(xu(s.baseColumn,t)),n=s.size?n.length(s.size):n):s.dataType==="array"?n=t.array(t.any()):s.dataType==="number"?n=Xl(s,t,r):s.dataType==="bigint"?n=Wl(s,t,r):s.dataType==="boolean"?n=r===!0||r.boolean?t.coerce.boolean():t.boolean():s.dataType==="date"?n=r===!0||r.date?t.coerce.date():t.date():s.dataType==="string"?n=Kl(s,t,r):s.dataType==="json"?n=ql:s.dataType==="custom"?n=t.any():s.dataType==="buffer"&&(n=Gl)),n||(n=t.any()),n}function Xl(s,e,t){let r=s.getSQLType().includes("unsigned"),n,i,a=!1;M(s,["MySqlTinyInt","SingleStoreTinyInt"])?(n=r?0:D.INT8_MIN,i=r?D.INT8_UNSIGNED_MAX:D.INT8_MAX,a=!0):M(s,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(n=r?0:D.INT16_MIN,i=r?D.INT16_UNSIGNED_MAX:D.INT16_MAX,a=!0):M(s,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(n=r?0:D.INT24_MIN,i=r?D.INT24_UNSIGNED_MAX:D.INT24_MAX,a=M(s,["MySqlMediumInt","SingleStoreMediumInt"])):M(s,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(n=r?0:D.INT32_MIN,i=r?D.INT32_UNSIGNED_MAX:D.INT32_MAX,a=!0):M(s,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(n=r?0:D.INT48_MIN,i=r?D.INT48_UNSIGNED_MAX:D.INT48_MAX):M(s,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||M(s,["MySqlSerial","SingleStoreSerial"]),n=r?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,a=!0):M(s,["MySqlYear","SingleStoreYear"])?(n=1901,i=2155,a=!0):(n=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let o=t===!0||t!=null&&t.number?e.coerce.number():e.number();return o=o.min(n).max(i),a?o.int():o}function Wl(s,e,t){const r=s.getSQLType().includes("unsigned"),n=r?0n:D.INT64_MIN,i=r?D.INT64_UNSIGNED_MAX:D.INT64_MAX;return(t===!0||t!=null&&t.bigint?e.coerce.bigint():e.bigint()).min(n).max(i)}function Kl(s,e,t){if(M(s,["PgUUID"]))return e.string().uuid();let r,n,i=!1;M(s,["PgVarchar","SQLiteText"])?r=s.length:M(s,["MySqlVarChar","SingleStoreVarChar"])?r=s.length??D.INT16_UNSIGNED_MAX:M(s,["MySqlText","SingleStoreText"])&&(s.textType==="longtext"?r=D.INT32_UNSIGNED_MAX:s.textType==="mediumtext"?r=D.INT24_UNSIGNED_MAX:s.textType==="text"?r=D.INT16_UNSIGNED_MAX:r=D.INT8_UNSIGNED_MAX),M(s,["PgChar","MySqlChar","SingleStoreChar"])&&(r=s.length,i=!0),M(s,["PgBinaryVector"])&&(n=/^[01]+$/,r=s.dimensions);let a=t===!0||t!=null&&t.string?e.coerce.string():e.string();return a=n?a.regex(n):a,r&&i?a.length(r):r?a.max(r):a}function wu(s){return Ba(s)?fl(s):pl(s)}function Tu(s,e,t,r){const n={};for(const[i,a]of Object.entries(s)){if(!F(a,qe)&&!F(a,V)&&!F(a,V.Aliased)&&typeof a=="object"){const _=Ba(a)||hl(a)?wu(a):a;n[i]=Tu(_,e[i]??{},t,r);continue}const o=e[i];if(o!==void 0&&typeof o!="function"){n[i]=o;continue}const l=F(a,qe)?a:void 0,d=l?xu(l,r):m.any(),c=typeof o=="function"?o(d):d;t.never(l)||(n[i]=c,l&&(t.nullable(l)&&(n[i]=n[i].nullable()),t.optional(l)&&(n[i]=n[i].optional())))}return m.object(n)}const Jl={never:s=>{var e,t;return((e=s==null?void 0:s.generated)==null?void 0:e.type)==="always"||((t=s==null?void 0:s.generatedIdentity)==null?void 0:t.type)==="always"},optional:s=>!s.notNull||s.notNull&&s.hasDefault,nullable:s=>!s.notNull},Su=(s,e)=>{const t=wu(s);return Tu(t,{},Jl)},Nu=ps("vaults",{id:ht("id").primaryKey().defaultRandom(),shortCode:Te("short_code").unique(),lookupId:Te("lookup_id").unique(),wrappedKey:Te("wrapped_key"),encryptedMetadata:Te("encrypted_metadata").notNull(),createdAt:as("created_at").defaultNow().notNull(),expiresAt:as("expires_at").notNull(),maxDownloads:Ae("max_downloads").default(1).notNull(),downloadCount:Ae("download_count").default(0).notNull(),isDeleted:fs("is_deleted").default(!1).notNull()}),Cu=ps("files",{id:ht("id").primaryKey().defaultRandom(),vaultId:ht("vault_id").references(()=>Nu.id,{onDelete:"cascade"}).notNull(),fileId:Te("file_id").notNull(),chunkCount:Ae("chunk_count").notNull(),totalSize:Ae("total_size").notNull()});ps("chunks",{id:Ko("id").primaryKey(),fileId:ht("file_id").references(()=>Cu.id,{onDelete:"cascade"}).notNull(),chunkIndex:Ae("chunk_index").notNull(),storagePath:Te("storage_path"),size:Ae("size").notNull(),isUploaded:fs("is_uploaded").default(!1).notNull()});Su(Nu).omit({id:!0,shortCode:!0,createdAt:!0,downloadCount:!0,isDeleted:!0});Su(Cu).omit({id:!0,vaultId:!0});const Hl=m.object({expiresIn:m.number().min(1).max(168),maxDownloads:m.number().min(1).max(100),encryptedMetadata:m.string(),lookupId:m.string().length(3).optional(),wrappedKey:m.string().optional(),files:m.array(m.object({fileId:m.string(),chunks:m.number(),size:m.number()}))});m.object({message:m.string(),field:m.string().optional()}),m.object({message:m.string()}),m.object({message:m.string()});const Z={vaults:{create:{method:"POST",path:"/api/vaults",input:Hl,responses:{201:m.object({id:m.string(),shortCode:m.string().optional(),expiresAt:m.string(),directLink:m.string()})}},get:{path:"/api/vaults/:id",responses:{200:m.custom(),410:m.object({message:m.string()})}},resolveCode:{responses:{200:m.object({id:m.string()})}},download:{path:"/api/vaults/:id/download",responses:{200:m.object({success:m.boolean()}),403:m.object({message:m.string()})}},codeLookup:{path:"/api/vault/code/:lookupId",responses:{200:m.object({id:m.string(),wrappedKey:m.string(),encryptedMetadata:m.string(),expiresAt:m.string(),maxDownloads:m.number(),downloadCount:m.number(),files:m.array(m.object({fileId:m.string(),chunkCount:m.number(),totalSize:m.number()}))}),410:m.object({message:m.string()})}},email:{input:m.object({to:m.string().email(),senderName:m.string().optional()}),responses:{200:m.object({success:m.boolean(),remainingEmails:m.number(),previewUrl:m.string().optional()}),429:m.object({message:m.string()})}}},chunks:{getUploadUrl:{method:"POST",path:"/api/vaults/:id/files/:fileId/chunks/:chunkIndex/upload-url",input:m.object({size:m.number()}),responses:{200:m.object({uploadUrl:m.string(),storagePath:m.string()})}},markUploaded:{method:"PUT",path:"/api/vaults/:id/files/:fileId/chunks/:chunkIndex/status",input:m.object({storagePath:m.string()}),responses:{200:m.object({success:m.boolean()})}},getDownloadUrl:{path:"/api/vaults/:id/files/:fileId/chunks/:chunkIndex/download-url",responses:{200:m.object({downloadUrl:m.string()})}}}};function We(s,e){let t=s;return e&&Object.entries(e).forEach(([r,n])=>{t.includes(`:${r}`)&&(t=t.replace(`:${r}`,String(n)))}),t}function sd(s){return Ku({queryKey:[Z.vaults.get.path,s],queryFn:async()=>{const e=We(Z.vaults.get.path,{id:s}),t=await fetch(e);if(t.status===404)return null;if(t.status===410)throw new Error("This vault has expired or been deleted.");if(!t.ok)throw new Error("Failed to fetch vault");return Z.vaults.get.responses[200].parse(await t.json())},enabled:!!s,retry:!1})}function rd(){us();const{toast:s}=Ru();return Ge({mutationFn:async e=>{const t=Z.vaults.create.input.parse(e),r=await fetch(Z.vaults.create.path,{method:Z.vaults.create.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){if(r.status===400){const n=await r.json();throw new Error(n.message||"Validation failed")}throw new Error("Failed to create vault")}return Z.vaults.create.responses[201].parse(await r.json())},onError:e=>{s({variant:"destructive",title:"Creation Failed",description:e.message})}})}function nd(){return Ge({mutationFn:async({vaultId:s,fileId:e,chunkIndex:t,size:r})=>{const n=We(Z.chunks.getUploadUrl.path,{id:s,fileId:e,chunkIndex:t}),i=await fetch(n,{method:Z.chunks.getUploadUrl.method,headers:{"Content-Type":"application/json"},body:JSON.stringify({size:r})});if(!i.ok)throw new Error("Failed to get upload URL");return Z.chunks.getUploadUrl.responses[200].parse(await i.json())}})}function id(){return Ge({mutationFn:async({vaultId:s,fileId:e,chunkIndex:t,storagePath:r})=>{const n=We(Z.chunks.markUploaded.path,{id:s,fileId:e,chunkIndex:t}),i=await fetch(n,{method:Z.chunks.markUploaded.method,headers:{"Content-Type":"application/json"},body:JSON.stringify({storagePath:r})});if(!i.ok)throw new Error("Failed to confirm upload");return Z.chunks.markUploaded.responses[200].parse(await i.json())}})}function ad(){return Ge({mutationFn:async({vaultId:s,fileId:e,chunkIndex:t})=>{const r=We(Z.chunks.getDownloadUrl.path,{id:s,fileId:e,chunkIndex:t}),n=await fetch(r);if(!n.ok)throw new Error("Failed to get download URL");return Z.chunks.getDownloadUrl.responses[200].parse(await n.json())}})}function od(){return Ge({mutationFn:async s=>{const e=We(Z.vaults.download.path,{id:s}),t=await fetch(e,{method:"POST"});if(!t.ok)throw new Error("Failed to track download");return await t.json()}})}function ud(){return Ge({mutationFn:async s=>{const e=We(Z.vaults.codeLookup.path,{lookupId:s}),t=await fetch(e);if(t.status===404)throw new Error("Invalid code or vault expired");if(t.status===410)throw new Error("Vault expired or download limit reached");if(!t.ok)throw new Error("Failed to lookup vault");return Z.vaults.codeLookup.responses[200].parse(await t.json())}})}export{nd as a,id as b,ud as c,ad as d,od as e,sd as f,rd as u};
