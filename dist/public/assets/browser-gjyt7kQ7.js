var Ur = {}, Nr = function(r, e, n, a, f) {
  var t = new Worker(Ur[e] || (Ur[e] = URL.createObjectURL(new Blob([r + ';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'], { type: "text/javascript" }))));
  return t.onmessage = function(v) {
    var l = v.data, i = l.$e$;
    if (i) {
      var c = new Error(i[0]);
      c.code = i[1], c.stack = i[2], f(c, null);
    } else f(null, l);
  }, t.postMessage(n, a), t;
}, U = Uint8Array, I = Uint16Array, fr = Int32Array, vr = new U([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]), lr = new U([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]), hr = new U([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]), Sr = function(r, e) {
  for (var n = new I(31), a = 0; a < 31; ++a) n[a] = e += 1 << r[a - 1];
  for (var f = new fr(n[30]), a = 1; a < 30; ++a) for (var t = n[a]; t < n[a + 1]; ++t) f[t] = t - n[a] << 5 | a;
  return { b: n, r: f };
}, Ir = Sr(vr, 2), Pr = Ir.b, nr = Ir.r;
Pr[28] = 258, nr[258] = 28;
var Qr = Sr(lr, 0), sr = Qr.r, ar = new I(32768);
for (var w = 0; w < 32768; ++w) {
  var N = (w & 43690) >> 1 | (w & 21845) << 1;
  N = (N & 52428) >> 2 | (N & 13107) << 2, N = (N & 61680) >> 4 | (N & 3855) << 4, ar[w] = ((N & 65280) >> 8 | (N & 255) << 8) >> 1;
}
var _ = function(r, e, n) {
  for (var a = r.length, f = 0, t = new I(e); f < a; ++f) r[f] && ++t[r[f] - 1];
  var v = new I(e);
  for (f = 1; f < e; ++f) v[f] = v[f - 1] + t[f - 1] << 1;
  var l;
  if (n) {
    l = new I(1 << e);
    var i = 15 - e;
    for (f = 0; f < a; ++f) if (r[f]) for (var c = f << 4 | r[f], o = e - r[f], y = v[r[f] - 1]++ << o, x = y | (1 << o) - 1; y <= x; ++y) l[ar[y] >> i] = c;
  } else for (l = new I(a), f = 0; f < a; ++f) r[f] && (l[f] = ar[v[r[f] - 1]++] >> 15 - r[f]);
  return l;
}, P = new U(288);
for (var w = 0; w < 144; ++w) P[w] = 8;
for (var w = 144; w < 256; ++w) P[w] = 9;
for (var w = 256; w < 280; ++w) P[w] = 7;
for (var w = 280; w < 288; ++w) P[w] = 8;
var d = new U(32);
for (var w = 0; w < 32; ++w) d[w] = 5;
var Rr = _(P, 9, 0), Hr = _(d, 5, 0), xr = function(r) {
  return (r + 7) / 8 | 0;
}, Mr = function(r, e, n) {
  return (e == null || e < 0) && (e = 0), (n == null || n > r.length) && (n = r.length), new U(r.subarray(e, n));
}, Vr = ["unexpected EOF", "invalid block type", "invalid length/literal", "invalid distance", "stream finished", "no stream handler", , "no callback", "invalid UTF-8 data", "extra field too long", "date not in range 1980-2099", "filename too long", "stream finishing", "invalid zip data"], p = function(r, e, n) {
  var a = new Error(e || Vr[r]);
  if (a.code = r, Error.captureStackTrace && Error.captureStackTrace(a, p), !n) throw a;
  return a;
}, j = function(r, e, n) {
  n <<= e & 7;
  var a = e / 8 | 0;
  r[a] |= n, r[a + 1] |= n >> 8;
}, X = function(r, e, n) {
  n <<= e & 7;
  var a = e / 8 | 0;
  r[a] |= n, r[a + 1] |= n >> 8, r[a + 2] |= n >> 16;
}, er = function(r, e) {
  for (var n = [], a = 0; a < r.length; ++a) r[a] && n.push({ s: a, f: r[a] });
  var f = n.length, t = n.slice();
  if (!f) return { t: Ar, l: 0 };
  if (f == 1) {
    var v = new U(n[0].s + 1);
    return v[n[0].s] = 1, { t: v, l: 1 };
  }
  n.sort(function(F, O) {
    return F.f - O.f;
  }), n.push({ s: -1, f: 25001 });
  var l = n[0], i = n[1], c = 0, o = 1, y = 2;
  for (n[0] = { s: -1, f: l.f + i.f, l, r: i }; o != f - 1; ) l = n[n[c].f < n[y].f ? c++ : y++], i = n[c != o && n[c].f < n[y].f ? c++ : y++], n[o++] = { s: -1, f: l.f + i.f, l, r: i };
  for (var x = t[0].s, a = 1; a < f; ++a) t[a].s > x && (x = t[a].s);
  var m = new I(x + 1), B = tr(n[o - 1], m, 0);
  if (B > e) {
    var a = 0, M = 0, g = B - e, L = 1 << g;
    for (t.sort(function(O, A) {
      return m[A.s] - m[O.s] || O.f - A.f;
    }); a < f; ++a) {
      var S = t[a].s;
      if (m[S] > e) M += L - (1 << B - m[S]), m[S] = e;
      else break;
    }
    for (M >>= g; M > 0; ) {
      var E = t[a].s;
      m[E] < e ? M -= 1 << e - m[E]++ - 1 : ++a;
    }
    for (; a >= 0 && M; --a) {
      var s = t[a].s;
      m[s] == e && (--m[s], ++M);
    }
    B = e;
  }
  return { t: new U(m), l: B };
}, tr = function(r, e, n) {
  return r.s == -1 ? Math.max(tr(r.l, e, n + 1), tr(r.r, e, n + 1)) : e[r.s] = n;
}, gr = function(r) {
  for (var e = r.length; e && !r[--e]; ) ;
  for (var n = new I(++e), a = 0, f = r[0], t = 1, v = function(i) {
    n[a++] = i;
  }, l = 1; l <= e; ++l) if (r[l] == f && l != e) ++t;
  else {
    if (!f && t > 2) {
      for (; t > 138; t -= 138) v(32754);
      t > 2 && (v(t > 10 ? t - 11 << 5 | 28690 : t - 3 << 5 | 12305), t = 0);
    } else if (t > 3) {
      for (v(f), --t; t > 6; t -= 6) v(8304);
      t > 2 && (v(t - 3 << 5 | 8208), t = 0);
    }
    for (; t--; ) v(f);
    t = 1, f = r[l];
  }
  return { c: n.subarray(0, a), n: e };
}, Z = function(r, e) {
  for (var n = 0, a = 0; a < e.length; ++a) n += r[a] * e[a];
  return n;
}, mr = function(r, e, n) {
  var a = n.length, f = xr(e + 2);
  r[f] = a & 255, r[f + 1] = a >> 8, r[f + 2] = r[f] ^ 255, r[f + 3] = r[f + 1] ^ 255;
  for (var t = 0; t < a; ++t) r[f + t + 4] = n[t];
  return (f + 4 + a) * 8;
}, wr = function(r, e, n, a, f, t, v, l, i, c, o) {
  j(e, o++, n), ++f[256];
  for (var y = er(f, 15), x = y.t, m = y.l, B = er(t, 15), M = B.t, g = B.l, L = gr(x), S = L.c, E = L.n, s = gr(M), F = s.c, O = s.n, A = new I(19), h = 0; h < S.length; ++h) ++A[S[h] & 31];
  for (var h = 0; h < F.length; ++h) ++A[F[h] & 31];
  for (var u = er(A, 7), T = u.t, G = u.l, D = 19; D > 4 && !T[hr[D - 1]]; --D) ;
  var J = c + 5 << 3, C = Z(f, P) + Z(t, d) + v, $ = Z(f, x) + Z(t, M) + v + 14 + 3 * D + Z(A, T) + 2 * A[16] + 3 * A[17] + 7 * A[18];
  if (i >= 0 && J <= C && J <= $) return mr(e, o, r.subarray(i, i + c));
  var R, k, H, K;
  if (j(e, o, 1 + ($ < C)), o += 2, $ < C) {
    R = _(x, m, 0), k = x, H = _(M, g, 0), K = M;
    var or = _(T, G, 0);
    j(e, o, E - 257), j(e, o + 5, O - 1), j(e, o + 10, D - 4), o += 14;
    for (var h = 0; h < D; ++h) j(e, o + 3 * h, T[hr[h]]);
    o += 3 * D;
    for (var W = [S, F], b = 0; b < 2; ++b) for (var Q = W[b], h = 0; h < Q.length; ++h) {
      var Y = Q[h] & 31;
      j(e, o, or[Y]), o += T[Y], Y > 15 && (j(e, o, Q[h] >> 5 & 127), o += Q[h] >> 12);
    }
  } else R = Rr, k = P, H = Hr, K = d;
  for (var h = 0; h < l; ++h) {
    var q = a[h];
    if (q > 255) {
      var Y = q >> 18 & 31;
      X(e, o, R[Y + 257]), o += k[Y + 257], Y > 7 && (j(e, o, q >> 23 & 31), o += vr[Y]);
      var V = q & 31;
      X(e, o, H[V]), o += K[V], V > 3 && (X(e, o, q >> 5 & 8191), o += lr[V]);
    } else X(e, o, R[q]), o += k[q];
  }
  return X(e, o, R[256]), o + k[256];
}, Wr = new fr([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]), Ar = new U(0), Yr = function(r, e, n, a, f, t) {
  var v = t.z || r.length, l = new U(a + v + 5 * (1 + Math.ceil(v / 7e3)) + f), i = l.subarray(a, l.length - f), c = t.l, o = (t.r || 0) & 7;
  if (e) {
    o && (i[0] = t.r >> 3);
    for (var y = Wr[e - 1], x = y >> 13, m = y & 8191, B = (1 << n) - 1, M = t.p || new I(32768), g = t.h || new I(B + 1), L = Math.ceil(n / 3), S = 2 * L, E = function(cr) {
      return (r[cr] ^ r[cr + 1] << L ^ r[cr + 2] << S) & B;
    }, s = new fr(25e3), F = new I(288), O = new I(32), A = 0, h = 0, u = t.i || 0, T = 0, G = t.w || 0, D = 0; u + 2 < v; ++u) {
      var J = E(u), C = u & 32767, $ = g[J];
      if (M[C] = $, g[J] = C, G <= u) {
        var R = v - u;
        if ((A > 7e3 || T > 24576) && (R > 423 || !c)) {
          o = wr(r, i, 0, s, F, O, h, T, D, u - D, o), T = A = h = 0, D = u;
          for (var k = 0; k < 286; ++k) F[k] = 0;
          for (var k = 0; k < 30; ++k) O[k] = 0;
        }
        var H = 2, K = 0, or = m, W = C - $ & 32767;
        if (R > 2 && J == E(u - W)) for (var b = Math.min(x, R) - 1, Q = Math.min(32767, u), Y = Math.min(258, R); W <= Q && --or && C != $; ) {
          if (r[u + H] == r[u + H - W]) {
            for (var q = 0; q < Y && r[u + q] == r[u + q - W]; ++q) ;
            if (q > H) {
              if (H = q, K = W, q > b) break;
              for (var V = Math.min(W, q - 2), Tr = 0, k = 0; k < V; ++k) {
                var ir = u - W + k & 32767, Kr = M[ir], Er = ir - Kr & 32767;
                Er > Tr && (Tr = Er, $ = ir);
              }
            }
          }
          C = $, $ = M[C], W += C - $ & 32767;
        }
        if (K) {
          s[T++] = 268435456 | nr[H] << 18 | sr[K];
          var Or = nr[H] & 31, Cr = sr[K] & 31;
          h += vr[Or] + lr[Cr], ++F[257 + Or], ++O[Cr], G = u + H, ++A;
        } else s[T++] = r[u], ++F[r[u]];
      }
    }
    for (u = Math.max(u, G); u < v; ++u) s[T++] = r[u], ++F[r[u]];
    o = wr(r, i, c, s, F, O, h, T, D, u - D, o), c || (t.r = o & 7 | i[o / 8 | 0] << 3, o -= 7, t.h = g, t.p = M, t.i = u, t.w = G);
  } else {
    for (var u = t.w || 0; u < v + c; u += 65535) {
      var ur = u + 65535;
      ur >= v && (i[o / 8 | 0] = c, ur = v), o = mr(i, o + 1, r.subarray(u, ur));
    }
    t.i = v;
  }
  return Mr(l, 0, a + xr(o) + f);
}, Xr = function() {
  for (var r = new Int32Array(256), e = 0; e < 256; ++e) {
    for (var n = e, a = 9; --a; ) n = (n & 1 && -306674912) ^ n >>> 1;
    r[e] = n;
  }
  return r;
}(), Zr = function() {
  var r = -1;
  return { p: function(e) {
    for (var n = r, a = 0; a < e.length; ++a) n = Xr[n & 255 ^ e[a]] ^ n >>> 8;
    r = n;
  }, d: function() {
    return ~r;
  } };
}, jr = function() {
  var r = 1, e = 0;
  return { p: function(n) {
    for (var a = r, f = e, t = n.length | 0, v = 0; v != t; ) {
      for (var l = Math.min(v + 2655, t); v < l; ++v) f += a += n[v];
      a = (a & 65535) + 15 * (a >> 16), f = (f & 65535) + 15 * (f >> 16);
    }
    r = a, e = f;
  }, d: function() {
    return r %= 65521, e %= 65521, (r & 255) << 24 | (r & 65280) << 8 | (e & 255) << 8 | e >> 8;
  } };
}, kr = function(r, e, n, a, f) {
  if (!f && (f = { l: 1 }, e.dictionary)) {
    var t = e.dictionary.subarray(-32768), v = new U(t.length + r.length);
    v.set(t), v.set(r, t.length), r = v, f.w = t.length;
  }
  return Yr(r, e.level == null ? 6 : e.level, e.mem == null ? f.l ? Math.ceil(Math.max(8, Math.min(13, Math.log(r.length))) * 1.5) : 20 : 12 + e.mem, n, a, f);
}, Fr = function(r, e) {
  var n = {};
  for (var a in r) n[a] = r[a];
  for (var a in e) n[a] = e[a];
  return n;
}, Br = function(r, e, n) {
  for (var a = r(), f = r.toString(), t = f.slice(f.indexOf("[") + 1, f.lastIndexOf("]")).replace(/\s+/g, "").split(","), v = 0; v < a.length; ++v) {
    var l = a[v], i = t[v];
    if (typeof l == "function") {
      e += ";" + i + "=";
      var c = l.toString();
      if (l.prototype) if (c.indexOf("[native code]") != -1) {
        var o = c.indexOf(" ", 8) + 1;
        e += c.slice(o, c.indexOf("(", o));
      } else {
        e += c;
        for (var y in l.prototype) e += ";" + i + ".prototype." + y + "=" + l.prototype[y].toString();
      }
      else e += c;
    } else n[i] = l;
  }
  return e;
}, rr = [], _r = function(r) {
  var e = [];
  for (var n in r) r[n].buffer && e.push((r[n] = new r[n].constructor(r[n])).buffer);
  return e;
}, pr = function(r, e, n, a) {
  if (!rr[n]) {
    for (var f = "", t = {}, v = r.length - 1, l = 0; l < v; ++l) f = Br(r[l], f, t);
    rr[n] = { c: Br(r[v], f, t), e: t };
  }
  var i = Fr({}, rr[n].e);
  return Nr(rr[n].c + ";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=" + e.toString() + "}", n, i, _r(i), a);
}, br = function() {
  return [U, I, fr, vr, lr, hr, nr, sr, Rr, P, Hr, d, ar, Wr, Ar, _, j, X, er, tr, gr, Z, mr, wr, xr, Mr, Yr, kr, zr, Gr];
}, Gr = function(r) {
  return postMessage(r, [r.buffer]);
}, dr = function(r, e, n, a, f, t) {
  var v = pr(n, a, f, function(l, i) {
    v.terminate(), t(l, i);
  });
  return v.postMessage([r, e], e.consume ? [r.buffer] : []), function() {
    v.terminate();
  };
}, z = function(r, e, n) {
  for (; n; ++e) r[e] = n, n >>>= 8;
}, re = function(r, e) {
  var n = e.level, a = n == 0 ? 0 : n < 6 ? 1 : n == 9 ? 3 : 2;
  if (r[0] = 120, r[1] = a << 6 | (e.dictionary && 32), r[1] |= 31 - (r[0] << 8 | r[1]) % 31, e.dictionary) {
    var f = jr();
    f.p(e.dictionary), z(r, 2, f.d());
  }
};
function ee(r, e, n) {
  return n || (n = e, e = {}), typeof n != "function" && p(7), dr(r, e, [br], function(a) {
    return Gr(zr(a.data[0], a.data[1]));
  }, 0, n);
}
function zr(r, e) {
  return kr(r, e || {}, 0, 0);
}
function fe(r, e) {
  e || (e = {});
  var n = jr();
  n.p(r);
  var a = kr(r, e, e.dictionary ? 6 : 2, 4);
  return re(a, e), z(a, a.length - 4, n.d()), a;
}
var Jr = function(r, e, n, a) {
  for (var f in r) {
    var t = r[f], v = e + f, l = a;
    Array.isArray(t) && (l = Fr(a, t[1]), t = t[0]), t instanceof U ? n[v] = [t, l] : (n[v += "/"] = [new U(0), l], Jr(t, v, n, a));
  }
}, Dr = typeof TextEncoder < "u" && new TextEncoder(), ne = typeof TextDecoder < "u" && new TextDecoder(), ae = 0;
try {
  ne.decode(Ar, { stream: true }), ae = 1;
} catch {
}
function $r(r, e) {
  var n;
  if (Dr) return Dr.encode(r);
  for (var a = r.length, f = new U(r.length + (r.length >> 1)), t = 0, v = function(c) {
    f[t++] = c;
  }, n = 0; n < a; ++n) {
    if (t + 5 > f.length) {
      var l = new U(t + 8 + (a - n << 1));
      l.set(f), f = l;
    }
    var i = r.charCodeAt(n);
    i < 128 || e ? v(i) : i < 2048 ? (v(192 | i >> 6), v(128 | i & 63)) : i > 55295 && i < 57344 ? (i = 65536 + (i & 1047552) | r.charCodeAt(++n) & 1023, v(240 | i >> 18), v(128 | i >> 12 & 63), v(128 | i >> 6 & 63), v(128 | i & 63)) : (v(224 | i >> 12), v(128 | i >> 6 & 63), v(128 | i & 63));
  }
  return Mr(f, 0, t);
}
var yr = function(r) {
  var e = 0;
  if (r) for (var n in r) {
    var a = r[n].length;
    a > 65535 && p(9), e += a + 4;
  }
  return e;
}, qr = function(r, e, n, a, f, t, v, l) {
  var i = a.length, c = n.extra, o = l && l.length, y = yr(c);
  z(r, e, v != null ? 33639248 : 67324752), e += 4, v != null && (r[e++] = 20, r[e++] = n.os), r[e] = 20, e += 2, r[e++] = n.flag << 1 | (t < 0 && 8), r[e++] = f && 8, r[e++] = n.compression & 255, r[e++] = n.compression >> 8;
  var x = new Date(n.mtime == null ? Date.now() : n.mtime), m = x.getFullYear() - 1980;
  if ((m < 0 || m > 119) && p(10), z(r, e, m << 25 | x.getMonth() + 1 << 21 | x.getDate() << 16 | x.getHours() << 11 | x.getMinutes() << 5 | x.getSeconds() >> 1), e += 4, t != -1 && (z(r, e, n.crc), z(r, e + 4, t < 0 ? -t - 2 : t), z(r, e + 8, n.size)), z(r, e + 12, i), z(r, e + 14, y), e += 16, v != null && (z(r, e, o), z(r, e + 6, n.attrs), z(r, e + 10, v), e += 14), r.set(a, e), e += i, y) for (var B in c) {
    var M = c[B], g = M.length;
    z(r, e, +B), z(r, e + 2, g), r.set(M, e + 4), e += 4 + g;
  }
  return o && (r.set(l, e), e += o), e;
}, te = function(r, e, n, a, f) {
  z(r, e, 101010256), z(r, e + 8, n), z(r, e + 10, n), z(r, e + 12, a), z(r, e + 16, f);
};
function ve(r, e, n) {
  n || (n = e, e = {}), typeof n != "function" && p(7);
  var a = {};
  Jr(r, "", a, e);
  var f = Object.keys(a), t = f.length, v = 0, l = 0, i = t, c = new Array(t), o = [], y = function() {
    for (var g = 0; g < o.length; ++g) o[g]();
  }, x = function(g, L) {
    Lr(function() {
      n(g, L);
    });
  };
  Lr(function() {
    x = n;
  });
  var m = function() {
    var g = new U(l + 22), L = v, S = l - v;
    l = 0;
    for (var E = 0; E < i; ++E) {
      var s = c[E];
      try {
        var F = s.c.length;
        qr(g, l, s, s.f, s.u, F);
        var O = 30 + s.f.length + yr(s.extra), A = l + O;
        g.set(s.c, A), qr(g, v, s, s.f, s.u, F, l, s.m), v += 16 + O + (s.m ? s.m.length : 0), l = A + F;
      } catch (h) {
        return x(h, null);
      }
    }
    te(g, v, c.length, S, L), x(null, g);
  };
  t || m();
  for (var B = function(g) {
    var L = f[g], S = a[L], E = S[0], s = S[1], F = Zr(), O = E.length;
    F.p(E);
    var A = $r(L), h = A.length, u = s.comment, T = u && $r(u), G = T && T.length, D = yr(s.extra), J = s.level == 0 ? 0 : 8, C = function($, R) {
      if ($) y(), x($, null);
      else {
        var k = R.length;
        c[g] = Fr(s, { size: O, crc: F.d(), c: R, f: A, m: T, u: h != L.length || T && u.length != G, compression: J }), v += 30 + h + D + k, l += 76 + 2 * (h + D) + (G || 0) + k, --t || m();
      }
    };
    if (h > 65535 && C(p(11, 0, 1), null), !J) C(null, E);
    else if (O < 16e4) try {
      C(null, zr(E, s));
    } catch ($) {
      C($, null);
    }
    else o.push(ee(E, s, C));
  }, M = 0; M < i; ++M) B(M);
  return y;
}
var Lr = typeof queueMicrotask == "function" ? queueMicrotask : typeof setTimeout == "function" ? setTimeout : function(r) {
  r();
};
export {
  fe as a,
  ve as z
};
