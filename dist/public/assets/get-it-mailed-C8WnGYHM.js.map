{"version":3,"file":"get-it-mailed-C8WnGYHM.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/arrow-up-right.js","../../../node_modules/lucide-react/dist/esm/icons/inbox.js","../../../node_modules/lucide-react/dist/esm/icons/plus.js","../../../client/src/pages/get-it-mailed.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowUpRight = createLucideIcon(\"ArrowUpRight\", [\n  [\"path\", { d: \"M7 7h10v10\", key: \"1tivn9\" }],\n  [\"path\", { d: \"M7 17 17 7\", key: \"1vkiza\" }]\n]);\n\nexport { ArrowUpRight as default };\n//# sourceMappingURL=arrow-up-right.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Inbox = createLucideIcon(\"Inbox\", [\n  [\"polyline\", { points: \"22 12 16 12 14 15 10 15 8 12 2 12\", key: \"o97t9d\" }],\n  [\n    \"path\",\n    {\n      d: \"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z\",\n      key: \"oot6mr\"\n    }\n  ]\n]);\n\nexport { Inbox as default };\n//# sourceMappingURL=inbox.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Plus = createLucideIcon(\"Plus\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n]);\n\nexport { Plus as default };\n//# sourceMappingURL=plus.js.map\n","import { useState, useRef, useCallback, useMemo } from \"react\";\nimport { Link } from \"wouter\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport {\n    Shield, Send, Paperclip, FileText, X, Image as ImageIcon, File, FileArchive, FileVideo, FileAudio,\n    Users, Plus, ArrowLeft, ArrowRight, Mail, Check, AlertTriangle, Sparkles, Eye, ChevronRight, Trash2,\n    Clock, Inbox, CheckCircle2, ArrowUpRight\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n    Dialog,\n    DialogContent,\n    DialogDescription,\n    DialogHeader,\n    DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useSounds } from \"@/hooks/useSounds\";\n\n// ─── Constants ───────────────────────────────────────────────────────────────\nconst MAX_EMAIL_SIZE = 50 * 1024 * 1024; // 50MB total\nconst MAX_FILE_SIZE = 25 * 1024 * 1024;  // 25MB per file\nconst MAX_RECIPIENTS = 5;\nconst MAX_FILES = 10;\n\nconst STEPS = [\n    { id: 1, label: \"Attach\", icon: Paperclip },\n    { id: 2, label: \"Recipients\", icon: Users },\n    { id: 3, label: \"Review\", icon: Eye },\n] as const;\n\n// ─── Helpers ─────────────────────────────────────────────────────────────────\nconst isValidEmail = (email: string) => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email.trim());\n\nconst formatSize = (bytes: number) => {\n    if (bytes === 0) return \"0 B\";\n    if (bytes < 1024) return `${bytes} B`;\n    if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\n    return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;\n};\n\nconst getFileIcon = (type: string) => {\n    if (type.startsWith(\"image/\")) return ImageIcon;\n    if (type.startsWith(\"video/\")) return FileVideo;\n    if (type.startsWith(\"audio/\")) return FileAudio;\n    if (type.includes(\"zip\") || type.includes(\"rar\") || type.includes(\"tar\") || type.includes(\"7z\") || type.includes(\"gz\"))\n        return FileArchive;\n    if (type.includes(\"pdf\") || type.includes(\"doc\") || type.includes(\"text\") || type.includes(\"sheet\"))\n        return FileText;\n    return File;\n};\n\nconst getFileColor = (type: string) => {\n    if (type.startsWith(\"image/\")) return \"text-sky-400 bg-sky-500/10 border-sky-500/20\";\n    if (type.startsWith(\"video/\")) return \"text-rose-400 bg-rose-500/10 border-rose-500/20\";\n    if (type.startsWith(\"audio/\")) return \"text-amber-400 bg-amber-500/10 border-amber-500/20\";\n    if (type.includes(\"zip\") || type.includes(\"rar\") || type.includes(\"tar\"))\n        return \"text-orange-400 bg-orange-500/10 border-orange-500/20\";\n    if (type.includes(\"pdf\")) return \"text-red-400 bg-red-500/10 border-red-500/20\";\n    return \"text-violet-400 bg-violet-500/10 border-violet-500/20\";\n};\n\n// ─── Component ───────────────────────────────────────────────────────────────\nexport default function GetItMailedPage() {\n    const [step, setStep] = useState(1);\n    const [emailFiles, setEmailFiles] = useState<File[]>([]);\n    const [isSending, setIsSending] = useState(false);\n    const [isDragging, setIsDragging] = useState(false);\n    const { toast } = useToast();\n    const { play: playSound } = useSounds();\n    const fileInputRef = useRef<HTMLInputElement>(null);\n    const [showSpamAlert, setShowSpamAlert] = useState(false);\n    const [showConfirmSend, setShowConfirmSend] = useState(false);\n\n    // Snapshot of what was sent (captured before reset)\n    const [sendSummary, setSendSummary] = useState<{\n        fileCount: number;\n        fileNames: string[];\n        totalSize: number;\n        recipients: string[];\n        subject: string;\n    } | null>(null);\n\n    const [recipients, setRecipients] = useState<string[]>([]);\n    const [recipientInput, setRecipientInput] = useState(\"\");\n    const [emailSubject, setEmailSubject] = useState(\"\");\n    const [emailBody, setEmailBody] = useState(\"\");\n    const [emailError, setEmailError] = useState(\"\");\n\n    const totalEmailSize = useMemo(\n        () => emailFiles.reduce((acc, file) => acc + file.size, 0),\n        [emailFiles]\n    );\n    const sizePercent = Math.min((totalEmailSize / MAX_EMAIL_SIZE) * 100, 100);\n    const isOverLimit = totalEmailSize > MAX_EMAIL_SIZE;\n\n    // ─── File Handlers ───────────────────────────────────────────────────────\n    const addFiles = useCallback((newFiles: File[]) => {\n        const oversized = newFiles.filter(f => f.size > MAX_FILE_SIZE);\n        if (oversized.length > 0) {\n            toast({\n                variant: \"destructive\",\n                title: \"File too large\",\n                description: `${oversized[0].name} exceeds the 25 MB per-file limit.`,\n            });\n            return;\n        }\n\n        const currentCount = emailFiles.length;\n        if (currentCount + newFiles.length > MAX_FILES) {\n            toast({\n                variant: \"destructive\",\n                title: \"Too many files\",\n                description: `Max ${MAX_FILES} files allowed. You have ${currentCount}.`,\n            });\n            return;\n        }\n\n        const newTotal = newFiles.reduce((a, f) => a + f.size, totalEmailSize);\n        if (newTotal > MAX_EMAIL_SIZE) {\n            toast({\n                variant: \"destructive\",\n                title: \"Total size exceeded\",\n                description: `Adding these files would exceed the 50 MB limit.`,\n            });\n            return;\n        }\n\n        setEmailFiles(prev => [...prev, ...newFiles]);\n        playSound?.(\"click\");\n    }, [emailFiles, totalEmailSize, toast, playSound]);\n\n    const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n        if (e.target.files && e.target.files.length > 0) {\n            addFiles(Array.from(e.target.files));\n            if (fileInputRef.current) fileInputRef.current.value = \"\";\n        }\n    };\n\n    const removeEmailFile = (index: number) => {\n        setEmailFiles(prev => prev.filter((_, i) => i !== index));\n        playSound?.(\"click\");\n    };\n\n    const clearAllFiles = () => {\n        setEmailFiles([]);\n        if (fileInputRef.current) fileInputRef.current.value = \"\";\n    };\n\n    // Drag & Drop\n    const handleDragOver = useCallback((e: React.DragEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(true);\n    }, []);\n\n    const handleDragLeave = useCallback((e: React.DragEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(false);\n    }, []);\n\n    const handleDrop = useCallback((e: React.DragEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(false);\n        if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n            addFiles(Array.from(e.dataTransfer.files));\n        }\n    }, [addFiles]);\n\n    // ─── Recipient Handlers ──────────────────────────────────────────────────\n    const handleAddRecipient = () => {\n        if (!recipientInput.trim()) return;\n        const inputs = recipientInput.split(',').map(e => e.trim().toLowerCase()).filter(e => e);\n        const validToAdd: string[] = [];\n        let error = \"\";\n\n        inputs.forEach(email => {\n            if (!isValidEmail(email)) error = `\"${email}\" is not a valid email`;\n            else if (recipients.includes(email)) error = `\"${email}\" is already added`;\n            else if (recipients.length + validToAdd.length >= MAX_RECIPIENTS)\n                error = `Maximum ${MAX_RECIPIENTS} recipients`;\n            else validToAdd.push(email);\n        });\n\n        if (validToAdd.length > 0) {\n            setRecipients(prev => [...prev, ...validToAdd]);\n            setRecipientInput(\"\");\n            setEmailError(\"\");\n            playSound?.(\"click\");\n        } else if (error) {\n            setEmailError(error);\n        }\n    };\n\n    const removeRecipient = (index: number) => {\n        setRecipients(prev => prev.filter((_, i) => i !== index));\n        playSound?.(\"click\");\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n        if (e.key === \"Enter\" || e.key === \"Tab\" || e.key === \",\") {\n            e.preventDefault();\n            handleAddRecipient();\n        }\n        if (e.key === \"Backspace\" && !recipientInput && recipients.length > 0) {\n            removeRecipient(recipients.length - 1);\n        }\n    };\n\n    const handleRecipientInputChange = (val: string) => {\n        setRecipientInput(val);\n        setEmailError(\"\");\n        // Auto-add on comma or space after valid email\n        if (val.endsWith(\",\") || val.endsWith(\" \")) {\n            const clean = val.replace(/[, ]+$/, \"\").trim();\n            if (clean && isValidEmail(clean)) {\n                setRecipientInput(clean);\n                setTimeout(() => handleAddRecipient(), 0);\n            }\n        }\n    };\n\n    // ─── Step Validation ─────────────────────────────────────────────────────\n    const canProceed = (s: number) => {\n        if (s === 1) return emailFiles.length > 0 && !isOverLimit;\n        if (s === 2) return recipients.length > 0;\n        return true;\n    };\n\n    const nextStep = () => {\n        if (canProceed(step) && step < 3) {\n            setStep(step + 1);\n            playSound?.(\"click\");\n        }\n    };\n\n    const prevStep = () => {\n        if (step > 1) {\n            setStep(step - 1);\n            playSound?.(\"click\");\n        }\n    };\n\n    // ─── Send Handler ────────────────────────────────────────────────────────\n    const handleSendEmail = async () => {\n        setShowConfirmSend(false);\n        setIsSending(true);\n\n        // Capture summary BEFORE clearing state\n        const summary = {\n            fileCount: emailFiles.length,\n            fileNames: emailFiles.map(f => f.name),\n            totalSize: totalEmailSize,\n            recipients: [...recipients],\n            subject: emailSubject.trim() ||\n                `Files shared via VaultBridge: ${emailFiles.map(f => f.name).join(\", \").substring(0, 50)}`,\n        };\n\n        try {\n            const formData = new FormData();\n            formData.append(\"to\", recipients.join(\",\"));\n            formData.append(\"subject\", summary.subject);\n            const finalBody = emailBody.trim() ||\n                `You have received ${emailFiles.length} file(s) (${formatSize(totalEmailSize)}) via VaultBridge secure transfer.\\n\\nFiles: ${emailFiles.map(f => f.name).join(\", \")}`;\n            formData.append(\"body\", finalBody);\n            emailFiles.forEach(file => formData.append(\"files\", file));\n\n            const res = await fetch(\"/api/email/direct-multi\", { method: \"POST\", body: formData });\n            const data = await res.json();\n\n            if (!res.ok) throw new Error(data.message || \"Failed to send email\");\n\n            if (data.failed && data.failed > 0) {\n                toast({\n                    title: \"⚠️ Partial Success\",\n                    description: data.message || `Sent to ${data.delivered}/${recipients.length} recipients`,\n                    className: \"bg-amber-900/90 border-amber-500\",\n                });\n            }\n\n            setSendSummary(summary);\n            setShowSpamAlert(true);\n\n            // Reset form\n            setEmailFiles([]);\n            setRecipients([]);\n            setEmailSubject(\"\");\n            setEmailBody(\"\");\n            setStep(1);\n            if (fileInputRef.current) fileInputRef.current.value = \"\";\n        } catch (err: any) {\n            toast({\n                variant: \"destructive\",\n                title: \"Failed to send\",\n                description: err.message || \"Something went wrong. Please try again.\",\n            });\n        } finally {\n            setIsSending(false);\n        }\n    };\n\n    // ─── Render ──────────────────────────────────────────────────────────────\n    return (\n        <div className=\"min-h-screen relative overflow-hidden flex flex-col font-sans text-zinc-100 bg-zinc-950\">\n            {/* Background Effects */}\n            <div className=\"fixed inset-0 bg-[radial-gradient(ellipse_at_top,rgba(124,58,237,0.08),transparent_50%)]\" />\n            <div className=\"fixed inset-0 bg-[radial-gradient(ellipse_at_bottom_right,rgba(168,85,247,0.05),transparent_50%)]\" />\n\n            {/* Header */}\n            <header className=\"relative z-10 px-6 py-5 border-b border-white/5 backdrop-blur-sm\">\n                <div className=\"max-w-3xl mx-auto flex items-center justify-between\">\n                    <Link href=\"/\">\n                        <motion.div\n                            initial={{ opacity: 0, x: -20 }}\n                            animate={{ opacity: 1, x: 0 }}\n                            className=\"flex items-center gap-3 cursor-pointer group\"\n                        >\n                            <div className=\"w-9 h-9 bg-violet-500/10 rounded-xl flex items-center justify-center border border-violet-500/20 group-hover:border-violet-400/50 transition-colors\">\n                                <Mail className=\"w-4 h-4 text-violet-400\" />\n                            </div>\n                            <h1 className=\"text-lg font-bold font-mono tracking-tight group-hover:text-violet-300 transition-colors\">\n                                VAULT<span className=\"text-violet-400\">BRIDGE</span>\n                            </h1>\n                        </motion.div>\n                    </Link>\n                    <Link href=\"/\">\n                        <Button variant=\"ghost\" size=\"sm\" className=\"gap-2 text-zinc-500 hover:text-white hover:bg-white/5 text-xs\">\n                            <ArrowLeft className=\"w-3.5 h-3.5\" /> Back\n                        </Button>\n                    </Link>\n                </div>\n            </header>\n\n            {/* Main */}\n            <main className=\"relative z-10 flex-1 w-full max-w-3xl mx-auto px-6 py-10\">\n                {/* Title */}\n                <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className=\"text-center mb-8\">\n                    <div className=\"inline-flex items-center gap-2 px-3 py-1.5 bg-violet-500/10 border border-violet-500/15 rounded-full text-xs text-violet-300 font-medium mb-4\">\n                        <Sparkles className=\"w-3 h-3\" /> Zero-Knowledge Email Relay\n                    </div>\n                    <h2 className=\"text-3xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-violet-300 via-fuchsia-300 to-violet-300 bg-clip-text text-transparent\">\n                        Get it Mailed\n                    </h2>\n                    <p className=\"text-zinc-500 text-sm max-w-md mx-auto\">\n                        Attach files, add recipients, review and send — all ephemeral, never stored.\n                    </p>\n                </motion.div>\n\n                {/* ─── Step Indicator ──────────────────────────────────────── */}\n                <motion.div\n                    initial={{ opacity: 0, y: 15 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.05 }}\n                    className=\"mb-8\"\n                >\n                    <div className=\"flex items-center justify-center gap-0\">\n                        {STEPS.map((s, idx) => {\n                            const Icon = s.icon;\n                            const isActive = step === s.id;\n                            const isCompleted = step > s.id;\n                            return (\n                                <div key={s.id} className=\"flex items-center\">\n                                    <button\n                                        onClick={() => {\n                                            // Allow going back to completed steps\n                                            if (isCompleted || isActive) setStep(s.id);\n                                        }}\n                                        className={`\n                                            flex items-center gap-2 px-4 py-2.5 rounded-xl text-xs font-semibold uppercase tracking-wider transition-all\n                                            ${isActive\n                                                ? \"bg-violet-500/15 text-violet-300 border border-violet-500/30 shadow-lg shadow-violet-500/10\"\n                                                : isCompleted\n                                                    ? \"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 cursor-pointer hover:bg-emerald-500/15\"\n                                                    : \"bg-zinc-900/50 text-zinc-600 border border-zinc-800/50\"\n                                            }\n                                        `}\n                                    >\n                                        {isCompleted ? (\n                                            <Check className=\"w-3.5 h-3.5\" />\n                                        ) : (\n                                            <Icon className=\"w-3.5 h-3.5\" />\n                                        )}\n                                        {s.label}\n                                    </button>\n                                    {idx < STEPS.length - 1 && (\n                                        <ChevronRight className={`w-4 h-4 mx-1 ${step > s.id ? \"text-emerald-500/50\" : \"text-zinc-800\"}`} />\n                                    )}\n                                </div>\n                            );\n                        })}\n                    </div>\n                </motion.div>\n\n                {/* ─── Step Content ────────────────────────────────────────── */}\n                <AnimatePresence mode=\"wait\">\n                    {/* ── STEP 1: FILES ─────────────────────────────────────── */}\n                    {step === 1 && (\n                        <motion.div\n                            key=\"step1\"\n                            initial={{ opacity: 0, x: 30 }}\n                            animate={{ opacity: 1, x: 0 }}\n                            exit={{ opacity: 0, x: -30 }}\n                            transition={{ duration: 0.25 }}\n                            className=\"space-y-5\"\n                        >\n                            {/* Drop Zone */}\n                            <div\n                                className={`\n                                    relative border-2 border-dashed rounded-2xl p-10 text-center transition-all cursor-pointer group\n                                    ${isDragging\n                                        ? \"border-violet-400 bg-violet-500/10 scale-[1.02]\"\n                                        : emailFiles.length > 0\n                                            ? \"border-violet-500/30 bg-violet-500/5\"\n                                            : \"border-zinc-700/50 hover:border-violet-500/40 hover:bg-violet-500/5\"\n                                    }\n                                `}\n                                onClick={() => fileInputRef.current?.click()}\n                                onDragOver={handleDragOver}\n                                onDragLeave={handleDragLeave}\n                                onDrop={handleDrop}\n                            >\n                                <input type=\"file\" ref={fileInputRef} className=\"hidden\" multiple onChange={handleFileSelect} />\n                                <AnimatePresence mode=\"wait\">\n                                    {isDragging ? (\n                                        <motion.div key=\"dragging\" initial={{ scale: 0.9, opacity: 0 }} animate={{ scale: 1, opacity: 1 }} exit={{ scale: 0.9, opacity: 0 }}>\n                                            <div className=\"w-16 h-16 bg-violet-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-violet-400/30 animate-pulse\">\n                                                <Paperclip className=\"w-7 h-7 text-violet-300\" />\n                                            </div>\n                                            <p className=\"text-lg font-semibold text-violet-300\">Release to attach</p>\n                                        </motion.div>\n                                    ) : (\n                                        <motion.div key=\"idle\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}>\n                                            <div className=\"w-16 h-16 bg-gradient-to-br from-violet-500/15 to-fuchsia-500/15 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-violet-500/15 group-hover:scale-105 transition-transform\">\n                                                <Paperclip className=\"w-7 h-7 text-violet-400\" />\n                                            </div>\n                                            <p className=\"text-base font-semibold text-zinc-200\">Drop files here or click to browse</p>\n                                            <p className=\"text-xs text-zinc-500 mt-2\">Up to {MAX_FILES} files • 25 MB per file • 50 MB total</p>\n                                        </motion.div>\n                                    )}\n                                </AnimatePresence>\n                            </div>\n\n                            {/* Size Bar */}\n                            {emailFiles.length > 0 && (\n                                <motion.div\n                                    initial={{ opacity: 0, y: 10 }}\n                                    animate={{ opacity: 1, y: 0 }}\n                                    className=\"flex items-center gap-3\"\n                                >\n                                    <div className=\"flex-1 h-2 bg-zinc-800/80 rounded-full overflow-hidden\">\n                                        <motion.div\n                                            className={`h-full rounded-full ${isOverLimit\n                                                ? \"bg-gradient-to-r from-red-500 to-rose-500\"\n                                                : sizePercent > 80\n                                                    ? \"bg-gradient-to-r from-amber-500 to-orange-500\"\n                                                    : \"bg-gradient-to-r from-violet-500 to-fuchsia-500\"\n                                                }`}\n                                            initial={{ width: 0 }}\n                                            animate={{ width: `${sizePercent}%` }}\n                                            transition={{ duration: 0.4 }}\n                                        />\n                                    </div>\n                                    <span className={`text-xs font-mono whitespace-nowrap ${isOverLimit ? \"text-red-400\" : \"text-zinc-500\"}`}>\n                                        {formatSize(totalEmailSize)} / {formatSize(MAX_EMAIL_SIZE)}\n                                    </span>\n                                </motion.div>\n                            )}\n\n                            {/* File List */}\n                            <AnimatePresence>\n                                {emailFiles.length > 0 && (\n                                    <motion.div\n                                        initial={{ opacity: 0 }}\n                                        animate={{ opacity: 1 }}\n                                        exit={{ opacity: 0 }}\n                                    >\n                                        <div className=\"flex items-center justify-between mb-3\">\n                                            <p className=\"text-xs font-mono text-zinc-500 uppercase tracking-wider\">\n                                                {emailFiles.length} file{emailFiles.length !== 1 ? \"s\" : \"\"} attached\n                                            </p>\n                                            <button\n                                                onClick={clearAllFiles}\n                                                className=\"text-xs text-zinc-600 hover:text-rose-400 transition-colors flex items-center gap-1\"\n                                            >\n                                                <Trash2 className=\"w-3 h-3\" /> Clear all\n                                            </button>\n                                        </div>\n                                        <div className=\"space-y-2 max-h-[280px] overflow-y-auto pr-1 custom-scrollbar\">\n                                            {emailFiles.map((file, idx) => {\n                                                const Icon = getFileIcon(file.type);\n                                                const colorClass = getFileColor(file.type);\n                                                return (\n                                                    <motion.div\n                                                        key={`${file.name}-${idx}-${file.size}`}\n                                                        initial={{ opacity: 0, y: 10 }}\n                                                        animate={{ opacity: 1, y: 0 }}\n                                                        exit={{ opacity: 0, x: -20 }}\n                                                        transition={{ delay: idx * 0.03 }}\n                                                        className=\"flex items-center gap-3 p-3 bg-zinc-900/60 rounded-xl border border-zinc-800/60 hover:border-zinc-700/60 group transition-colors\"\n                                                    >\n                                                        <div className={`p-2 rounded-lg border ${colorClass} flex-shrink-0`}>\n                                                            <Icon className=\"w-4 h-4\" />\n                                                        </div>\n                                                        <div className=\"flex-1 min-w-0\">\n                                                            <p className=\"text-sm font-medium truncate\">{file.name}</p>\n                                                            <p className=\"text-[11px] text-zinc-500\">{formatSize(file.size)}</p>\n                                                        </div>\n                                                        <button\n                                                            onClick={(e) => { e.stopPropagation(); removeEmailFile(idx); }}\n                                                            className=\"p-1.5 rounded-lg text-zinc-600 hover:text-rose-400 hover:bg-rose-500/10 transition-colors opacity-0 group-hover:opacity-100\"\n                                                        >\n                                                            <X className=\"w-4 h-4\" />\n                                                        </button>\n                                                    </motion.div>\n                                                );\n                                            })}\n                                        </div>\n                                    </motion.div>\n                                )}\n                            </AnimatePresence>\n                        </motion.div>\n                    )}\n\n                    {/* ── STEP 2: RECIPIENTS ───────────────────────────────── */}\n                    {step === 2 && (\n                        <motion.div\n                            key=\"step2\"\n                            initial={{ opacity: 0, x: 30 }}\n                            animate={{ opacity: 1, x: 0 }}\n                            exit={{ opacity: 0, x: -30 }}\n                            transition={{ duration: 0.25 }}\n                            className=\"space-y-6\"\n                        >\n                            {/* Recipients Input */}\n                            <div className=\"space-y-3\">\n                                <label className=\"text-xs font-mono uppercase tracking-wider text-zinc-400 flex items-center gap-2\">\n                                    <Users className=\"w-3.5 h-3.5 text-violet-400\" />\n                                    Recipients ({recipients.length}/{MAX_RECIPIENTS})\n                                </label>\n                                <div className={`\n                                    bg-zinc-900/50 border rounded-xl min-h-[56px] p-2.5 flex flex-wrap gap-2 transition-all\n                                    ${emailError ? \"border-rose-500/50 ring-1 ring-rose-500/20\" : \"border-zinc-800 focus-within:border-violet-500/50 focus-within:ring-1 focus-within:ring-violet-500/20\"}\n                                `}>\n                                    <AnimatePresence mode=\"popLayout\">\n                                        {recipients.map((recipient, idx) => (\n                                            <motion.div\n                                                key={recipient}\n                                                initial={{ opacity: 0, scale: 0.8 }}\n                                                animate={{ opacity: 1, scale: 1 }}\n                                                exit={{ opacity: 0, scale: 0.8 }}\n                                                className=\"flex items-center gap-1.5 pl-3 pr-1.5 py-1.5 bg-violet-500/10 border border-violet-500/20 rounded-lg\"\n                                            >\n                                                <span className=\"text-sm font-medium text-violet-100\">{recipient}</span>\n                                                <button\n                                                    onClick={() => removeRecipient(idx)}\n                                                    className=\"p-1 hover:bg-rose-500/20 rounded-md text-violet-400 hover:text-rose-400 transition-colors\"\n                                                >\n                                                    <X className=\"w-3 h-3\" />\n                                                </button>\n                                            </motion.div>\n                                        ))}\n                                    </AnimatePresence>\n                                    {recipients.length < MAX_RECIPIENTS && (\n                                        <div className=\"flex-1 min-w-[200px] flex items-center relative\">\n                                            <Input\n                                                placeholder={recipients.length === 0 ? \"name@example.com\" : \"Add another...\"}\n                                                value={recipientInput}\n                                                onChange={(e) => handleRecipientInputChange(e.target.value)}\n                                                onKeyDown={handleKeyDown}\n                                                onBlur={() => { if (recipientInput.trim()) handleAddRecipient(); }}\n                                                className=\"bg-transparent border-none h-9 p-0 focus-visible:ring-0 placeholder:text-zinc-600 text-base w-full\"\n                                            />\n                                            {recipientInput && (\n                                                <button\n                                                    onClick={handleAddRecipient}\n                                                    className=\"absolute right-0 p-1.5 bg-violet-500/20 hover:bg-violet-500 text-violet-300 hover:text-white rounded-lg transition-all\"\n                                                >\n                                                    <Plus className=\"w-4 h-4\" />\n                                                </button>\n                                            )}\n                                        </div>\n                                    )}\n                                </div>\n                                <AnimatePresence>\n                                    {emailError && (\n                                        <motion.p\n                                            initial={{ opacity: 0, y: -5 }}\n                                            animate={{ opacity: 1, y: 0 }}\n                                            exit={{ opacity: 0, y: -5 }}\n                                            className=\"text-xs text-rose-400 flex items-center gap-1 pl-1\"\n                                        >\n                                            <AlertTriangle className=\"w-3 h-3\" /> {emailError}\n                                        </motion.p>\n                                    )}\n                                </AnimatePresence>\n                                {!emailError && (\n                                    <p className=\"text-[11px] text-zinc-600 pl-1\">\n                                        Press <kbd className=\"font-mono bg-zinc-800 px-1.5 py-0.5 rounded text-zinc-400 text-[10px]\">Enter</kbd>,{\" \"}\n                                        <kbd className=\"font-mono bg-zinc-800 px-1.5 py-0.5 rounded text-zinc-400 text-[10px]\">Tab</kbd>, or{\" \"}\n                                        <kbd className=\"font-mono bg-zinc-800 px-1.5 py-0.5 rounded text-zinc-400 text-[10px]\">,</kbd> to add\n                                    </p>\n                                )}\n                            </div>\n\n                            {/* Subject */}\n                            <div className=\"space-y-2\">\n                                <div className=\"flex items-center justify-between\">\n                                    <label className=\"text-xs font-mono uppercase tracking-wider text-zinc-400\">Subject</label>\n                                    <span className=\"text-[10px] text-zinc-600\">Optional — auto-generated if empty</span>\n                                </div>\n                                <Input\n                                    placeholder=\"Secure files for you...\"\n                                    value={emailSubject}\n                                    onChange={(e) => setEmailSubject(e.target.value)}\n                                    className=\"h-11 bg-zinc-900/50 border-zinc-800 focus:border-violet-500/50 text-base rounded-xl\"\n                                />\n                            </div>\n\n                            {/* Message */}\n                            <div className=\"space-y-2\">\n                                <div className=\"flex items-center justify-between\">\n                                    <label className=\"text-xs font-mono uppercase tracking-wider text-zinc-400\">Message</label>\n                                    <span className=\"text-[10px] text-zinc-600\">Optional</span>\n                                </div>\n                                <Textarea\n                                    placeholder=\"Hey! Here are those files you requested...\"\n                                    value={emailBody}\n                                    onChange={(e) => setEmailBody(e.target.value)}\n                                    className=\"min-h-[100px] bg-zinc-900/50 border-zinc-800 focus:border-violet-500/50 resize-none text-base rounded-xl\"\n                                />\n                            </div>\n                        </motion.div>\n                    )}\n\n                    {/* ── STEP 3: REVIEW ────────────────────────────────────── */}\n                    {step === 3 && (\n                        <motion.div\n                            key=\"step3\"\n                            initial={{ opacity: 0, x: 30 }}\n                            animate={{ opacity: 1, x: 0 }}\n                            exit={{ opacity: 0, x: -30 }}\n                            transition={{ duration: 0.25 }}\n                            className=\"space-y-5\"\n                        >\n                            {/* Summary Card */}\n                            <div className=\"rounded-2xl border border-violet-500/15 bg-gradient-to-br from-zinc-900/80 to-violet-950/20 overflow-hidden\">\n                                {/* Files Summary */}\n                                <div className=\"p-5 border-b border-white/5\">\n                                    <div className=\"flex items-center gap-2 mb-3\">\n                                        <Paperclip className=\"w-4 h-4 text-violet-400\" />\n                                        <h3 className=\"text-sm font-semibold text-zinc-200\">Attachments</h3>\n                                        <span className=\"text-xs text-zinc-500 ml-auto\">{formatSize(totalEmailSize)}</span>\n                                    </div>\n                                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2\">\n                                        {emailFiles.map((file, idx) => {\n                                            const Icon = getFileIcon(file.type);\n                                            const colorClass = getFileColor(file.type);\n                                            return (\n                                                <div key={idx} className=\"flex items-center gap-2 p-2 bg-zinc-800/30 rounded-lg\">\n                                                    <div className={`p-1.5 rounded-md border ${colorClass}`}>\n                                                        <Icon className=\"w-3 h-3\" />\n                                                    </div>\n                                                    <span className=\"text-xs truncate flex-1\">{file.name}</span>\n                                                    <span className=\"text-[10px] text-zinc-500 flex-shrink-0\">{formatSize(file.size)}</span>\n                                                </div>\n                                            );\n                                        })}\n                                    </div>\n                                </div>\n\n                                {/* Recipients Summary */}\n                                <div className=\"p-5 border-b border-white/5\">\n                                    <div className=\"flex items-center gap-2 mb-3\">\n                                        <Users className=\"w-4 h-4 text-violet-400\" />\n                                        <h3 className=\"text-sm font-semibold text-zinc-200\">Sending to</h3>\n                                    </div>\n                                    <div className=\"flex flex-wrap gap-2\">\n                                        {recipients.map((r) => (\n                                            <span key={r} className=\"px-3 py-1.5 bg-violet-500/10 border border-violet-500/20 rounded-lg text-sm text-violet-200\">\n                                                {r}\n                                            </span>\n                                        ))}\n                                    </div>\n                                </div>\n\n                                {/* Subject & Message Summary */}\n                                <div className=\"p-5\">\n                                    <div className=\"space-y-3\">\n                                        <div>\n                                            <p className=\"text-[10px] text-zinc-500 uppercase tracking-wider mb-1\">Subject</p>\n                                            <p className=\"text-sm text-zinc-200\">\n                                                {emailSubject || <span className=\"text-zinc-600 italic\">Auto-generated from file names</span>}\n                                            </p>\n                                        </div>\n                                        {emailBody && (\n                                            <div>\n                                                <p className=\"text-[10px] text-zinc-500 uppercase tracking-wider mb-1\">Message</p>\n                                                <p className=\"text-sm text-zinc-300 whitespace-pre-wrap bg-zinc-800/30 p-3 rounded-lg\">\n                                                    {emailBody}\n                                                </p>\n                                            </div>\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Security Badge */}\n                            <div className=\"flex items-center gap-3 p-4 rounded-xl bg-gradient-to-r from-emerald-500/5 to-teal-500/5 border border-emerald-500/10\">\n                                <div className=\"p-2 bg-emerald-500/10 rounded-lg flex-shrink-0\">\n                                    <Shield className=\"w-5 h-5 text-emerald-400\" />\n                                </div>\n                                <div className=\"text-xs text-zinc-400 leading-relaxed\">\n                                    <p className=\"font-semibold text-emerald-300 mb-0.5\">Zero-Knowledge Relay</p>\n                                    Files pass through server memory only — never stored, logged, or inspected.\n                                </div>\n                            </div>\n                        </motion.div>\n                    )}\n                </AnimatePresence>\n\n                {/* ─── Navigation Buttons ──────────────────────────────────── */}\n                <motion.div\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.15 }}\n                    className=\"mt-8 space-y-3\"\n                >\n                    <div className=\"flex gap-3\">\n                        {step > 1 && (\n                            <Button\n                                variant=\"outline\"\n                                className=\"flex-1 h-13 text-sm font-semibold border-zinc-800 text-zinc-300 hover:bg-zinc-800/50 hover:text-white rounded-xl\"\n                                onClick={prevStep}\n                            >\n                                <ArrowLeft className=\"w-4 h-4 mr-2\" /> Back\n                            </Button>\n                        )}\n                        {step < 3 ? (\n                            <Button\n                                className={`flex-1 h-13 text-sm font-bold uppercase tracking-wide rounded-xl shadow-lg transition-all\n                                    ${canProceed(step)\n                                        ? \"bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-500 hover:to-fuchsia-500 text-white shadow-violet-500/20 hover:shadow-violet-500/30\"\n                                        : \"bg-zinc-800 text-zinc-500 cursor-not-allowed shadow-none\"\n                                    }`}\n                                onClick={nextStep}\n                                disabled={!canProceed(step)}\n                            >\n                                Continue <ArrowRight className=\"w-4 h-4 ml-2\" />\n                            </Button>\n                        ) : (\n                            <Button\n                                className=\"flex-1 h-13 text-sm font-bold uppercase tracking-wide bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-500 hover:to-fuchsia-500 text-white shadow-lg shadow-violet-500/20 rounded-xl transition-all hover:shadow-xl hover:shadow-violet-500/30\"\n                                onClick={() => setShowConfirmSend(true)}\n                                disabled={isSending}\n                            >\n                                {isSending ? (\n                                    <><div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2\" /> Sending...</>\n                                ) : (\n                                    <><Send className=\"w-4 h-4 mr-2\" /> Send to {recipients.length} Recipient{recipients.length !== 1 ? \"s\" : \"\"}</>\n                                )}\n                            </Button>\n                        )}\n                    </div>\n                    <p className=\"text-[10px] text-center text-zinc-600\">\n                        By sending, you agree to our{\" \"}\n                        <Link href=\"/terms\" className=\"underline hover:text-violet-400 transition-colors\">Terms</Link> &{\" \"}\n                        <Link href=\"/privacy\" className=\"underline hover:text-violet-400 transition-colors\">Privacy Policy</Link>.\n                    </p>\n                </motion.div>\n            </main>\n\n            {/* ─── Confirm Send Dialog ────────────────────────────────────── */}\n            <Dialog open={showConfirmSend} onOpenChange={setShowConfirmSend}>\n                <DialogContent className=\"sm:max-w-md bg-zinc-950 border border-zinc-800/80 text-zinc-100 shadow-2xl p-0 overflow-hidden rounded-2xl\">\n                    {/* Header */}\n                    <div className=\"relative h-20 bg-gradient-to-r from-violet-950/60 via-fuchsia-950/40 to-violet-950/60 flex items-center justify-center overflow-hidden\">\n                        <div className=\"absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(139,92,246,0.12),transparent)]\" />\n                        <motion.div\n                            initial={{ scale: 0, rotate: -20 }}\n                            animate={{ scale: 1, rotate: 0 }}\n                            transition={{ type: \"spring\", stiffness: 400, damping: 25 }}\n                            className=\"w-12 h-12 bg-violet-500/15 rounded-xl border border-violet-500/25 flex items-center justify-center relative z-10\"\n                        >\n                            <Send className=\"w-6 h-6 text-violet-400\" />\n                        </motion.div>\n                    </div>\n\n                    <div className=\"px-6 pb-6 pt-3\">\n                        <DialogHeader className=\"mb-4\">\n                            <DialogTitle className=\"text-lg font-bold text-center\">Confirm & Send</DialogTitle>\n                            <DialogDescription className=\"text-center text-zinc-500 text-sm\">\n                                Review your delivery before sending\n                            </DialogDescription>\n                        </DialogHeader>\n\n                        {/* Summary */}\n                        <div className=\"space-y-3 mb-5\">\n                            {/* Files */}\n                            <div className=\"bg-zinc-900/60 border border-zinc-800/50 rounded-xl p-3\">\n                                <div className=\"flex items-center gap-2 mb-2\">\n                                    <Paperclip className=\"w-3.5 h-3.5 text-violet-400\" />\n                                    <span className=\"text-xs font-semibold text-zinc-300\">{emailFiles.length} file{emailFiles.length !== 1 ? \"s\" : \"\"}</span>\n                                    <span className=\"text-[10px] text-zinc-600 ml-auto\">{formatSize(totalEmailSize)}</span>\n                                </div>\n                                <div className=\"space-y-1\">\n                                    {emailFiles.slice(0, 3).map((f, i) => {\n                                        const Icon = getFileIcon(f.type);\n                                        const colorClass = getFileColor(f.type);\n                                        return (\n                                            <div key={i} className=\"flex items-center gap-2\">\n                                                <div className={`p-1 rounded border ${colorClass}`}><Icon className=\"w-2.5 h-2.5\" /></div>\n                                                <span className=\"text-xs text-zinc-400 truncate\">{f.name}</span>\n                                                <span className=\"text-[10px] text-zinc-600 ml-auto flex-shrink-0\">{formatSize(f.size)}</span>\n                                            </div>\n                                        );\n                                    })}\n                                    {emailFiles.length > 3 && (\n                                        <p className=\"text-[10px] text-zinc-600 pl-7\">+{emailFiles.length - 3} more</p>\n                                    )}\n                                </div>\n                            </div>\n\n                            {/* Recipients */}\n                            <div className=\"bg-zinc-900/60 border border-zinc-800/50 rounded-xl p-3\">\n                                <div className=\"flex items-center gap-2 mb-2\">\n                                    <Users className=\"w-3.5 h-3.5 text-violet-400\" />\n                                    <span className=\"text-xs font-semibold text-zinc-300\">Sending to</span>\n                                </div>\n                                <div className=\"flex flex-wrap gap-1.5\">\n                                    {recipients.map(r => (\n                                        <span key={r} className=\"px-2 py-1 bg-violet-500/10 border border-violet-500/15 rounded-md text-[11px] text-violet-200\">\n                                            {r}\n                                        </span>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"grid grid-cols-2 gap-3\">\n                            <Button\n                                variant=\"outline\"\n                                className=\"h-11 border-zinc-800 text-zinc-400 hover:bg-zinc-800/50 hover:text-white rounded-xl\"\n                                onClick={() => setShowConfirmSend(false)}\n                            >\n                                Go Back\n                            </Button>\n                            <Button\n                                className=\"h-11 bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-500 hover:to-fuchsia-500 text-white font-bold rounded-xl shadow-lg shadow-violet-500/15\"\n                                onClick={handleSendEmail}\n                            >\n                                <Send className=\"w-4 h-4 mr-1.5\" /> Send Now\n                            </Button>\n                        </div>\n                    </div>\n                </DialogContent>\n            </Dialog>\n\n            {/* ─── Success Dialog ─────────────────────────────────────────── */}\n            <Dialog open={showSpamAlert} onOpenChange={(open) => { setShowSpamAlert(open); if (!open) setSendSummary(null); }}>\n                <DialogContent className=\"sm:max-w-md bg-zinc-950 border border-zinc-800/80 text-zinc-100 shadow-2xl p-0 overflow-hidden rounded-2xl\">\n                    {/* Animated Header */}\n                    <div className=\"relative h-36 bg-gradient-to-br from-emerald-950/50 via-zinc-900/60 to-violet-950/30 flex items-center justify-center overflow-hidden\">\n                        {/* Animated rings */}\n                        <motion.div\n                            initial={{ scale: 0, opacity: 0 }}\n                            animate={{ scale: 3, opacity: 0 }}\n                            transition={{ duration: 1.5, delay: 0.3, ease: \"easeOut\" }}\n                            className=\"absolute w-16 h-16 rounded-full border border-emerald-400/30\"\n                        />\n                        <motion.div\n                            initial={{ scale: 0, opacity: 0 }}\n                            animate={{ scale: 2.5, opacity: 0 }}\n                            transition={{ duration: 1.5, delay: 0.5, ease: \"easeOut\" }}\n                            className=\"absolute w-16 h-16 rounded-full border border-emerald-400/20\"\n                        />\n                        {/* Gradient background pulse */}\n                        <div className=\"absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(16,185,129,0.12),transparent_70%)]\" />\n                        {/* Floating particles */}\n                        {[...Array(6)].map((_, i) => (\n                            <motion.div\n                                key={i}\n                                initial={{ opacity: 0, y: 20, x: (i % 2 === 0 ? -1 : 1) * (10 + i * 8) }}\n                                animate={{\n                                    opacity: [0, 0.6, 0],\n                                    y: [20, -30 - i * 10],\n                                    x: (i % 2 === 0 ? -1 : 1) * (15 + i * 12),\n                                }}\n                                transition={{ duration: 1.5 + i * 0.2, delay: 0.2 + i * 0.1, ease: \"easeOut\" }}\n                                className=\"absolute w-1.5 h-1.5 rounded-full\"\n                                style={{ background: i % 3 === 0 ? \"#34d399\" : i % 3 === 1 ? \"#a78bfa\" : \"#f0abfc\" }}\n                            />\n                        ))}\n                        {/* Main icon */}\n                        <motion.div\n                            initial={{ scale: 0, rotate: -30 }}\n                            animate={{ scale: 1, rotate: 0 }}\n                            transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\n                            className=\"w-18 h-18 relative z-10\"\n                        >\n                            <div className=\"w-[72px] h-[72px] bg-gradient-to-br from-emerald-500/20 to-emerald-500/5 rounded-2xl border border-emerald-500/25 flex items-center justify-center shadow-[0_0_40px_rgba(16,185,129,0.15)]\">\n                                <Mail className=\"w-9 h-9 text-emerald-400\" />\n                            </div>\n                            <motion.div\n                                initial={{ scale: 0 }}\n                                animate={{ scale: 1 }}\n                                transition={{ delay: 0.3, type: \"spring\", stiffness: 500 }}\n                                className=\"absolute -bottom-2 -right-2 bg-emerald-500 rounded-full p-1.5 shadow-lg shadow-emerald-500/30\"\n                            >\n                                <Check className=\"w-3.5 h-3.5 text-white\" />\n                            </motion.div>\n                        </motion.div>\n                    </div>\n\n                    <div className=\"px-6 pb-6 pt-3\">\n                        <DialogHeader className=\"mb-5\">\n                            <motion.div initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.15 }}>\n                                <DialogTitle className=\"text-xl font-bold text-center bg-gradient-to-r from-emerald-300 to-teal-300 bg-clip-text text-transparent\">\n                                    Successfully Delivered!\n                                </DialogTitle>\n                            </motion.div>\n                            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ delay: 0.25 }}>\n                                <DialogDescription className=\"text-center text-zinc-500 text-sm\">\n                                    Your files have been securely relayed via zero-knowledge transfer.\n                                </DialogDescription>\n                            </motion.div>\n                        </DialogHeader>\n\n                        {/* Delivery Receipt */}\n                        {sendSummary && (\n                            <motion.div\n                                initial={{ opacity: 0, y: 10 }}\n                                animate={{ opacity: 1, y: 0 }}\n                                transition={{ delay: 0.3 }}\n                                className=\"bg-zinc-900/50 border border-zinc-800/50 rounded-xl p-4 mb-4 space-y-3\"\n                            >\n                                <div className=\"flex items-center gap-2\">\n                                    <CheckCircle2 className=\"w-3.5 h-3.5 text-emerald-400\" />\n                                    <p className=\"text-[11px] font-mono uppercase tracking-wider text-zinc-500\">Delivery Receipt</p>\n                                </div>\n                                {/* Files row */}\n                                <div className=\"flex items-start gap-3\">\n                                    <div className=\"p-1.5 bg-violet-500/10 rounded-lg mt-0.5\">\n                                        <Paperclip className=\"w-3.5 h-3.5 text-violet-400\" />\n                                    </div>\n                                    <div className=\"flex-1 min-w-0\">\n                                        <p className=\"text-xs text-zinc-400 mb-0.5\">{sendSummary.fileCount} file{sendSummary.fileCount !== 1 ? \"s\" : \"\"} • {formatSize(sendSummary.totalSize)}</p>\n                                        <p className=\"text-[11px] text-zinc-600 truncate\">{sendSummary.fileNames.join(\", \")}</p>\n                                    </div>\n                                </div>\n                                {/* Recipients row */}\n                                <div className=\"flex items-start gap-3\">\n                                    <div className=\"p-1.5 bg-emerald-500/10 rounded-lg mt-0.5\">\n                                        <Users className=\"w-3.5 h-3.5 text-emerald-400\" />\n                                    </div>\n                                    <div className=\"flex-1 min-w-0\">\n                                        <div className=\"flex flex-wrap gap-1\">\n                                            {sendSummary.recipients.map(r => (\n                                                <span key={r} className=\"px-2 py-0.5 bg-emerald-500/8 border border-emerald-500/15 rounded text-[11px] text-emerald-300/80\">\n                                                    {r}\n                                                </span>\n                                            ))}\n                                        </div>\n                                    </div>\n                                </div>\n                                {/* Timestamp */}\n                                <div className=\"flex items-center gap-2 pt-1 border-t border-zinc-800/50\">\n                                    <Clock className=\"w-3 h-3 text-zinc-600\" />\n                                    <p className=\"text-[10px] text-zinc-600\">\n                                        {new Date().toLocaleString(\"en-US\", { hour: \"numeric\", minute: \"2-digit\", hour12: true, month: \"short\", day: \"numeric\" })}\n                                    </p>\n                                </div>\n                            </motion.div>\n                        )}\n\n                        {/* Spam Alert */}\n                        <motion.div\n                            initial={{ opacity: 0, y: 5 }}\n                            animate={{ opacity: 1, y: 0 }}\n                            transition={{ delay: 0.4 }}\n                            className=\"bg-amber-500/5 border border-amber-500/12 rounded-xl p-3.5 mb-5 text-left\"\n                        >\n                            <div className=\"flex items-start gap-2.5\">\n                                <div className=\"p-1.5 bg-amber-500/10 rounded-lg shrink-0\">\n                                    <Inbox className=\"w-3.5 h-3.5 text-amber-500\" />\n                                </div>\n                                <div>\n                                    <p className=\"text-xs font-semibold text-amber-400 mb-0.5\">Check spam folder</p>\n                                    <p className=\"text-[11px] text-amber-200/50 leading-relaxed\">\n                                        If the email doesn't appear within 2 minutes, look in <strong className=\"text-amber-200/70\">Spam</strong> or <strong className=\"text-amber-200/70\">Junk</strong>.\n                                    </p>\n                                </div>\n                            </div>\n                        </motion.div>\n\n                        {/* Actions */}\n                        <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ delay: 0.5 }} className=\"space-y-2.5\">\n                            <Button\n                                className=\"w-full h-12 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white font-bold tracking-wide rounded-xl shadow-lg shadow-emerald-900/20 transition-all\"\n                                onClick={() => setShowSpamAlert(false)}\n                            >\n                                <Check className=\"w-4 h-4 mr-2\" /> Done\n                            </Button>\n                            <Button\n                                variant=\"ghost\"\n                                className=\"w-full h-10 text-zinc-500 hover:text-violet-300 text-xs gap-1.5\"\n                                onClick={() => { setShowSpamAlert(false); setStep(1); }}\n                            >\n                                <ArrowUpRight className=\"w-3.5 h-3.5\" /> Send Another\n                            </Button>\n                        </motion.div>\n                    </div>\n                </DialogContent>\n            </Dialog>\n        </div>\n    );\n}\n"],"names":["ArrowUpRight","createLucideIcon","Inbox","Plus","MAX_EMAIL_SIZE","MAX_FILE_SIZE","MAX_RECIPIENTS","MAX_FILES","STEPS","Paperclip","Users","Eye","isValidEmail","email","formatSize","bytes","getFileIcon","type","ImageIcon","FileVideo","FileAudio","FileArchive","FileText","File","getFileColor","GetItMailedPage","step","setStep","useState","emailFiles","setEmailFiles","isSending","setIsSending","isDragging","setIsDragging","toast","useToast","playSound","useSounds","fileInputRef","useRef","showSpamAlert","setShowSpamAlert","showConfirmSend","setShowConfirmSend","sendSummary","setSendSummary","recipients","setRecipients","recipientInput","setRecipientInput","emailSubject","setEmailSubject","emailBody","setEmailBody","emailError","setEmailError","totalEmailSize","useMemo","acc","file","sizePercent","isOverLimit","addFiles","useCallback","newFiles","oversized","f","currentCount","a","prev","handleFileSelect","e","removeEmailFile","index","_","clearAllFiles","handleDragOver","handleDragLeave","handleDrop","handleAddRecipient","inputs","validToAdd","error","removeRecipient","handleKeyDown","handleRecipientInputChange","val","clean","canProceed","s","nextStep","prevStep","handleSendEmail","summary","formData","finalBody","res","data","err","jsxs","jsx","Link","motion","Mail","Button","ArrowLeft","Sparkles","idx","Icon","isActive","isCompleted","Check","ChevronRight","AnimatePresence","Trash2","colorClass","X","recipient","Input","AlertTriangle","Textarea","r","Shield","ArrowRight","Fragment","Send","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","i","open","CheckCircle2","Clock"],"mappings":"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","x_google_ignoreList":[0,1,2]}